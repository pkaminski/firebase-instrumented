/*! @license Firebase v0.0.0
    License: https://www.firebase.com/terms/terms-of-service.html */
var g,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.sb=function(){return a.rf?a.rf:a.rf=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){function c(){}c.prototype=b.prototype;a.dh=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Xg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function na(){this.Va=-1};function oa(){this.Va=-1;this.Va=64;this.P=[];this.je=[];this.Tf=[];this.Jd=[];this.Jd[0]=128;for(var a=1;a<this.Va;++a)this.Jd[a]=0;this.be=this.$b=0;this.reset()}ma(oa,na);oa.prototype.reset=function(){this.P[0]=1732584193;this.P[1]=4023233417;this.P[2]=2562383102;this.P[3]=271733878;this.P[4]=3285377520;this.be=this.$b=0};
function pa(a,b,c){c||(c=0);var d=a.Tf;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.P[0];c=a.P[1];for(var h=a.P[2],k=a.P[3],m=a.P[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),l=1518500249):(f=c^h^k,l=1859775393):60>e?(f=c&h|k&(c|h),l=2400959708):(f=c^h^k,l=3395469782),f=(b<<
5|b>>>27)+f+m+l+d[e]&4294967295,m=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.P[0]=a.P[0]+b&4294967295;a.P[1]=a.P[1]+c&4294967295;a.P[2]=a.P[2]+h&4294967295;a.P[3]=a.P[3]+k&4294967295;a.P[4]=a.P[4]+m&4294967295}
oa.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Va,d=0,e=this.je,f=this.$b;d<b;){if(0==f)for(;d<=c;)pa(this,a,d),d+=this.Va;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Va){pa(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Va){pa(this,e);f=0;break}}this.$b=f;this.be+=b}};function qa(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function ra(){this.Qd=void 0}
function sa(a,b,c){switch(typeof b){case "string":ta(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],sa(a,a.Qd?a.Qd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),ta(f,c),
c.push(":"),sa(a,a.Qd?a.Qd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var ua={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},va=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function ta(a,b){b.push('"',a.replace(va,function(a){if(a in ua)return ua[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return ua[a]=e+b.toString(16)}),'"')};function t(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function wa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function xa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function ya(a){var b=0,c;for(c in a)b++;return b}function za(a){for(var b in a)return b}function Aa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ba(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ca(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function Da(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function Ea(a,b){var c=Da(a,b,void 0);return c&&a[c]}function Fa(a){for(var b in a)return!1;return!0}function Ga(a){var b={},c;for(c in a)b[c]=a[c];return b}var Ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ia(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ha.length;f++)c=Ha[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Ja(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var u=Array.prototype,Ka=u.indexOf?function(a,b,c){return u.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=u.forEach?function(a,b,c){u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=u.filter?function(a,b,c){return u.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Na=u.map?function(a,b,c){return u.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Oa=u.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=q(b,d));return u.reduce.apply(a,e)}:function(a,b,c,d){var e=c;La(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Pa=u.every?function(a,b,
c){return u.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Qa(a,b){var c=Ra(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Ra(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Sa(a,b){var c=Ka(a,b);0<=c&&u.splice.call(a,c,1)}function Ta(a,b){a.sort(b||Ua)}function Ua(a,b){return a>b?1:a<b?-1:0};var Va;a:{var Wa=aa.navigator;if(Wa){var Xa=Wa.userAgent;if(Xa){Va=Xa;break a}}Va=""};var Ya=-1!=Va.indexOf("Opera")||-1!=Va.indexOf("OPR"),Za=-1!=Va.indexOf("Trident")||-1!=Va.indexOf("MSIE"),$a=-1!=Va.indexOf("Gecko")&&-1==Va.toLowerCase().indexOf("webkit")&&!(-1!=Va.indexOf("Trident")||-1!=Va.indexOf("MSIE")),ab=-1!=Va.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(Ya&&aa.opera)return a=aa.opera.version,ha(a)?a():a;$a?b=/rv\:([^\);]+)(\)|;)/:Za?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:ab&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Va))?a[1]:"");return Za&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var bb=null,cb=null;
function db(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!bb){bb={};cb={};for(var c=0;65>c;c++)bb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),cb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?cb:bb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,r=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|l>>6,l=l&63;m||(l=64,h||(k=64));d.push(c[r],c[f],c[k],c[l])}return d.join("")}
;var eb=eb||"0.0.0";function fb(a){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):qa(a)}function v(a){if("undefined"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];sa(new ra,a,b);a=b.join("")}return a};function w(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function y(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function gb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function hb(a){var b={};gb(a,function(a,d){b[a]=d});return b};function ib(a){var b=[];gb(a,function(a,d){ea(d)?La(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function jb(a){var b={};a=a.replace(/^\?/,"").split("&");La(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function z(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function A(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function B(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(A(a,b,d)+"must be a valid function.");}function kb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(A(a,b,!0)+"must be a valid context object.");};function lb(a,b){this.type=mb;this.source=a;this.path=b}lb.prototype.Vc=function(){return this.path.e()?new lb(this.source,C):new lb(this.source,D(this.path))};lb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function nb(a,b,c){this.type=ob;this.source=a;this.path=b;this.Fa=c}nb.prototype.Vc=function(a){return this.path.e()?new nb(this.source,C,this.Fa.J(a)):new nb(this.source,D(this.path),this.Fa)};nb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Fa.toString()+")"};function pb(a,b){return qb(a.name,b.name)}function rb(a,b){return qb(a,b)};function E(a,b){this.name=a;this.S=b}function sb(a,b){return new E(a,b)};function tb(){this.Ud=F}tb.prototype.j=function(a){return this.Ud.Y(a)};tb.prototype.toString=function(){return this.Ud.toString()};function ub(){this.Cc={}}function vb(a,b,c){n(c)||(c=1);w(a.Cc,b)||(a.Cc[b]=0);a.Cc[b]+=c}ub.prototype.get=function(){return Ga(this.Cc)};function wb(a){this.dg=a;this.Ad=null}wb.prototype.get=function(){var a=this.dg.get(),b=Ga(a);if(this.Ad)for(var c in this.Ad)b[c]-=this.Ad[c];this.Ad=a;return b};function xb(a,b){this.Mf={};this.cd=new wb(a);this.ba=b;var c=1E4+2E4*Math.random();setTimeout(q(this.Gf,this),Math.floor(c))}xb.prototype.Gf=function(){var a=this.cd.get(),b={},c=!1,d;for(d in a)0<a[d]&&w(this.Mf,d)&&(b[d]=a[d],c=!0);c&&this.ba.Se(b);setTimeout(q(this.Gf,this),Math.floor(6E5*Math.random()))};var yb={},zb={};function Ab(a){a=a.toString();yb[a]||(yb[a]=new ub);return yb[a]}function Bb(a,b){var c=a.toString();zb[c]||(zb[c]=b());return zb[c]};function Cb(a){this.Dc=a;this.Nd="firebase:"}g=Cb.prototype;g.set=function(a,b){null==b?this.Dc.removeItem(this.Nd+a):this.Dc.setItem(this.Nd+a,v(b))};g.get=function(a){a=this.Dc.getItem(this.Nd+a);return null==a?null:fb(a)};g.remove=function(a){this.Dc.removeItem(this.Nd+a)};g.sf=!1;g.toString=function(){return this.Dc.toString()};function Db(){this.vc={}}Db.prototype.set=function(a,b){null==b?delete this.vc[a]:this.vc[a]=b};Db.prototype.get=function(a){return w(this.vc,a)?this.vc[a]:null};Db.prototype.remove=function(a){delete this.vc[a]};Db.prototype.sf=!0;function Eb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new Cb(b)}}catch(c){}return new Db}var Fb=Eb("localStorage"),Gb=Eb("sessionStorage");function Hb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.ib=b;this.Ab=c;this.Vg=d;this.Md=e||"";this.Oa=Fb.get("host:"+a)||this.host}function Ib(a,b){b!==a.Oa&&(a.Oa=b,"s-"===a.Oa.substr(0,2)&&Fb.set("host:"+a.host,a.Oa))}Hb.prototype.toString=function(){var a=(this.ib?"https://":"http://")+this.host;this.Md&&(a+="<"+this.Md+">");return a};(function(){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){var b=function(a,b,c){this.chunk=a;this.encoding=b;this.callback=c},c=function(a,c,d,e,l){c.objectMode||!1===c.decodeStrings||"string"!==typeof d||(d=new Buffer(d,e));Buffer.isBuffer(d)&&(e="buffer");var r=c.objectMode?1:d.length;c.length+=r;var x=c.length<c.highWaterMark;x||(c.needDrain=!0);c.writing?c.buffer.push(new b(d,e,l)):(c.writelen=r,c.writecb=l,c.writing=!0,c.sync=!0,a._write(d,e,c.onwrite),c.sync=!1);return x},
d=function(a,b,c,d){var e=!0;if(!Buffer.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var r=new TypeError("Invalid non-string/buffer chunk");a.emit("error",r);process.nextTick(function(){d(r)});e=!1}return e},e=function(a,b){var c=Error("write after end");a.emit("error",c);process.nextTick(function(){b(c)})},a=require("_stream_writable");a.prototype.write=function(a,b,k){var m=this._writableState,l=!1;"function"===typeof b&&(k=b,b=null);Buffer.isBuffer(a)?b="buffer":b||(b=
m.defaultEncoding);"function"!==typeof k&&(k=function(){});m.ended?e(this,k):d(this,m,a,k)&&(l=c(this,m,a,b,k));return l};require("_stream_duplex").prototype.write=a.prototype.write}})();function G(a,b){if(1==arguments.length){this.n=a.split("/");for(var c=0,d=0;d<this.n.length;d++)0<this.n[d].length&&(this.n[c]=this.n[d],c++);this.n.length=c;this.Z=0}else this.n=a,this.Z=b}function H(a,b){var c=I(a);if(null===c)return b;if(c===I(b))return H(D(a),D(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function I(a){return a.Z>=a.n.length?null:a.n[a.Z]}function Jb(a){return a.n.length-a.Z}
function D(a){var b=a.Z;b<a.n.length&&b++;return new G(a.n,b)}function Kb(a){return a.Z<a.n.length?a.n[a.n.length-1]:null}g=G.prototype;g.toString=function(){for(var a="",b=this.Z;b<this.n.length;b++)""!==this.n[b]&&(a+="/"+this.n[b]);return a||"/"};g.slice=function(a){return this.n.slice(this.Z+(a||0))};g.parent=function(){if(this.Z>=this.n.length)return null;for(var a=[],b=this.Z;b<this.n.length-1;b++)a.push(this.n[b]);return new G(a,0)};
g.u=function(a){for(var b=[],c=this.Z;c<this.n.length;c++)b.push(this.n[c]);if(a instanceof G)for(c=a.Z;c<a.n.length;c++)b.push(a.n[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new G(b,0)};g.e=function(){return this.Z>=this.n.length};g.ca=function(a){if(Jb(this)!==Jb(a))return!1;for(var b=this.Z,c=a.Z;b<=this.n.length;b++,c++)if(this.n[b]!==a.n[c])return!1;return!0};
g.contains=function(a){var b=this.Z,c=a.Z;if(Jb(this)>Jb(a))return!1;for(;b<this.n.length;){if(this.n[b]!==a.n[c])return!1;++b;++c}return!0};var C=new G("");function Lb(a,b){this.Qa=a.slice();this.Ga=Math.max(1,this.Qa.length);this.hf=b;for(var c=0;c<this.Qa.length;c++)this.Ga+=Mb(this.Qa[c]);Nb(this)}Lb.prototype.push=function(a){0<this.Qa.length&&(this.Ga+=1);this.Qa.push(a);this.Ga+=Mb(a);Nb(this)};Lb.prototype.pop=function(){var a=this.Qa.pop();this.Ga-=Mb(a);0<this.Qa.length&&--this.Ga};
function Nb(a){if(768<a.Ga)throw Error(a.hf+"has a key path longer than 768 bytes ("+a.Ga+").");if(32<a.Qa.length)throw Error(a.hf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ob(a));}function Ob(a){return 0==a.Qa.length?"":"in property '"+a.Qa.join(".")+"'"};function Pb(a,b){return a&&"object"===typeof a?(K(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Qb(a,b){var c=new Rb;Sb(a,new G(""),function(a,e){c.mc(a,Tb(e,b))});return c}function Tb(a,b){var c=a.C().H(),c=Pb(c,b),d;if(a.L()){var e=Pb(a.Ca(),b);return e!==a.Ca()||c!==a.C().H()?new Ub(e,L(c)):a}d=a;c!==a.C().H()&&(d=d.ga(new Ub(c)));a.R(M,function(a,c){var e=Tb(c,b);e!==c&&(d=d.O(a,e))});return d};function Vb(a,b){this.Ka=a;this.wa=b?b:Wb}g=Vb.prototype;g.Na=function(a,b){return new Vb(this.Ka,this.wa.Na(a,b,this.Ka).X(null,null,!1,null,null))};g.remove=function(a){return new Vb(this.Ka,this.wa.remove(a,this.Ka).X(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.wa;!c.e();){b=this.Ka(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Xb(a,b){for(var c,d=a.wa,e=null;!d.e();){c=a.Ka(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}g.e=function(){return this.wa.e()};g.count=function(){return this.wa.count()};g.Qc=function(){return this.wa.Qc()};g.ec=function(){return this.wa.ec()};g.ia=function(a){return this.wa.ia(a)};
g.Wb=function(a){return new Yb(this.wa,null,this.Ka,!1,a)};g.Xb=function(a,b){return new Yb(this.wa,a,this.Ka,!1,b)};g.Zb=function(a,b){return new Yb(this.wa,a,this.Ka,!0,b)};g.pf=function(a){return new Yb(this.wa,null,this.Ka,!0,a)};function Yb(a,b,c,d,e){this.Sd=e||null;this.Ce=d;this.Pa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Ce?a.left:a.right;else if(0===e){this.Pa.push(a);break}else this.Pa.push(a),a=this.Ce?a.right:a.left}
function N(a){if(0===a.Pa.length)return null;var b=a.Pa.pop(),c;c=a.Sd?a.Sd(b.key,b.value):{key:b.key,value:b.value};if(a.Ce)for(b=b.left;!b.e();)a.Pa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Pa.push(b),b=b.left;return c}function Zb(a){if(0===a.Pa.length)return null;var b;b=a.Pa;b=b[b.length-1];return a.Sd?a.Sd(b.key,b.value):{key:b.key,value:b.value}}function $b(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Wb;this.right=null!=e?e:Wb}g=$b.prototype;
g.X=function(a,b,c,d,e){return new $b(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)};function ac(a){return a.left.e()?a:ac(a.left)}g.Qc=function(){return ac(this).key};g.ec=function(){return this.right.e()?this.key:this.right.ec()};
g.Na=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Na(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Na(a,b,c));return bc(e)};function cc(a){if(a.left.e())return Wb;a.left.fa()||a.left.left.fa()||(a=dc(a));a=a.X(null,null,null,cc(a.left),null);return bc(a)}
g.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=dc(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=ec(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=fc(c),c.left.left.fa()&&(c=ec(c),c=fc(c)));if(0===b(a,c.key)){if(c.right.e())return Wb;d=ac(c.right);c=c.X(d.key,d.value,null,null,cc(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return bc(c)};g.fa=function(){return this.color};
function bc(a){a.right.fa()&&!a.left.fa()&&(a=gc(a));a.left.fa()&&a.left.left.fa()&&(a=ec(a));a.left.fa()&&a.right.fa()&&(a=fc(a));return a}function dc(a){a=fc(a);a.right.left.fa()&&(a=a.X(null,null,null,null,ec(a.right)),a=gc(a),a=fc(a));return a}function gc(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function ec(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}
function fc(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function hc(){}g=hc.prototype;g.X=function(){return this};g.Na=function(a,b){return new $b(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ia=function(){return!1};g.Qc=function(){return null};g.ec=function(){return null};g.fa=function(){return!1};var Wb=new hc;var ic=function(){var a=1;return function(){return a++}}();function K(a,b){if(!a)throw jc(b);}function jc(a){return Error("Firebase ("+eb+") INTERNAL ASSERT FAILED: "+a)}function kc(a){try{return(new Buffer(a,"base64")).toString("utf8")}catch(b){lc("base64Decode failed: ",b)}return null}
function mc(a){var b=nc(a);a=new oa;a.update(b);var b=[],c=8*a.be;56>a.$b?a.update(a.Jd,56-a.$b):a.update(a.Jd,a.Va-(a.$b-56));for(var d=a.Va-1;56<=d;d--)a.je[d]=c&255,c/=256;pa(a,a.je);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.P[d]>>e&255,++c;return db(b)}function oc(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+oc.apply(null,arguments[c]):"object"===typeof arguments[c]?b+v(arguments[c]):b+arguments[c],b+=" ";return b}var pc=null,qc=!0;
function lc(a){!0===qc&&(qc=!1,null===pc&&!0===Gb.get("logging_enabled")&&rc(!0));if(pc){var b=oc.apply(null,arguments);pc(b)}}function sc(a){return function(){lc(a,arguments)}}function tc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+oc.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function uc(a){var b=oc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}
function O(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+oc.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function vc(a){var b="",c="",d="",e="",f=!0,h="https",k=443;if(p(a)){var m=a.indexOf("//");0<=m&&(h=a.substring(0,m-1),a=a.substring(m+2));m=a.indexOf("/");-1===m&&(m=a.length);b=a.substring(0,m);e="";a=a.substring(m).split("/");for(m=0;m<a.length;m++)if(0<a[m].length){var l=a[m];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(r){}e+="/"+l}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);m=b.indexOf(":");0<=m&&(f="https"===h||"wss"===h,k=b.substring(m+1),isFinite(k)&&
(k=String(k)),k=p(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Rg:d,ib:f,scheme:h,jc:e}}function wc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function xc(a){a()}function qb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=yc(a),d=yc(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}
function zc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+v(b));}function Ac(a){if("object"!==typeof a||null===a)return v(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=v(b[d]),c+=":",c+=Ac(a[b[d]]);return c+"}"}function Bc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}
function Cc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else t(a,b)}
function Dc(a){K(!wc(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Ec=/^-?\d{1,10}$/;function yc(a){return Ec.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Fc(a){try{a()}catch(b){setTimeout(function(){O("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function P(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Fc(function(){a.apply(null,c)})}};function Gc(a){var b={},c={},d={},e="";try{var f=a.split("."),b=fb(kc(f[0])||""),c=fb(kc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(h){}return{$g:b,Ac:c,data:d,Og:e}}function Hc(a){a=Gc(a).Ac;return"object"===typeof a&&a.hasOwnProperty("iat")?y(a,"iat"):null}function Ic(a){a=Gc(a);var b=a.Ac;return!!a.Og&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function nc(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,K(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Mb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function Jc(a,b,c){this.type=Kc;this.source=a;this.path=b;this.children=c}Jc.prototype.Vc=function(a){if(this.path.e())return a=this.children.subtree(new G(a)),a.e()?null:a.value?new nb(this.source,C,a.value):new Jc(this.source,C,a);K(I(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new Jc(this.source,D(this.path),this.children)};Jc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function Lc(a,b){this.f=sc("p:rest:");this.F=a;this.Eb=b;this.Aa=null;this.$={}}function Mc(a,b){if(n(b))return"tag$"+b;var c=a.o;K(Nc(c)&&c.g==M,"should have a tag if it's not a default query.");return a.path.toString()}g=Lc.prototype;
g.uf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.va());var f=Mc(a,c),h={};this.$[f]=h;a=Oc(a.o);var k=this;Pc(this,e+".json",a,function(a,b){var r=b;404===a&&(a=r=null);null===a&&k.Eb(e,r,!1,c);y(k.$,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};g.Of=function(a,b){var c=Mc(a,b);delete this.$[c]};g.N=function(a,b){this.Aa=a;var c=Gc(a),d=c.data,c=c.Ac&&c.Ac.exp;b&&b("ok",{auth:d,expires:c})};g.ee=function(a){this.Aa=null;a("ok",null)};g.Ke=function(){};
g.Bf=function(){};g.Hd=function(){};g.put=function(){};g.wf=function(){};g.Se=function(){};
function Pc(a,b,c,d){c=c||{};c.format="export";a.Aa&&(c.auth=a.Aa);var e=(a.F.ib?"https://":"http://")+a.F.host+b+"?"+ib(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=fb(f.responseText)}catch(c){O("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&O("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function Qc(){}var Rc={};function Sc(a){return q(a.compare,a)}Qc.prototype.xd=function(a,b){return 0!==this.compare(new E("[MIN_NAME]",a),new E("[MIN_NAME]",b))};Qc.prototype.Rc=function(){return Tc};function Uc(a){this.bc=a}ma(Uc,Qc);g=Uc.prototype;g.Gc=function(a){return!a.J(this.bc).e()};g.compare=function(a,b){var c=a.S.J(this.bc),d=b.S.J(this.bc),c=c.Bc(d);return 0===c?qb(a.name,b.name):c};g.Nc=function(a,b){var c=L(a),c=F.O(this.bc,c);return new E(b,c)};
g.Oc=function(){var a=F.O(this.bc,Vc);return new E("[MAX_NAME]",a)};g.toString=function(){return this.bc};function Wc(){}ma(Wc,Qc);g=Wc.prototype;g.compare=function(a,b){var c=a.S.C(),d=b.S.C(),c=c.Bc(d);return 0===c?qb(a.name,b.name):c};g.Gc=function(a){return!a.C().e()};g.xd=function(a,b){return!a.C().ca(b.C())};g.Rc=function(){return Tc};g.Oc=function(){return new E("[MAX_NAME]",new Ub("[PRIORITY-POST]",Vc))};g.Nc=function(a,b){var c=L(a);return new E(b,new Ub("[PRIORITY-POST]",c))};
g.toString=function(){return".priority"};var M=new Wc;function Xc(){}ma(Xc,Qc);g=Xc.prototype;g.compare=function(a,b){return qb(a.name,b.name)};g.Gc=function(){throw jc("KeyIndex.isDefinedOn not expected to be called.");};g.xd=function(){return!1};g.Rc=function(){return Tc};g.Oc=function(){return new E("[MAX_NAME]",F)};g.Nc=function(a){K(p(a),"KeyIndex indexValue must always be a string.");return new E(a,F)};g.toString=function(){return".key"};var Yc=new Xc;function Zc(){}ma(Zc,Qc);g=Zc.prototype;
g.compare=function(a,b){var c=a.S.Bc(b.S);return 0===c?qb(a.name,b.name):c};g.Gc=function(){return!0};g.xd=function(a,b){return!a.ca(b)};g.Rc=function(){return Tc};g.Oc=function(){return $c};g.Nc=function(a,b){var c=L(a);return new E(b,c)};g.toString=function(){return".value"};var ad=new Zc;function bd(a,b){this.yd=a;this.cc=b}bd.prototype.get=function(a){var b=y(this.yd,a);if(!b)throw Error("No index defined for "+a);return b===Rc?null:b};function cd(a,b,c){var d=wa(a.yd,function(d,f){var h=y(a.cc,f);K(h,"Missing index implementation for "+f);if(d===Rc){if(h.Gc(b.S)){for(var k=[],m=c.Wb(sb),l=N(m);l;)l.name!=b.name&&k.push(l),l=N(m);k.push(b);return dd(k,Sc(h))}return Rc}h=c.get(b.name);k=d;h&&(k=k.remove(new E(b.name,h)));return k.Na(b,b.S)});return new bd(d,a.cc)}
function ed(a,b,c){var d=wa(a.yd,function(a){if(a===Rc)return a;var d=c.get(b.name);return d?a.remove(new E(b.name,d)):a});return new bd(d,a.cc)}var fd=new bd({".priority":Rc},{".priority":M});function Ub(a,b){this.B=a;K(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.aa=b||F;gd(this.aa);this.zb=null}var hd=["object","boolean","number","string"];g=Ub.prototype;g.L=function(){return!0};g.C=function(){return this.aa};g.ga=function(a){return new Ub(this.B,a)};g.J=function(a){return".priority"===a?this.aa:F};g.Y=function(a){return a.e()?this:".priority"===I(a)?this.aa:F};g.Da=function(){return!1};g.of=function(){return null};
g.O=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:F.O(a,b).ga(this.aa)};g.K=function(a,b){var c=I(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;K(".priority"!==c||1===Jb(a),".priority must be the last token in a path");return this.O(c,F.K(D(a),b))};g.e=function(){return!1};g.Bb=function(){return 0};g.R=function(){return!1};g.H=function(a){return a&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()};
g.hash=function(){if(null===this.zb){var a="";this.aa.e()||(a+="priority:"+id(this.aa.H())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+Dc(this.B):a+this.B;this.zb=mc(a)}return this.zb};g.Ca=function(){return this.B};g.Bc=function(a){if(a===F)return 1;if(a instanceof Q)return-1;K(a.L(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=Ka(hd,b),e=Ka(hd,c);K(0<=d,"Unknown leaf type: "+b);K(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};
g.jb=function(){return this};g.Hc=function(){return!0};g.ca=function(a){return a===this?!0:a.L()?this.B===a.B&&this.aa.ca(a.aa):!1};g.toString=function(){return v(this.H(!0))};function Q(a,b,c){this.m=a;(this.aa=b)&&gd(this.aa);a.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority");this.ub=c;this.zb=null}g=Q.prototype;g.L=function(){return!1};g.C=function(){return this.aa||F};g.ga=function(a){return this.m.e()?this:new Q(this.m,a,this.ub)};g.J=function(a){if(".priority"===a)return this.C();a=this.m.get(a);return null===a?F:a};g.Y=function(a){var b=I(a);return null===b?this:this.J(b).Y(D(a))};g.Da=function(a){return null!==this.m.get(a)};
g.O=function(a,b){K(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ga(b);var c=new E(a,b),d,e;b.e()?(d=this.m.remove(a),c=ed(this.ub,c,this.m)):(d=this.m.Na(a,b),c=cd(this.ub,c,this.m));e=d.e()?F:this.aa;return new Q(d,e,c)};g.K=function(a,b){var c=I(a);if(null===c)return b;K(".priority"!==I(a)||1===Jb(a),".priority must be the last token in a path");var d=this.J(c).K(D(a),b);return this.O(c,d)};g.e=function(){return this.m.e()};g.Bb=function(){return this.m.count()};
var jd=/^(0|[1-9]\d*)$/;g=Q.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.R(M,function(f,h){b[f]=h.H(a);c++;e&&jd.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.C().e()&&(b[".priority"]=this.C().H());return b};g.hash=function(){if(null===this.zb){var a="";this.C().e()||(a+="priority:"+id(this.C().H())+":");this.R(M,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.zb=""===a?"":mc(a)}return this.zb};
g.of=function(a,b,c){return(c=kd(this,c))?(a=Xb(c,new E(a,b)))?a.name:null:Xb(this.m,a)};function ld(a,b){var c;c=(c=kd(a,b))?(c=c.Qc())&&c.name:a.m.Qc();return c?new E(c,a.m.get(c)):null}function md(a,b){var c;c=(c=kd(a,b))?(c=c.ec())&&c.name:a.m.ec();return c?new E(c,a.m.get(c)):null}g.R=function(a,b){var c=kd(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.m.ia(b)};g.Wb=function(a){return this.Xb(a.Rc(),a)};
g.Xb=function(a,b){var c=kd(this,b);if(c)return c.Xb(a,function(a){return a});for(var c=this.m.Xb(a.name,sb),d=Zb(c);null!=d&&0>b.compare(d,a);)N(c),d=Zb(c);return c};g.pf=function(a){return this.Zb(a.Oc(),a)};g.Zb=function(a,b){var c=kd(this,b);if(c)return c.Zb(a,function(a){return a});for(var c=this.m.Zb(a.name,sb),d=Zb(c);null!=d&&0<b.compare(d,a);)N(c),d=Zb(c);return c};g.Bc=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===Vc?-1:0};
g.jb=function(a){if(a===Yc||Ca(this.ub.cc,a.toString()))return this;var b=this.ub,c=this.m;K(a!==Yc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Wb(sb),f=N(c);f;)e=e||a.Gc(f.S),d.push(f),f=N(c);d=e?dd(d,Sc(a)):Rc;e=a.toString();c=Ga(b.cc);c[e]=a;a=Ga(b.yd);a[e]=d;return new Q(this.m,this.aa,new bd(a,c))};g.Hc=function(a){return a===Yc||Ca(this.ub.cc,a.toString())};
g.ca=function(a){if(a===this)return!0;if(a.L())return!1;if(this.C().ca(a.C())&&this.m.count()===a.m.count()){var b=this.Wb(M);a=a.Wb(M);for(var c=N(b),d=N(a);c&&d;){if(c.name!==d.name||!c.S.ca(d.S))return!1;c=N(b);d=N(a)}return null===c&&null===d}return!1};function kd(a,b){return b===Yc?null:a.ub.get(b.toString())}g.toString=function(){return v(this.H(!0))};function L(a,b){if(null===a)return F;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);K(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Ub(a,L(c));if(a instanceof Array){var d=F,e=a;t(e,function(a,b){if(w(e,b)&&"."!==b.substring(0,1)){var c=L(a);if(c.L()||!c.e())d=
d.O(b,c)}});return d.ga(L(c))}var f=[],h=!1,k=a;gb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=L(k[a]);b.e()||(h=h||!b.C().e(),f.push(new E(a,b)))}});if(0==f.length)return F;var m=dd(f,pb,function(a){return a.name},rb);if(h){var l=dd(f,Sc(M));return new Q(m,L(c),new bd({".priority":l},{".priority":M}))}return new Q(m,L(c),fd)}var nd=Math.log(2);
function od(a){this.count=parseInt(Math.log(a+1)/nd,10);this.ff=this.count-1;this.bg=a+1&parseInt(Array(this.count+1).join("1"),2)}function pd(a){var b=!(a.bg&1<<a.ff);a.ff--;return b}
function dd(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],r=c?c(l):l;return new $b(r,l.S,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),x=e(l+1,d),l=a[l],r=c?c(l):l;return new $b(r,l.S,!1,f,x)}a.sort(b);var f=function(b){function d(b,h){var k=r-b,x=r;r-=b;var x=e(k+1,x),k=a[k],J=c?c(k):k,x=new $b(J,k.S,h,null,x);f?f.left=x:l=x;f=x}for(var f=null,l=null,r=a.length,x=0;x<b.count;++x){var J=pd(b),vd=Math.pow(2,b.count-(x+1));J?d(vd,!1):(d(vd,!1),d(vd,!0))}return l}(new od(a.length));
return null!==f?new Vb(d||b,f):new Vb(d||b)}function id(a){return"number"===typeof a?"number:"+Dc(a):"string:"+a}function gd(a){if(a.L()){var b=a.H();K("string"===typeof b||"number"===typeof b||"object"===typeof b&&w(b,".sv"),"Priority must be a string or number.")}else K(a===Vc||a.e(),"priority of unexpected type.");K(a===Vc||a.C().e(),"Priority nodes can't have a priority of their own.")}var F=new Q(new Vb(rb),null,fd);function qd(){Q.call(this,new Vb(rb),F,fd)}ma(qd,Q);g=qd.prototype;
g.Bc=function(a){return a===this?0:1};g.ca=function(a){return a===this};g.C=function(){return this};g.J=function(){return F};g.e=function(){return!1};var Vc=new qd,Tc=new E("[MIN_NAME]",F),$c=new E("[MAX_NAME]",Vc);function rd(){this.set={}}g=rd.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return w(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return Fa(this.set)};g.count=function(){return ya(this.set)};function sd(a,b){t(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];t(this.set,function(b,c){a.push(c)});return a};function Rb(){this.m=this.B=null}Rb.prototype.find=function(a){if(null!=this.B)return this.B.Y(a);if(a.e()||null==this.m)return null;var b=I(a);a=D(a);return this.m.contains(b)?this.m.get(b).find(a):null};Rb.prototype.mc=function(a,b){if(a.e())this.B=b,this.m=null;else if(null!==this.B)this.B=this.B.K(a,b);else{null==this.m&&(this.m=new rd);var c=I(a);this.m.contains(c)||this.m.add(c,new Rb);c=this.m.get(c);a=D(a);c.mc(a,b)}};
function td(a,b){if(b.e())return a.B=null,a.m=null,!0;if(null!==a.B){if(a.B.L())return!1;var c=a.B;a.B=null;c.R(M,function(b,c){a.mc(new G(b),c)});return td(a,b)}return null!==a.m?(c=I(b),b=D(b),a.m.contains(c)&&td(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Sb(a,b,c){null!==a.B?c(b,a.B):a.R(function(a,e){var f=new G(b.toString()+"/"+a);Sb(e,f,c)})}Rb.prototype.R=function(a){null!==this.m&&sd(this.m,function(b,c){a(b,c)})};function ud(a){K(ea(a)&&0<a.length,"Requires a non-empty array");this.Uf=a;this.Mc={}}ud.prototype.de=function(a,b){for(var c=this.Mc[a]||[],d=0;d<c.length;d++)c[d].yc.apply(c[d].La,Array.prototype.slice.call(arguments,1))};ud.prototype.Cb=function(a,b,c){wd(this,a);this.Mc[a]=this.Mc[a]||[];this.Mc[a].push({yc:b,La:c});(a=this.xe(a))&&b.apply(c,a)};ud.prototype.fc=function(a,b,c){wd(this,a);a=this.Mc[a]||[];for(var d=0;d<a.length;d++)if(a[d].yc===b&&(!c||c===a[d].La)){a.splice(d,1);break}};
function wd(a,b){K(Qa(a.Uf,function(a){return a===b}),"Unknown event: "+b)};function xd(a,b){this.value=a;this.children=b||yd}var yd=new Vb(function(a,b){return a===b?0:a<b?-1:1});function zd(a){var b=Ad;t(a,function(a,d){b=b.set(new G(d),a)});return b}g=xd.prototype;g.e=function(){return null===this.value&&this.children.e()};function Bd(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=I(b);a=a.children.get(d);return null!==a?(b=Bd(a,D(b),c),null!=b?{path:(new G(d)).u(b.path),value:b.value}:null):null}
function Cd(a,b){return Bd(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(I(a));return null!==b?b.subtree(D(a)):Ad};g.set=function(a,b){if(a.e())return new xd(b,this.children);var c=I(a),d=(this.children.get(c)||Ad).set(D(a),b),c=this.children.Na(c,d);return new xd(this.value,c)};
g.remove=function(a){if(a.e())return this.children.e()?Ad:new xd(null,this.children);var b=I(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Na(b,a),null===this.value&&b.e()?Ad:new xd(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(I(a));return b?b.get(D(a)):null};
function Dd(a,b,c){if(b.e())return c;var d=I(b);b=Dd(a.children.get(d)||Ad,D(b),c);d=b.e()?a.children.remove(d):a.children.Na(d,b);return new xd(a.value,d)}function Ed(a,b){return Fd(a,C,b)}function Fd(a,b,c){var d={};a.children.ia(function(a,f){d[a]=Fd(f,b.u(a),c)});return c(b,a.value,d)}function Gd(a,b,c){return Hd(a,b,C,c)}function Hd(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=I(b);return(a=a.children.get(e))?Hd(a,D(b),c.u(e),d):null}
function Id(a,b,c){var d=C;if(!b.e()){var e=!0;a.value&&(e=c(d,a.value));!0===e&&(e=I(b),(a=a.children.get(e))&&Jd(a,D(b),d.u(e),c))}}function Jd(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=I(b);return(a=a.children.get(e))?Jd(a,D(b),c.u(e),d):Ad}function Kd(a,b){Ld(a,C,b)}function Ld(a,b,c){a.children.ia(function(a,e){Ld(e,b.u(a),c)});a.value&&c(b,a.value)}function Md(a,b){a.children.ia(function(a,d){d.value&&b(a,d.value)})}var Ad=new xd(null);
xd.prototype.toString=function(){var a={};Kd(this,function(b,c){a[b.toString()]=c.toString()});return v(a)};function Nd(a){this.W=a}var Od=new Nd(new xd(null));function Pd(a,b,c){if(b.e())return new Nd(new xd(c));var d=Cd(a.W,b);if(null!=d){var e=d.path,d=d.value;b=H(e,b);d=d.K(b,c);return new Nd(a.W.set(e,d))}a=Dd(a.W,b,new xd(c));return new Nd(a)}function Qd(a,b,c){var d=a;gb(c,function(a,c){d=Pd(d,b.u(a),c)});return d}Nd.prototype.Pd=function(a){if(a.e())return Od;a=Dd(this.W,a,Ad);return new Nd(a)};function Rd(a,b){var c=Cd(a.W,b);return null!=c?a.W.get(c.path).Y(H(c.path,b)):null}
function Sd(a){var b=[],c=a.W.value;null!=c?c.L()||c.R(M,function(a,c){b.push(new E(a,c))}):a.W.children.ia(function(a,c){null!=c.value&&b.push(new E(a,c.value))});return b}function Td(a,b){if(b.e())return a;var c=Rd(a,b);return null!=c?new Nd(new xd(c)):new Nd(a.W.subtree(b))}Nd.prototype.e=function(){return this.W.e()};Nd.prototype.apply=function(a){return Ud(C,this.W,a)};
function Ud(a,b,c){if(null!=b.value)return c.K(a,b.value);var d=null;b.children.ia(function(b,f){".priority"===b?(K(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Ud(a.u(b),f,c)});c.Y(a).e()||null===d||(c=c.K(a.u(".priority"),d));return c};function Vd(a,b,c){this.type=Wd;this.source=Xd;this.path=a;this.Nb=b;this.Td=c}Vd.prototype.Vc=function(a){if(this.path.e()){if(null!=this.Nb.value)return K(this.Nb.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Nb.subtree(new G(a));return new Vd(C,a,this.Td)}K(I(this.path)===a,"operationForChild called for unrelated child.");return new Vd(D(this.path),this.Nb,this.Td)};
Vd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Td+" affectedTree="+this.Nb+")"};var ob=0,Kc=1,Wd=2,mb=3;function Yd(a,b,c,d){this.te=a;this.mf=b;this.Fb=c;this.Ze=d;K(!d||b,"Tagged queries must be from server.")}var Xd=new Yd(!0,!1,null,!1),Zd=new Yd(!1,!0,null,!1);Yd.prototype.toString=function(){return this.te?"user":this.Ze?"server(queryID="+this.Fb+")":"server"};var $d=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);K(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);K(20===c.length,"nextPushId: Length should be 20.");
return c}}();function ae(){ud.call(this,["online"]);this.hc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.hc||(a.hc=!0,a.de("online",!0))},!1);window.addEventListener("offline",function(){a.hc&&(a.hc=!1,a.de("online",!1))},!1)}}ma(ae,ud);ae.prototype.xe=function(a){K("online"===a,"Unknown event type: "+a);return[this.hc]};ca(ae);function be(){this.children={};this.kd=0;this.value=null}function ce(a,b,c){this.Ed=a?a:"";this.Xc=b?b:null;this.A=c?c:new be}function de(a,b){for(var c=b instanceof G?b:new G(b),d=a,e;null!==(e=I(c));)d=new ce(e,d,y(d.A.children,e)||new be),c=D(c);return d}g=ce.prototype;g.Ca=function(){return this.A.value};function ee(a,b){K("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;fe(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.kd=0;fe(this)};
g.td=function(){return 0<this.A.kd};g.e=function(){return null===this.Ca()&&!this.td()};g.R=function(a){var b=this;t(this.A.children,function(c,d){a(new ce(d,b,c))})};function ge(a,b,c,d){c&&!d&&b(a);a.R(function(a){ge(a,b,!0,d)});c&&d&&b(a)}function he(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new G(null===this.Xc?this.Ed:this.Xc.path()+"/"+this.Ed)};g.name=function(){return this.Ed};g.parent=function(){return this.Xc};
function fe(a){if(null!==a.Xc){var b=a.Xc,c=a.Ed,d=a.e(),e=w(b.A.children,c);d&&e?(delete b.A.children[c],b.A.kd--,fe(b)):d||e||(b.A.children[c]=a.A,b.A.kd++,fe(b))}};var ie=/[\[\].#$\/\u0000-\u001F\u007F]/,je=/[\[\].#$\u0000-\u001F\u007F]/,ke=/^[a-zA-Z][a-zA-Z._\-+]+$/;function le(a){return p(a)&&0!==a.length&&!ie.test(a)}function me(a){return null===a||p(a)||ga(a)&&!wc(a)||ia(a)&&w(a,".sv")}function ne(a,b,c,d){d&&!n(b)||oe(A(a,1,d),b,c)}
function oe(a,b,c){c instanceof G&&(c=new Lb(c,a));if(!n(b))throw Error(a+"contains undefined "+Ob(c));if(ha(b))throw Error(a+"contains a function "+Ob(c)+" with contents: "+b.toString());if(wc(b))throw Error(a+"contains "+b.toString()+" "+Ob(c));if(p(b)&&b.length>10485760/3&&10485760<Mb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+Ob(c)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var d=!1,e=!1;gb(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!le(b)))throw Error(a+" contains an invalid key ("+b+") "+Ob(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);oe(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+Ob(c)+" in addition to actual children.");}}
function pe(a,b,c){if(!ia(b)||ea(b))throw Error(A(a,1,!1)+" must be an Object containing the children to replace.");if(w(b,".value"))throw Error(A(a,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');ne(a,b,c,!1)}
function qe(a,b,c){if(wc(c))throw Error(A(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!me(c))throw Error(A(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function re(a,b,c){if(!c||n(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(A(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function se(a,b,c,d){if((!d||n(c))&&!le(c))throw Error(A(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function te(a,b){if(!p(b)||0===b.length||je.test(b))throw Error(A(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function ue(a,b){if(".info"===I(b))throw Error(a+" failed: Can't modify data under /.info/");}function ve(a,b){if(!p(b))throw Error(A(a,1,!1)+"must be a valid credential (a string).");}function we(a,b,c){if(!p(c))throw Error(A(a,b,!1)+"must be a valid string.");}
function xe(a,b){we(a,1,b);if(!ke.test(b))throw Error(A(a,1,!1)+"'"+b+"' is not a valid authentication provider.");}function ye(a,b,c,d){if(!d||n(c))if(!ia(c)||null===c)throw Error(A(a,b,d)+"must be a valid object.");}function ze(a,b,c){if(!ia(b)||!w(b,c))throw Error(A(a,1,!1)+'must contain the key "'+c+'"');if(!p(y(b,c)))throw Error(A(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function R(a,b,c){this.A=a;this.V=b;this.g=c}R.prototype.H=function(){z("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.H()};R.prototype.val=R.prototype.H;R.prototype.jf=function(){z("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.H(!0)};R.prototype.exportVal=R.prototype.jf;R.prototype.lg=function(){z("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};R.prototype.exists=R.prototype.lg;
R.prototype.u=function(a){z("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));te("Firebase.DataSnapshot.child",a);var b=new G(a),c=this.V.u(b);return new R(this.A.Y(b),c,M)};R.prototype.child=R.prototype.u;R.prototype.Da=function(a){z("Firebase.DataSnapshot.hasChild",1,1,arguments.length);te("Firebase.DataSnapshot.hasChild",a);var b=new G(a);return!this.A.Y(b).e()};R.prototype.hasChild=R.prototype.Da;
R.prototype.C=function(){z("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().H()};R.prototype.getPriority=R.prototype.C;R.prototype.forEach=function(a){z("Firebase.DataSnapshot.forEach",1,1,arguments.length);B("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.L())return!1;var b=this;return!!this.A.R(this.g,function(c,d){return a(new R(d,b.V.u(c),M))})};R.prototype.forEach=R.prototype.forEach;
R.prototype.td=function(){z("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.L()?!1:!this.A.e()};R.prototype.hasChildren=R.prototype.td;R.prototype.name=function(){O("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");z("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};R.prototype.name=R.prototype.name;R.prototype.key=function(){z("Firebase.DataSnapshot.key",0,0,arguments.length);return this.V.key()};
R.prototype.key=R.prototype.key;R.prototype.Bb=function(){z("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Bb()};R.prototype.numChildren=R.prototype.Bb;R.prototype.lc=function(){z("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.V};R.prototype.ref=R.prototype.lc;function Ae(){ud.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Lb=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.Lb&&(c.Lb=b,c.de("visible",b))},!1)}}ma(Ae,ud);Ae.prototype.xe=function(a){K("visible"===a,"Unknown event type: "+a);return[this.Lb]};ca(Ae);function Be(a,b,c){this.A=a;this.ea=b;this.Tb=c}function Ce(a){return a.ea}function De(a){return a.Tb}function Ee(a,b){return b.e()?a.ea&&!a.Tb:Fe(a,I(b))}function Fe(a,b){return a.ea&&!a.Tb||a.A.Da(b)}Be.prototype.j=function(){return this.A};function S(a,b,c,d){this.type=a;this.Ia=b;this.Wa=c;this.Ie=d;this.Od=void 0}function Ge(a){return new S(He,a)}var He="value";function Ie(){this.ab={}}
function Je(a,b){var c=b.type,d=b.Wa;K("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");K(".priority"!==d,"Only non-priority child changes can be tracked.");var e=y(a.ab,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.ab[d]=new S("child_changed",b.Ia,d,e.Ia);else if("child_removed"==c&&"child_added"==f)delete a.ab[d];else if("child_removed"==c&&"child_changed"==f)a.ab[d]=new S("child_removed",e.Ie,d);else if("child_changed"==c&&
"child_added"==f)a.ab[d]=new S("child_added",b.Ia,d);else if("child_changed"==c&&"child_changed"==f)a.ab[d]=new S("child_changed",b.Ia,d,e.Ie);else throw jc("Illegal combination of changes: "+b+" occurred after "+e);}else a.ab[d]=b};function Ke(){}Ke.prototype.nf=function(){return null};Ke.prototype.ve=function(){return null};var Le=new Ke;function Me(a,b,c){this.Qf=a;this.Ja=b;this.Id=c}Me.prototype.nf=function(a){var b=this.Ja.Q;if(Fe(b,a))return b.j().J(a);b=null!=this.Id?new Be(this.Id,!0,!1):this.Ja.w();return this.Qf.wc(a,b)};Me.prototype.ve=function(a,b,c){var d=null!=this.Id?this.Id:Ne(this.Ja);a=this.Qf.ke(d,b,1,c,a);return 0===a.length?null:a[0]};function Oe(a,b,c,d){this.re=b;this.Xd=c;this.Od=d;this.rd=a}Oe.prototype.Yb=function(){var a=this.Xd.lc();return"value"===this.rd?a.path:a.parent().path};Oe.prototype.we=function(){return this.rd};Oe.prototype.Ub=function(){return this.re.Ub(this)};Oe.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+v(this.Xd.jf())};function Pe(a,b,c){this.re=a;this.error=b;this.path=c}Pe.prototype.Yb=function(){return this.path};Pe.prototype.we=function(){return"cancel"};
Pe.prototype.Ub=function(){return this.re.Ub(this)};Pe.prototype.toString=function(){return this.path.toString()+":cancel"};function Qe(a){this.V=a;this.g=a.o.g}function Re(a,b,c,d){var e=[],f=[];La(b,function(b){"child_changed"===b.type&&a.g.xd(b.Ie,b.Ia)&&f.push(new S("child_moved",b.Ia,b.Wa))});Se(a,e,"child_removed",b,d,c);Se(a,e,"child_added",b,d,c);Se(a,e,"child_moved",f,d,c);Se(a,e,"child_changed",b,d,c);Se(a,e,He,b,d,c);return e}function Se(a,b,c,d,e,f){d=Ma(d,function(a){return a.type===c});Ta(d,q(a.fg,a));La(d,function(c){var d=Te(a,c,f);La(e,function(e){e.If(c.type)&&b.push(e.createEvent(d,a.V))})})}
function Te(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Od=c.of(b.Wa,b.Ia,a.g));return b}Qe.prototype.fg=function(a,b){if(null==a.Wa||null==b.Wa)throw jc("Should only compare child_ events.");return this.g.compare(new E(a.Wa,a.Ia),new E(b.Wa,b.Ia))};function Ue(){this.rb=[]}function Ve(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Yb();null===c||f.ca(c.Yb())||(a.rb.push(c),c=null);null===c&&(c=new We(f));c.add(e)}c&&a.rb.push(c)}function Xe(a,b,c){Ve(a,c);Ye(a,function(a){return a.ca(b)})}function Ze(a,b,c){Ve(a,c);Ye(a,function(a){return a.contains(b)||b.contains(a)})}
function Ye(a,b){for(var c=!0,d=0;d<a.rb.length;d++){var e=a.rb[d];if(e)if(e=e.Yb(),b(e)){for(var e=a.rb[d],f=0;f<e.sd.length;f++){var h=e.sd[f];if(null!==h){e.sd[f]=null;var k=h.Ub();pc&&lc("event: "+h.toString());Fc(k)}}a.rb[d]=null}else c=!1}c&&(a.rb=[])}function We(a){this.ra=a;this.sd=[]}We.prototype.add=function(a){this.sd.push(a)};We.prototype.Yb=function(){return this.ra};function $e(a,b,c){this.Ob=a;this.nb=b;this.pb=c||null}g=$e.prototype;g.If=function(a){return"value"===a};g.createEvent=function(a,b){var c=b.o.g;return new Oe("value",this,new R(a.Ia,b.lc(),c))};g.Ub=function(a){var b=this.pb;if("cancel"===a.we()){K(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.Ob;return function(){d.call(b,a.Xd)}};g.df=function(a,b){return this.nb?new Pe(this,a,b):null};
g.matches=function(a){return a instanceof $e?a.Ob&&this.Ob?a.Ob===this.Ob&&a.pb===this.pb:!0:!1};g.qf=function(){return null!==this.Ob};function af(a,b,c){this.ha=a;this.nb=b;this.pb=c}g=af.prototype;g.If=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ha};g.df=function(a,b){return this.nb?new Pe(this,a,b):null};
g.createEvent=function(a,b){K(null!=a.Wa,"Child events should have a childName.");var c=b.lc().u(a.Wa);return new Oe(a.type,this,new R(a.Ia,c,b.o.g),a.Od)};g.Ub=function(a){var b=this.pb;if("cancel"===a.we()){K(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.ha[a.rd];return function(){d.call(b,a.Xd,a.Od)}};
g.matches=function(a){if(a instanceof af){if(!this.ha||!a.ha)return!0;if(this.pb===a.pb){var b=ya(a.ha);if(b===ya(this.ha)){if(1===b){var b=za(a.ha),c=za(this.ha);return c===b&&(!a.ha[b]||!this.ha[c]||a.ha[b]===this.ha[c])}return xa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1};g.qf=function(){return null!==this.ha};function bf(a){this.g=a}g=bf.prototype;g.K=function(a,b,c,d,e,f){K(a.Hc(this.g),"A node must be indexed if only a child is updated");e=a.J(b);if(e.Y(d).ca(c.Y(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Da(b)?Je(f,new S("child_removed",e,b)):K(a.L(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Je(f,new S("child_added",c,b)):Je(f,new S("child_changed",c,b,e)));return a.L()&&c.e()?a:a.O(b,c).jb(this.g)};
g.xa=function(a,b,c){null!=c&&(a.L()||a.R(M,function(a,e){b.Da(a)||Je(c,new S("child_removed",e,a))}),b.L()||b.R(M,function(b,e){if(a.Da(b)){var f=a.J(b);f.ca(e)||Je(c,new S("child_changed",e,b,f))}else Je(c,new S("child_added",e,b))}));return b.jb(this.g)};g.ga=function(a,b){return a.e()?F:a.ga(b)};g.Ma=function(){return!1};g.Vb=function(){return this};function cf(a){this.ye=new bf(a.g);this.g=a.g;var b;a.ma?(b=df(a),b=a.g.Nc(ef(a),b)):b=a.g.Rc();this.bd=b;a.pa?(b=ff(a),a=a.g.Nc(gf(a),b)):a=a.g.Oc();this.Ec=a}g=cf.prototype;g.matches=function(a){return 0>=this.g.compare(this.bd,a)&&0>=this.g.compare(a,this.Ec)};g.K=function(a,b,c,d,e,f){this.matches(new E(b,c))||(c=F);return this.ye.K(a,b,c,d,e,f)};
g.xa=function(a,b,c){b.L()&&(b=F);var d=b.jb(this.g),d=d.ga(F),e=this;b.R(M,function(a,b){e.matches(new E(a,b))||(d=d.O(a,F))});return this.ye.xa(a,d,c)};g.ga=function(a){return a};g.Ma=function(){return!0};g.Vb=function(){return this.ye};function hf(a){this.sa=new cf(a);this.g=a.g;K(a.ja,"Only valid if limit has been set");this.ka=a.ka;this.Gb=!jf(a)}g=hf.prototype;g.K=function(a,b,c,d,e,f){this.sa.matches(new E(b,c))||(c=F);return a.J(b).ca(c)?a:a.Bb()<this.ka?this.sa.Vb().K(a,b,c,d,e,f):kf(this,a,b,c,e,f)};
g.xa=function(a,b,c){var d;if(b.L()||b.e())d=F.jb(this.g);else if(2*this.ka<b.Bb()&&b.Hc(this.g)){d=F.jb(this.g);b=this.Gb?b.Zb(this.sa.Ec,this.g):b.Xb(this.sa.bd,this.g);for(var e=0;0<b.Pa.length&&e<this.ka;){var f=N(b),h;if(h=this.Gb?0>=this.g.compare(this.sa.bd,f):0>=this.g.compare(f,this.sa.Ec))d=d.O(f.name,f.S),e++;else break}}else{d=b.jb(this.g);d=d.ga(F);var k,m,l;if(this.Gb){b=d.pf(this.g);k=this.sa.Ec;m=this.sa.bd;var r=Sc(this.g);l=function(a,b){return r(b,a)}}else b=d.Wb(this.g),k=this.sa.bd,
m=this.sa.Ec,l=Sc(this.g);for(var e=0,x=!1;0<b.Pa.length;)f=N(b),!x&&0>=l(k,f)&&(x=!0),(h=x&&e<this.ka&&0>=l(f,m))?e++:d=d.O(f.name,F)}return this.sa.Vb().xa(a,d,c)};g.ga=function(a){return a};g.Ma=function(){return!0};g.Vb=function(){return this.sa.Vb()};
function kf(a,b,c,d,e,f){var h;if(a.Gb){var k=Sc(a.g);h=function(a,b){return k(b,a)}}else h=Sc(a.g);K(b.Bb()==a.ka,"");var m=new E(c,d),l=a.Gb?ld(b,a.g):md(b,a.g),r=a.sa.matches(m);if(b.Da(c)){for(var x=b.J(c),l=e.ve(a.g,l,a.Gb);null!=l&&(l.name==c||b.Da(l.name));)l=e.ve(a.g,l,a.Gb);e=null==l?1:h(l,m);if(r&&!d.e()&&0<=e)return null!=f&&Je(f,new S("child_changed",d,c,x)),b.O(c,d);null!=f&&Je(f,new S("child_removed",x,c));b=b.O(c,F);return null!=l&&a.sa.matches(l)?(null!=f&&Je(f,new S("child_added",
l.S,l.name)),b.O(l.name,l.S)):b}return d.e()?b:r&&0<=h(l,m)?(null!=f&&(Je(f,new S("child_removed",l.S,l.name)),Je(f,new S("child_added",d,c))),b.O(c,d).O(l.name,F)):b};function lf(){this.Sb=this.pa=this.Ib=this.ma=this.ja=!1;this.ka=0;this.Kb="";this.dc=null;this.vb="";this.ac=null;this.tb="";this.g=M}var mf=new lf;function jf(a){return""===a.Kb?a.ma:"l"===a.Kb}function ef(a){K(a.ma,"Only valid if start has been set");return a.dc}function df(a){K(a.ma,"Only valid if start has been set");return a.Ib?a.vb:"[MIN_NAME]"}function gf(a){K(a.pa,"Only valid if end has been set");return a.ac}
function ff(a){K(a.pa,"Only valid if end has been set");return a.Sb?a.tb:"[MAX_NAME]"}function nf(a){var b=new lf;b.ja=a.ja;b.ka=a.ka;b.ma=a.ma;b.dc=a.dc;b.Ib=a.Ib;b.vb=a.vb;b.pa=a.pa;b.ac=a.ac;b.Sb=a.Sb;b.tb=a.tb;b.g=a.g;return b}g=lf.prototype;g.Ee=function(a){var b=nf(this);b.ja=!0;b.ka=a;b.Kb="";return b};g.Fe=function(a){var b=nf(this);b.ja=!0;b.ka=a;b.Kb="l";return b};g.Ge=function(a){var b=nf(this);b.ja=!0;b.ka=a;b.Kb="r";return b};
g.Yd=function(a,b){var c=nf(this);c.ma=!0;n(a)||(a=null);c.dc=a;null!=b?(c.Ib=!0,c.vb=b):(c.Ib=!1,c.vb="");return c};g.qd=function(a,b){var c=nf(this);c.pa=!0;n(a)||(a=null);c.ac=a;n(b)?(c.Sb=!0,c.tb=b):(c.bh=!1,c.tb="");return c};function of(a,b){var c=nf(a);c.g=b;return c}function pf(a){var b={};a.ma&&(b.sp=a.dc,a.Ib&&(b.sn=a.vb));a.pa&&(b.ep=a.ac,a.Sb&&(b.en=a.tb));if(a.ja){b.l=a.ka;var c=a.Kb;""===c&&(c=jf(a)?"l":"r");b.vf=c}a.g!==M&&(b.i=a.g.toString());return b}
function Nc(a){return!(a.ma||a.pa||a.ja)}function Oc(a){var b={};if(Nc(a)&&a.g==M)return b;var c;a.g===M?c="$priority":a.g===ad?c="$value":a.g===Yc?c="$key":(K(a.g instanceof Uc,"Unrecognized index type!"),c=a.g.toString());b.orderBy=v(c);a.ma&&(b.startAt=v(a.dc),a.Ib&&(b.startAt+=","+v(a.vb)));a.pa&&(b.endAt=v(a.ac),a.Sb&&(b.endAt+=","+v(a.tb)));a.ja&&(jf(a)?b.limitToFirst=a.ka:b.limitToLast=a.ka);return b}g.toString=function(){return v(pf(this))};function T(a,b,c,d){this.k=a;this.path=b;this.o=c;this.ic=d}
function qf(a){var b=null,c=null;a.ma&&(b=ef(a));a.pa&&(c=gf(a));if(a.g===Yc){if(a.ma){if("[MIN_NAME]"!=df(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.pa){if("[MAX_NAME]"!=ff(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===M){if(null!=b&&!me(b)||null!=c&&!me(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(K(a.g instanceof Uc||a.g===ad,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function rf(a){if(a.ma&&a.pa&&a.ja&&(!a.ja||""===a.Kb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function sf(a,b){if(!0===a.ic)throw Error(b+": You can't combine multiple orderBy calls.");}g=T.prototype;g.lc=function(){z("Query.ref",0,0,arguments.length);return new U(this.k,this.path)};
g.Cb=function(a,b,c,d){z("Query.on",2,4,arguments.length);re("Query.on",a,!1);B("Query.on",2,b,!1);var e=tf("Query.on",c,d);if("value"===a)uf(this.k,this,new $e(b,e.cancel||null,e.La||null));else{var f={};f[a]=b;uf(this.k,this,new af(f,e.cancel,e.La))}return b};
g.fc=function(a,b,c){z("Query.off",0,3,arguments.length);re("Query.off",a,!0);B("Query.off",2,b,!0);kb("Query.off",3,c);var d=null,e=null;"value"===a?d=new $e(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new af(e,null,c||null));e=this.k;d=".info"===I(this.path)?e.zd.hb(this,d):e.M.hb(this,d);Xe(e.da,this.path,d)};
g.Ag=function(a,b){function c(h){f&&(f=!1,e.fc(a,c),b.call(d.La,h))}z("Query.once",2,4,arguments.length);re("Query.once",a,!1);B("Query.once",2,b,!1);var d=tf("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Cb(a,c,function(b){e.fc(a,c);d.cancel&&d.cancel.call(d.La,b)})};
g.Ee=function(a){O("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");z("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.o.Ee(a);rf(b);return new T(this.k,this.path,b,this.ic)};
g.Fe=function(a){z("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new T(this.k,this.path,this.o.Fe(a),this.ic)};
g.Ge=function(a){z("Query.limitToLast",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new T(this.k,this.path,this.o.Ge(a),this.ic)};
g.Bg=function(a){z("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');se("Query.orderByChild",1,a,!1);sf(this,"Query.orderByChild");var b=of(this.o,new Uc(a));qf(b);return new T(this.k,
this.path,b,!0)};g.Cg=function(){z("Query.orderByKey",0,0,arguments.length);sf(this,"Query.orderByKey");var a=of(this.o,Yc);qf(a);return new T(this.k,this.path,a,!0)};g.Dg=function(){z("Query.orderByPriority",0,0,arguments.length);sf(this,"Query.orderByPriority");var a=of(this.o,M);qf(a);return new T(this.k,this.path,a,!0)};g.Eg=function(){z("Query.orderByValue",0,0,arguments.length);sf(this,"Query.orderByValue");var a=of(this.o,ad);qf(a);return new T(this.k,this.path,a,!0)};
g.Yd=function(a,b){z("Query.startAt",0,2,arguments.length);ne("Query.startAt",a,this.path,!0);se("Query.startAt",2,b,!0);var c=this.o.Yd(a,b);rf(c);qf(c);if(this.o.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");n(a)||(b=a=null);return new T(this.k,this.path,c,this.ic)};
g.qd=function(a,b){z("Query.endAt",0,2,arguments.length);ne("Query.endAt",a,this.path,!0);se("Query.endAt",2,b,!0);var c=this.o.qd(a,b);rf(c);qf(c);if(this.o.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new T(this.k,this.path,c,this.ic)};
g.ig=function(a,b){z("Query.equalTo",1,2,arguments.length);ne("Query.equalTo",a,this.path,!1);se("Query.equalTo",2,b,!0);if(this.o.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Yd(a,b).qd(a,b)};
g.toString=function(){z("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.n.length;c++)""!==a.n[c]&&(b+="/"+encodeURIComponent(String(a.n[c])));return this.k.toString()+(b||"/")};g.va=function(){var a=Ac(pf(this.o));return"{}"===a?"default":a};
function tf(a,b,c){var d={cancel:null,La:null};if(b&&c)d.cancel=b,B(a,3,d.cancel,!0),d.La=c,kb(a,4,d.La);else if(b)if("object"===typeof b&&null!==b)d.La=b;else if("function"===typeof b)d.cancel=b;else throw Error(A(a,3,!0)+" must either be a cancel callback or a context object.");return d}T.prototype.ref=T.prototype.lc;T.prototype.on=T.prototype.Cb;T.prototype.off=T.prototype.fc;T.prototype.once=T.prototype.Ag;T.prototype.limit=T.prototype.Ee;T.prototype.limitToFirst=T.prototype.Fe;
T.prototype.limitToLast=T.prototype.Ge;T.prototype.orderByChild=T.prototype.Bg;T.prototype.orderByKey=T.prototype.Cg;T.prototype.orderByPriority=T.prototype.Dg;T.prototype.orderByValue=T.prototype.Eg;T.prototype.startAt=T.prototype.Yd;T.prototype.endAt=T.prototype.qd;T.prototype.equalTo=T.prototype.ig;T.prototype.toString=T.prototype.toString;function vf(a,b){this.Q=a;this.Vd=b}function wf(a,b,c,d){return new vf(new Be(b,c,d),a.Vd)}function xf(a){return a.Q.ea?a.Q.j():null}vf.prototype.w=function(){return this.Vd};function Ne(a){return a.Vd.ea?a.Vd.j():null};function yf(a,b){this.ge=a;this.cg=b}function zf(a){this.U=a}
zf.prototype.$a=function(a,b,c,d){var e=new Ie,f;if(b.type===ob)b.source.te?c=Af(this,a,b.path,b.Fa,c,d,e):(K(b.source.mf,"Unknown source."),f=b.source.Ze||De(a.w())&&!b.path.e(),c=Bf(this,a,b.path,b.Fa,c,d,f,e));else if(b.type===Kc)b.source.te?c=Cf(this,a,b.path,b.children,c,d,e):(K(b.source.mf,"Unknown source."),f=b.source.Ze||De(a.w()),c=Df(this,a,b.path,b.children,c,d,f,e));else if(b.type===Wd)if(b.Td)if(b=b.path,null!=c.sc(b))c=a;else{f=new Me(c,a,d);d=a.Q.j();if(b.e()||".priority"===I(b))Ce(a.w())?
b=c.za(Ne(a)):(b=a.w().j(),K(b instanceof Q,"serverChildren would be complete if leaf node"),b=c.xc(b)),b=this.U.xa(d,b,e);else{var h=I(b),k=c.wc(h,a.w());null==k&&Fe(a.w(),h)&&(k=d.J(h));b=null!=k?this.U.K(d,h,k,D(b),f,e):a.Q.j().Da(h)?this.U.K(d,h,F,D(b),f,e):d;b.e()&&Ce(a.w())&&(d=c.za(Ne(a)),d.L()&&(b=this.U.xa(b,d,e)))}d=Ce(a.w())||null!=c.sc(C);c=wf(a,b,d,this.U.Ma())}else c=Ef(this,a,b.path,b.Nb,c,d,e);else if(b.type===mb)d=b.path,b=a.w(),f=b.j(),h=b.ea||d.e(),c=Ff(this,new vf(a.Q,new Be(f,
h,b.Tb)),d,c,Le,e);else throw jc("Unknown operation type: "+b.type);e=Aa(e.ab);d=c;b=d.Q;b.ea&&(f=b.j().L()||b.j().e(),h=xf(a),(0<e.length||!a.Q.ea||f&&!b.j().ca(h)||!b.j().C().ca(h.C()))&&e.push(Ge(xf(d))));return new yf(c,e)};
function Ff(a,b,c,d,e,f){var h=b.Q;if(null!=d.sc(c))return b;var k;if(c.e())K(Ce(b.w()),"If change path is empty, we must have complete server data"),De(b.w())?(e=Ne(b),d=d.xc(e instanceof Q?e:F)):d=d.za(Ne(b)),f=a.U.xa(b.Q.j(),d,f);else{var m=I(c);if(".priority"==m)K(1==Jb(c),"Can't have a priority with additional path components"),f=h.j(),k=b.w().j(),d=d.hd(c,f,k),f=null!=d?a.U.ga(f,d):h.j();else{var l=D(c);Fe(h,m)?(k=b.w().j(),d=d.hd(c,h.j(),k),d=null!=d?h.j().J(m).K(l,d):h.j().J(m)):d=d.wc(m,
b.w());f=null!=d?a.U.K(h.j(),m,d,l,e,f):h.j()}}return wf(b,f,h.ea||c.e(),a.U.Ma())}function Bf(a,b,c,d,e,f,h,k){var m=b.w();h=h?a.U:a.U.Vb();if(c.e())d=h.xa(m.j(),d,null);else if(h.Ma()&&!m.Tb)d=m.j().K(c,d),d=h.xa(m.j(),d,null);else{var l=I(c);if(!Ee(m,c)&&1<Jb(c))return b;var r=D(c);d=m.j().J(l).K(r,d);d=".priority"==l?h.ga(m.j(),d):h.K(m.j(),l,d,r,Le,null)}m=m.ea||c.e();b=new vf(b.Q,new Be(d,m,h.Ma()));return Ff(a,b,c,e,new Me(e,b,f),k)}
function Af(a,b,c,d,e,f,h){var k=b.Q;e=new Me(e,b,f);if(c.e())h=a.U.xa(b.Q.j(),d,h),a=wf(b,h,!0,a.U.Ma());else if(f=I(c),".priority"===f)h=a.U.ga(b.Q.j(),d),a=wf(b,h,k.ea,k.Tb);else{c=D(c);var m=k.j().J(f);if(!c.e()){var l=e.nf(f);d=null!=l?".priority"===Kb(c)&&l.Y(c.parent()).e()?l:l.K(c,d):F}m.ca(d)?a=b:(h=a.U.K(k.j(),f,d,c,e,h),a=wf(b,h,k.ea,a.U.Ma()))}return a}
function Cf(a,b,c,d,e,f,h){var k=b;Kd(d,function(d,l){var r=c.u(d);Fe(b.Q,I(r))&&(k=Af(a,k,r,l,e,f,h))});Kd(d,function(d,l){var r=c.u(d);Fe(b.Q,I(r))||(k=Af(a,k,r,l,e,f,h))});return k}function Gf(a,b){Kd(b,function(b,d){a=a.K(b,d)});return a}
function Df(a,b,c,d,e,f,h,k){if(b.w().j().e()&&!Ce(b.w()))return b;var m=b;c=c.e()?d:Dd(Ad,c,d);var l=b.w().j();c.children.ia(function(c,d){if(l.Da(c)){var J=b.w().j().J(c),J=Gf(J,d);m=Bf(a,m,new G(c),J,e,f,h,k)}});c.children.ia(function(c,d){var J=!Fe(b.w(),c)&&null==d.value;l.Da(c)||J||(J=b.w().j().J(c),J=Gf(J,d),m=Bf(a,m,new G(c),J,e,f,h,k))});return m}
function Ef(a,b,c,d,e,f,h){if(null!=e.sc(c))return b;var k=De(b.w()),m=b.w();if(null!=d.value){if(c.e()&&m.ea||Ee(m,c))return Bf(a,b,c,m.j().Y(c),e,f,k,h);if(c.e()){var l=Ad;m.j().R(Yc,function(a,b){l=l.set(new G(a),b)});return Df(a,b,c,l,e,f,k,h)}return b}l=Ad;Kd(d,function(a){var b=c.u(a);Ee(m,b)&&(l=l.set(a,m.j().Y(b)))});return Df(a,b,c,l,e,f,k,h)};function Hf(a,b){this.V=a;var c=a.o,d=new bf(c.g),c=Nc(c)?new bf(c.g):c.ja?new hf(c):new cf(c);this.Ff=new zf(c);var e=b.w(),f=b.Q,h=d.xa(F,e.j(),null),k=c.xa(F,f.j(),null);this.Ja=new vf(new Be(k,f.ea,c.Ma()),new Be(h,e.ea,d.Ma()));this.Xa=[];this.jg=new Qe(a)}function If(a){return a.V}g=Hf.prototype;g.w=function(){return this.Ja.w().j()};g.bb=function(a){var b=Ne(this.Ja);return b&&(Nc(this.V.o)||!a.e()&&!b.J(I(a)).e())?b.Y(a):null};g.e=function(){return 0===this.Xa.length};g.Mb=function(a){this.Xa.push(a)};
g.hb=function(a,b){var c=[];if(b){K(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;La(this.Xa,function(a){(a=a.df(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Xa.length;++f){var h=this.Xa[f];if(!h.matches(a))e.push(h);else if(a.qf()){e=e.concat(this.Xa.slice(f+1));break}}this.Xa=e}else this.Xa=[];return c};
g.$a=function(a,b,c){a.type===Kc&&null!==a.source.Fb&&(K(Ne(this.Ja),"We should always have a full cache before handling merges"),K(xf(this.Ja),"Missing event cache, even though we have a server cache"));var d=this.Ja;a=this.Ff.$a(d,a,b,c);b=this.Ff;c=a.ge;K(c.Q.j().Hc(b.U.g),"Event snap not indexed");K(c.w().j().Hc(b.U.g),"Server snap not indexed");K(Ce(a.ge.w())||!Ce(d.w()),"Once a server snap is complete, it should never go back");this.Ja=a.ge;return Jf(this,a.cg,a.ge.Q.j(),null)};
function Kf(a,b){var c=a.Ja.Q,d=[];c.j().L()||c.j().R(M,function(a,b){d.push(new S("child_added",b,a))});c.ea&&d.push(Ge(c.j()));return Jf(a,d,c.j(),b)}function Jf(a,b,c,d){return Re(a.jg,b,c,d?[d]:a.Xa)};function Lf(){this.ya={}}g=Lf.prototype;g.e=function(){return Fa(this.ya)};g.$a=function(a,b,c){var d=a.source.Fb;if(null!==d)return d=y(this.ya,d),K(null!=d,"SyncTree gave us an op for an invalid query."),d.$a(a,b,c);var e=[];t(this.ya,function(d){e=e.concat(d.$a(a,b,c))});return e};g.Mb=function(a,b,c,d,e){var f=a.va(),h=y(this.ya,f);if(!h){var h=c.za(e?d:null),k=!1;h?k=!0:(h=d instanceof Q?c.xc(d):F,k=!1);h=new Hf(a,new vf(new Be(h,k,!1),new Be(d,e,!1)));this.ya[f]=h}h.Mb(b);return Kf(h,b)};
g.hb=function(a,b,c){var d=a.va(),e=[],f=[],h=null!=Mf(this);if("default"===d){var k=this;t(this.ya,function(a,d){f=f.concat(a.hb(b,c));a.e()&&(delete k.ya[d],Nc(a.V.o)||e.push(a.V))})}else{var m=y(this.ya,d);m&&(f=f.concat(m.hb(b,c)),m.e()&&(delete this.ya[d],Nc(m.V.o)||e.push(m.V)))}h&&null==Mf(this)&&e.push(new U(a.k,a.path));return{Ig:e,kg:f}};function Nf(a){return Ma(Aa(a.ya),function(a){return!Nc(a.V.o)})}g.bb=function(a){var b=null;t(this.ya,function(c){b=b||c.bb(a)});return b};
function Of(a,b){if(Nc(b.o))return Mf(a);var c=b.va();return y(a.ya,c)}function Mf(a){return Ea(a.ya,function(a){return Nc(a.V.o)})||null};function Pf(){this.T=Od;this.na=[];this.Kc=-1}function Qf(a,b){for(var c=0;c<a.na.length;c++){var d=a.na[c];if(d.gd===b)return d}return null}g=Pf.prototype;
g.Pd=function(a){var b=Ra(this.na,function(b){return b.gd===a});K(0<=b,"removeWrite called with nonexistent writeId.");var c=this.na[b];this.na.splice(b,1);for(var d=c.visible,e=!1,f=this.na.length-1;d&&0<=f;){var h=this.na[f];h.visible&&(f>=b&&Rf(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.T=Sf(this.na,Tf,C),this.Kc=0<this.na.length?this.na[this.na.length-1].gd:-1;else if(c.Fa)this.T=this.T.Pd(c.path);else{var k=this;t(c.children,function(a,b){k.T=k.T.Pd(c.path.u(b))})}return!0}return!1};
g.za=function(a,b,c,d){if(c||d){var e=Td(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Rd(e,C)?(e=Sf(this.na,function(b){return(b.visible||d)&&(!c||!(0<=Ka(c,b.gd)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||F,e.apply(b)):null}e=Rd(this.T,a);if(null!=e)return e;e=Td(this.T,a);return e.e()?b:null!=b||null!=Rd(e,C)?(b=b||F,e.apply(b)):null};
g.xc=function(a,b){var c=F,d=Rd(this.T,a);if(d)d.L()||d.R(M,function(a,b){c=c.O(a,b)});else if(b){var e=Td(this.T,a);b.R(M,function(a,b){var d=Td(e,new G(a)).apply(b);c=c.O(a,d)});La(Sd(e),function(a){c=c.O(a.name,a.S)})}else e=Td(this.T,a),La(Sd(e),function(a){c=c.O(a.name,a.S)});return c};g.hd=function(a,b,c,d){K(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.u(b);if(null!=Rd(this.T,a))return null;a=Td(this.T,a);return a.e()?d.Y(b):a.apply(d.Y(b))};
g.wc=function(a,b,c){a=a.u(b);var d=Rd(this.T,a);return null!=d?d:Fe(c,b)?Td(this.T,a).apply(c.j().J(b)):null};g.sc=function(a){return Rd(this.T,a)};g.ke=function(a,b,c,d,e,f){var h;a=Td(this.T,a);h=Rd(a,C);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.jb(f);if(h.e()||h.L())return[];b=[];a=Sc(f);e=e?h.Zb(c,f):h.Xb(c,f);for(f=N(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=N(e);return b};
function Rf(a,b){return a.Fa?a.path.contains(b):!!Da(a.children,function(c,d){return a.path.u(d).contains(b)})}function Tf(a){return a.visible}
function Sf(a,b,c){for(var d=Od,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Fa)c.contains(h)?(h=H(c,h),d=Pd(d,h,f.Fa)):h.contains(c)&&(h=H(h,c),d=Pd(d,C,f.Fa.Y(h)));else if(f.children)if(c.contains(h))h=H(c,h),d=Qd(d,h,f.children);else{if(h.contains(c))if(h=H(h,c),h.e())d=Qd(d,C,f.children);else if(f=y(f.children,I(h)))f=f.Y(D(h)),d=Pd(d,C,f)}else throw jc("WriteRecord should have .snap or .children");}}return d}function Uf(a,b){this.Jb=a;this.W=b}g=Uf.prototype;
g.za=function(a,b,c){return this.W.za(this.Jb,a,b,c)};g.xc=function(a){return this.W.xc(this.Jb,a)};g.hd=function(a,b,c){return this.W.hd(this.Jb,a,b,c)};g.sc=function(a){return this.W.sc(this.Jb.u(a))};g.ke=function(a,b,c,d,e){return this.W.ke(this.Jb,a,b,c,d,e)};g.wc=function(a,b){return this.W.wc(this.Jb,a,b)};g.u=function(a){return new Uf(this.Jb.u(a),this.W)};function Vf(a){this.ta=Ad;this.gb=new Pf;this.Ye={};this.kc={};this.Lc=a}function Wf(a,b,c,d,e){var f=a.gb,h=e;K(d>f.Kc,"Stacking an older write on top of newer ones");n(h)||(h=!0);f.na.push({path:b,Fa:c,gd:d,visible:h});h&&(f.T=Pd(f.T,b,c));f.Kc=d;return e?Xf(a,new nb(Xd,b,c)):[]}function Yf(a,b,c,d){var e=a.gb;K(d>e.Kc,"Stacking an older merge on top of newer ones");e.na.push({path:b,children:c,gd:d,visible:!0});e.T=Qd(e.T,b,c);e.Kc=d;c=zd(c);return Xf(a,new Jc(Xd,b,c))}
function Zf(a,b,c){c=c||!1;var d=Qf(a.gb,b);if(a.gb.Pd(b)){var e=Ad;null!=d.Fa?e=e.set(C,!0):gb(d.children,function(a,b){e=e.set(new G(a),b)});return Xf(a,new Vd(d.path,e,c))}return[]}function $f(a,b,c){c=zd(c);return Xf(a,new Jc(Zd,b,c))}function ag(a,b,c,d){d=bg(a,d);if(null!=d){var e=cg(d);d=e.path;e=e.Fb;b=H(d,b);c=new nb(new Yd(!1,!0,e,!0),b,c);return dg(a,d,c)}return[]}
function eg(a,b,c,d){if(d=bg(a,d)){var e=cg(d);d=e.path;e=e.Fb;b=H(d,b);c=zd(c);c=new Jc(new Yd(!1,!0,e,!0),b,c);return dg(a,d,c)}return[]}
Vf.prototype.Mb=function(a,b){var c=a.path,d=null,e=!1;Id(this.ta,c,function(a,b){var f=H(a,c);d=b.bb(f);e=e||null!=Mf(b);return!d});var f=this.ta.get(c);f?(e=e||null!=Mf(f),d=d||f.bb(C)):(f=new Lf,this.ta=this.ta.set(c,f));var h;null!=d?h=!0:(h=!1,d=F,Md(this.ta.subtree(c),function(a,b){var c=b.bb(C);c&&(d=d.O(a,c))}));var k=null!=Of(f,a);if(!k&&!Nc(a.o)){var m=fg(a);K(!(m in this.kc),"View does not exist, but we have a tag");var l=gg++;this.kc[m]=l;this.Ye["_"+l]=m}h=f.Mb(a,b,new Uf(c,this.gb),
d,h);k||e||(f=Of(f,a),h=h.concat(hg(this,a,f)));return h};
Vf.prototype.hb=function(a,b,c){var d=a.path,e=this.ta.get(d),f=[];if(e&&("default"===a.va()||null!=Of(e,a))){f=e.hb(a,b,c);e.e()&&(this.ta=this.ta.remove(d));e=f.Ig;f=f.kg;b=-1!==Ra(e,function(a){return Nc(a.o)});var h=Gd(this.ta,d,function(a,b){return null!=Mf(b)});if(b&&!h&&(d=this.ta.subtree(d),!d.e()))for(var d=ig(d),k=0;k<d.length;++k){var m=d[k],l=m.V,m=jg(this,m);this.Lc.Ve(l,kg(this,l),m.ud,m.G)}if(!h&&0<e.length&&!c)if(b)this.Lc.Zd(a,null);else{var r=this;La(e,function(a){a.va();var b=r.kc[fg(a)];
r.Lc.Zd(a,b)})}lg(this,e)}return f};Vf.prototype.za=function(a,b){var c=this.gb,d=Gd(this.ta,a,function(b,c){var d=H(b,a);if(d=c.bb(d))return d});return c.za(a,d,b,!0)};function ig(a){return Ed(a,function(a,c,d){if(c&&null!=Mf(c))return[Mf(c)];var e=[];c&&(e=Nf(c));t(d,function(a){e=e.concat(a)});return e})}function lg(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!Nc(d.o)){var d=fg(d),e=a.kc[d];delete a.kc[d];delete a.Ye["_"+e]}}}
function hg(a,b,c){var d=b.path,e=kg(a,b);c=jg(a,c);b=a.Lc.Ve(b,e,c.ud,c.G);d=a.ta.subtree(d);if(e)K(null==Mf(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Ed(d,function(a,b,c){if(!a.e()&&b&&null!=Mf(b))return[If(Mf(b))];var d=[];b&&(d=d.concat(Na(Nf(b),function(a){return a.V})));t(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Lc.Zd(c,kg(a,c));return b}
function jg(a,b){var c=b.V,d=kg(a,c);return{ud:function(){return(b.w()||F).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=bg(a,d)){var h=cg(b);b=h.path;h=h.Fb;f=H(b,f);f=new lb(new Yd(!1,!0,h,!0),f);b=dg(a,b,f)}else b=[]}else b=Xf(a,new lb(Zd,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+": "+f);f.code=b.toUpperCase();return a.hb(c,null,f)}}}function fg(a){return a.path.toString()+"$"+a.va()}function cg(a){var b=a.indexOf("$");K(-1!==b&&b<a.length-1,"Bad queryKey.");return{Fb:a.substr(b+1),path:new G(a.substr(0,b))}}function bg(a,b){var c=a.Ye,d="_"+b;return d in c?c[d]:void 0}function kg(a,b){var c=fg(b);return y(a.kc,c)}var gg=1;
function dg(a,b,c){var d=a.ta.get(b);K(d,"Missing sync point for query tag that we're tracking");return d.$a(c,new Uf(b,a.gb),null)}function Xf(a,b){return mg(a,b,a.ta,null,new Uf(C,a.gb))}function mg(a,b,c,d,e){if(b.path.e())return ng(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.bb(C));var h=[],k=I(b.path),m=b.Vc(k);if((c=c.children.get(k))&&m)var l=d?d.J(k):null,k=e.u(k),h=h.concat(mg(a,m,c,l,k));f&&(h=h.concat(f.$a(b,e,d)));return h}
function ng(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.bb(C));var h=[];c.children.ia(function(c,f){var l=d?d.J(c):null,r=e.u(c),x=b.Vc(c);x&&(h=h.concat(ng(a,x,f,l,r)))});f&&(h=h.concat(f.$a(b,e,d)));return h};var og="auth.firebase.com";var pg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function V(a){var b=Error(y(pg,a),a);b.code=a;return b};function qg(a,b,c){this.ld=a||{};this.ce=b||{};this.Za=c||{};this.ld.remember||(this.ld.remember="default")}var rg=["remember","redirectTo"];function sg(a){var b={},c={};gb(a||{},function(a,e){0<=Ka(rg,a)?b[a]=e:c[a]=e});return new qg(b,{},c)};function tg(a,b){this.Oe=["session",a.Md,a.Ab].join(":");this.$d=b}tg.prototype.set=function(a,b){if(!b)if(this.$d.length)b=this.$d[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Oe,a)};tg.prototype.get=function(){var a=Na(this.$d,q(this.og,this)),a=Ma(a,function(a){return null!==a});Ta(a,function(a,c){return Hc(c.token)-Hc(a.token)});return 0<a.length?a.shift():null};tg.prototype.og=function(a){try{var b=a.get(this.Oe);if(b&&b.token)return b}catch(c){}return null};
tg.prototype.clear=function(){var a=this;La(this.$d,function(b){b.remove(a.Oe)})};function ug(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function vg(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function wg(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function xg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function yg(a){var b="";try{a=a.replace("#","");var c=jb(a);c&&w(c,"__firebase_request_key")&&(b=y(c,"__firebase_request_key"))}catch(d){}return b}function zg(){var a=vc(og);return a.scheme+"://"+a.host+"/v2"}function Ag(a){return zg()+"/"+a+"/auth/channel"};function Bg(a){a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Bg.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;Fa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);wg(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+ib(b);
vg(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Cg(f,a,c)};
function Cg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(V("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(V("NETWORK_ERROR"))}},0)}Bg.isAvailable=function(){return"undefined"!==typeof document&&null!=document.createElement};
Bg.prototype.Pb=function(){return"json"};function Dg(a){this.oc=Ja()+Ja()+Ja();this.Df=a}Dg.prototype.open=function(a,b){Gb.set("redirect_request_id",this.oc);Gb.set("redirect_request_id",this.oc);b.requestId=this.oc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+ib(b);window.location=a};Dg.isAvailable=function(){return!1};Dg.prototype.Pb=function(){return"redirect"};function Eg(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fg(){var a=Eg();if(""===a)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function Gg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Gg.prototype.open=function(a,b,c){var d=vc(a),e="http"===d.scheme?require("http"):require("https");a=this.options.method;var f,h={Accept:"application/json;text/plain"};Ia(h,this.options.headers);d={host:d.host.split(":")[0],port:d.port,path:d.jc,method:this.options.method.toUpperCase()};if("GET"===a)d.path+=(/\?/.test(d.path)?"":"?")+ib(b),f=null;else{var k=this.options.headers.content_type;"application/json"===k&&(f=v(b));"application/x-www-form-urlencoded"===k&&(f=ib(b));h["Content-Length"]=Buffer.byteLength(f,
"utf8")}d.headers=h;b=e.request(d,function(a){var b="";a.setEncoding("utf8");a.on("data",function(a){b+=a});a.on("end",function(){try{b=fb(b+"")}catch(a){}c&&(c(null,b),c=null)})});"GET"!==a&&b.write(f);b.on("error",function(a){a&&a.code&&("ENOTFOUND"===a.code||"ENETDOWN"===a.code)?c(V("NETWORK_ERROR")):c(V("SERVER_ERROR"));c=null});b.end()};Gg.isAvailable=function(){return!0};Gg.prototype.Pb=function(){return"json"};function Hg(a){var b;(b=!a.window_features)||(b=Eg(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android"));b&&(a.window_features=void 0);a.window_name||(a.window_name="_blank");this.options=a}
Hg.prototype.open=function(a,b,c){function d(a){h&&(document.body.removeChild(h),h=void 0);r&&(r=clearInterval(r));wg(window,"message",e);wg(window,"unload",d);if(l&&!a)try{l.close()}catch(b){k.postMessage("die",m)}l=k=void 0}function e(a){if(a.origin===m)try{var b=fb(a.data);"ready"===b.a?k.postMessage(x,m):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=Fg(),h,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var m=xg(a);if(m!==xg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(h=document.createElement("iframe"),h.setAttribute("src",this.options.relay_url),h.style.display="none",h.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(h),k=h.contentWindow);a+=(/\?/.test(a)?"":"?")+ib(b);var l=window.open(a,this.options.window_name,this.options.window_features);k||(k=l);var r=setInterval(function(){l&&l.closed&&
(d(!1),c&&(c(V("USER_CANCELLED")),c=null))},500),x=v({a:"request",d:b});vg(window,"unload",d);vg(window,"message",e)}};Hg.isAvailable=function(){return!1};Hg.prototype.Pb=function(){return"popup"};function Ig(a){var b=this;this.zc=a;this.ae="*";Fg()?this.Pc=this.wd=ug():(this.Pc=window.opener,this.wd=window);if(!b.Pc)throw"Unable to find relay frame";vg(this.wd,"message",q(this.gc,this));vg(this.wd,"message",q(this.Af,this));try{Jg(this,{a:"ready"})}catch(c){vg(this.Pc,"load",function(){Jg(b,{a:"ready"})})}vg(window,"unload",q(this.yg,this))}function Jg(a,b){b=v(b);Fg()?a.Pc.doPost(b,a.ae):a.Pc.postMessage(b,a.ae)}
Ig.prototype.gc=function(a){var b=this,c;try{c=fb(a.data)}catch(d){}c&&"request"===c.a&&(wg(window,"message",this.gc),this.ae=a.origin,this.zc&&setTimeout(function(){b.zc(b.ae,c.d,function(a,c){b.ag=!c;b.zc=void 0;Jg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};Ig.prototype.yg=function(){try{wg(this.wd,"message",this.Af)}catch(a){}this.zc&&(Jg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(b){}};Ig.prototype.Af=function(a){if(this.ag&&"die"===a.data)try{window.close()}catch(b){}};function Kg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Kg.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),h;vg(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=fb(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(V("SERVER_ERROR")):c(V("NETWORK_ERROR"));c=null;wg(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+ib(b),h=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(h=v(b));"application/x-www-form-urlencoded"===k&&(h=ib(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};Ia(a,this.options.headers);for(var m in a)e.setRequestHeader(m,a[m]);e.send(h)};Kg.isAvailable=function(){return!1};Kg.prototype.Pb=function(){return"json"};function Lg(a){this.oc=Ja()+Ja()+Ja();this.Df=a}
Lg.prototype.open=function(a,b,c){function d(){c&&(c(V("USER_CANCELLED")),c=null)}var e=this,f=vc(og),h;b.requestId=this.oc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=ib(b);(h=window.open(a,"_blank","location=no"))&&ha(h.addEventListener)?(h.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var l=document.createElement("a");l.href=a.url;b=l.host===f.host&&"/blank/page.html"===l.pathname;break a}catch(r){}b=!1}b&&(a=yg(a.url),h.removeEventListener("exit",
d),h.close(),a=new qg(null,null,{requestId:e.oc,requestKey:a}),e.Df.requestWithCredential("/auth/session",a,c),c=null)}),h.addEventListener("exit",d)):c(V("TRANSPORT_UNAVAILABLE"))};Lg.isAvailable=function(){return!1};Lg.prototype.Pb=function(){return"redirect"};function Mg(a,b,c,d){ud.call(this,["auth_status"]);this.F=a;this.bf=b;this.Tg=c;this.Je=d;this.rc=new tg(a,[Fb,Gb]);this.kb=null;this.Qe=!1;Ng(this)}ma(Mg,ud);g=Mg.prototype;g.ue=function(){return this.kb||null};function Ng(a){Gb.get("redirect_request_id")&&Og(a);var b=a.rc.get();b&&b.token?(Pg(a,b),a.bf(b.token,function(c,d){Qg(a,c,d,!1,b.token,b)},function(b,d){Rg(a,"resumeSession()",b,d)})):Pg(a,null)}
function Sg(a,b,c,d,e,f){"firebaseio-demo.com"===a.F.domain&&O("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.bf(b,function(f,k){Qg(a,f,k,!0,b,c,d||{},e)},function(b,c){Rg(a,"auth()",b,c,f)})}function Tg(a,b){a.rc.clear();Pg(a,null);a.Tg(function(a,d){if("ok"===a)P(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;P(b,f)}})}
function Qg(a,b,c,d,e,f,h,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Ic(e)?e:"",c=null,b&&w(b,"uid")?c=y(b,"uid"):w(f,"uid")&&(c=y(f,"uid")),f.uid=c,c="custom",b&&w(b,"provider")?c=y(b,"provider"):w(f,"provider")&&(c=y(f,"provider")),f.provider=c,a.rc.clear(),Ic(e)&&(h=h||{},c=Fb,"sessionOnly"===h.remember&&(c=Gb),"none"!==h.remember&&a.rc.set(f,c)),Pg(a,f)),P(k,null,f)):(a.rc.clear(),Pg(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,P(k,f))}
function Rg(a,b,c,d,e){O(b+" was canceled: "+d);a.rc.clear();Pg(a,null);a=Error(d);a.code=c.toUpperCase();P(e,a)}function Ug(a,b,c,d,e){Vg(a);c=new qg(d||{},{},c||{});Wg(a,[Gg],"/auth/"+b,c,e)}
function Xg(a,b,c,d){Vg(a);var e=[Hg,Lg];c=sg(c);"anonymous"===b||"password"===b?setTimeout(function(){P(d,V("TRANSPORT_UNAVAILABLE"))},0):(c.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.ce.relay_url=Ag(a.F.Ab),c.ce.requestWithCredential=q(a.pc,a),Wg(a,e,"/auth/"+b,c,d))}
function Og(a){var b=Gb.get("redirect_request_id");if(b){var c=Gb.get("redirect_client_options");Gb.remove("redirect_request_id");Gb.remove("redirect_client_options");var d=[Kg,Bg],b={requestId:b,requestKey:yg(document.location.hash)},c=new qg(c,{},b);a.Qe=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Wg(a,d,"/auth/session",c,function(){this.Qe=!1}.bind(a))}}
g.pe=function(a,b){Vg(this);var c=sg(a);c.Za._method="POST";this.pc("/users",c,function(a,c){a?P(b,a):P(b,a,c)})};g.Re=function(a,b){var c=this;Vg(this);var d="/users/"+encodeURIComponent(a.email),e=sg(a);e.Za._method="DELETE";this.pc(d,e,function(a,d){!a&&d&&d.uid&&c.kb&&c.kb.uid&&c.kb.uid===d.uid&&Tg(c);P(b,a)})};g.me=function(a,b){Vg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=sg(a);d.Za._method="PUT";d.Za.password=a.newPassword;this.pc(c,d,function(a){P(b,a)})};
g.le=function(a,b){Vg(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=sg(a);d.Za._method="PUT";d.Za.email=a.newEmail;d.Za.password=a.password;this.pc(c,d,function(a){P(b,a)})};g.Te=function(a,b){Vg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=sg(a);d.Za._method="POST";this.pc(c,d,function(a){P(b,a)})};g.pc=function(a,b,c){Yg(this,[Gg],a,b,c)};
function Wg(a,b,c,d,e){Yg(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Sg(a,c.token,c,d.ld,function(a,b){a?P(e,a):P(e,null,b)}):P(e,b||V("UNKNOWN_ERROR"))})}
function Yg(a,b,c,d,e){b=Ma(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){P(e,V("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.ce),d=hb(d.Za),d.v="node-"+eb,d.transport=b.Pb(),d.suppress_status_codes=!0,a=zg()+"/"+a.F.Ab+c,b.open(a,d,function(a,b){if(a)P(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;P(e,c)}else P(e,null,b)}))}
function Pg(a,b){var c=null!==a.kb||null!==b;a.kb=b;c&&a.de("auth_status",b);a.Je(null!==b)}g.xe=function(a){K("auth_status"===a,'initial event must be of type "auth_status"');return this.Qe?null:[this.kb]};function Vg(a){var b=a.F;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===og)throw Error("This custom Firebase server ('"+a.F.domain+"') does not support delegated login.");};function Zg(a){this.gc=a;this.Ld=[];this.Rb=0;this.ne=-1;this.Db=null}function $g(a,b,c){a.ne=b;a.Db=c;a.ne<a.Rb&&(a.Db(),a.Db=null)}function ah(a,b,c){for(a.Ld[b]=c;a.Ld[a.Rb];){var d=a.Ld[a.Rb];delete a.Ld[a.Rb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Fc(function(){f.gc(d[e])})}if(a.Rb===a.ne){a.Db&&(clearTimeout(a.Db),a.Db(),a.Db=null);break}a.Rb++}};function bh(a,b,c){this.oe=a;this.f=sc(a);this.lb=this.mb=0;this.Ua=Ab(b);this.Wd=c;this.Fc=!1;this.fd=function(a){b.host!==b.Oa&&(a.ns=b.Ab);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.ib?"https://":"http://")+b.Oa+"/.lp?"+c.join("&")}}var ch,dh;
bh.prototype.open=function(a,b){this.ef=0;this.la=b;this.zf=new Zg(a);this.xb=!1;var c=this;this.ob=setTimeout(function(){c.f("Timed out trying to connect.");c.eb();c.ob=null},Math.floor(3E4));xc(function(){if(!c.xb){c.Sa=new eh(function(a,b,d,k,m){fh(c,arguments);if(c.Sa)if(c.ob&&(clearTimeout(c.ob),c.ob=null),c.Fc=!0,"start"==a)c.id=b,c.Fg=d;else if("close"===a)b?(c.Sa.Lf=!1,$g(c.zf,b,function(){c.eb()})):c.eb();else throw Error("Unrecognized command received: "+a);},function(a,b){fh(c,arguments);
ah(c.zf,a,b)},function(){c.eb()},c.fd);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Sa.Ug&&(a.cb=c.Sa.Ug);a.v="5";c.Wd&&(a.s=c.Wd);a=c.fd(a);c.f("Connecting via long-poll to "+a);gh(c.Sa,a,function(){})}})};bh.prototype.start=function(){var a=this.Sa,b=this.Fg;a.He=this.id;a.yf=b;for(a.ie=!0;hh(a););};
bh.isAvailable=function(){return ch||!dh&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Wg)&&!1};g=bh.prototype;g.Bd=function(){};g.ad=function(){this.xb=!0;this.Sa&&(this.Sa.close(),this.Sa=null);this.xf&&(document.body.removeChild(this.xf),this.xf=null);this.ob&&(clearTimeout(this.ob),this.ob=null)};
g.eb=function(){this.xb||(this.f("Longpoll is closing itself"),this.ad(),this.la&&(this.la(this.Fc),this.la=null))};g.close=function(){this.xb||(this.f("Longpoll is being closed."),this.ad())};g.send=function(a){a=v(a);this.mb+=a.length;vb(this.Ua,"bytes_sent",a.length);a=nc(a);a=db(a,!0);a=Bc(a,1840);for(var b=0;b<a.length;b++){var c=this.Sa;c.Yc.push({Kg:this.ef,Sg:a.length,gf:a[b]});c.ie&&hh(c);this.ef++}};function fh(a,b){var c=v(b).length;a.lb+=c;vb(a.Ua,"bytes_received",c)}
function eh(a,b,c,d){this.fd=d;this.fb=c;this.Ne=new rd;this.Yc=[];this.qe=Math.floor(1E8*Math.random());this.Lf=!0;this.eg=a;this.wg=b}eh.prototype.close=function(){this.ie=!1;if(this.Dd){this.Dd.Yg.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Dd&&(document.body.removeChild(a.Dd),a.Dd=null)},Math.floor(0))}if(this.He){var b={disconn:"t"};b.id=this.He;b.pw=this.yf;b=this.fd(b);ih(b)}if(b=this.fb)this.fb=null,b()};
function hh(a){if(a.ie&&a.Lf&&a.Ne.count()<(0<a.Yc.length?2:1)){a.qe++;var b={};b.id=a.He;b.pw=a.yf;b.ser=a.qe;for(var b=a.fd(b),c="",d=0;0<a.Yc.length;)if(1870>=a.Yc[0].gf.length+30+c.length){var e=a.Yc.shift(),c=c+"&seg"+d+"="+e.Kg+"&ts"+d+"="+e.Sg+"&d"+d+"="+e.gf;d++}else break;jh(a,b+c,a.qe);return!0}return!1}function jh(a,b,c){function d(){a.Ne.remove(c);hh(a)}a.Ne.add(c,1);var e=setTimeout(d,Math.floor(25E3));gh(a,b,function(){clearTimeout(e);d()})}function gh(a,b,c){kh(a,b,c)}var lh=null;
function ih(a,b){lh||(lh=require("request"));lh(a,function(c,d,e){if(c)throw"Rest request for "+a.url+" failed.";b&&b(e)})}function kh(a,b,c){ih({url:b,Zg:!0},function(b){mh(a,b);c()})}function mh(a,b){eval("var jsonpCB = function(pLPCommand, pRTLPCB) {"+b+"}");jsonpCB(a.eg,a.wg)};var nh=null,nh=require("faye-websocket").Client;function oh(a,b,c){this.oe=a;this.f=sc(this.oe);this.frames=this.Ic=null;this.lb=this.mb=this.$e=0;this.Ua=Ab(b);this.Qb=(b.ib?"wss://":"ws://")+b.Oa+"/.ws?v=5";b.host!==b.Oa&&(this.Qb=this.Qb+"&ns="+b.Ab);c&&(this.Qb=this.Qb+"&s="+c)}var ph;
oh.prototype.open=function(a,b){this.fb=b;this.vg=a;this.f("Websocket connecting to "+this.Qb);this.Fc=!1;Fb.set("previous_websocket_failure",!0);try{this.ua=new nh(this.Qb,[],{headers:{"User-Agent":"Firebase/5/"+eb+"/"+process.platform+"/Node"}})}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.eb();return}var e=this;this.ua.onopen=function(){e.f("Websocket connected.");e.Fc=!0};this.ua.onclose=function(){e.f("Websocket connection was disconnected.");e.ua=
null;e.eb()};this.ua.onmessage=function(a){if(null!==e.ua)if(a=a.data,e.lb+=a.length,vb(e.Ua,"bytes_received",a.length),qh(e),null!==e.frames)rh(e,a);else{a:{K(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.$e=b;e.frames=[];a=null;break a}}e.$e=1;e.frames=[]}null!==a&&rh(e,a)}};this.ua.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.eb()}};oh.prototype.start=function(){};
oh.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==nh&&!ph};oh.responsesRequiredToBeHealthy=2;oh.healthyTimeout=3E4;g=oh.prototype;g.Bd=function(){Fb.remove("previous_websocket_failure")};function rh(a,b){a.frames.push(b);if(a.frames.length==a.$e){var c=a.frames.join("");a.frames=null;c=fb(c);a.vg(c)}}
g.send=function(a){qh(this);a=v(a);this.mb+=a.length;vb(this.Ua,"bytes_sent",a.length);a=Bc(a,16384);1<a.length&&this.ua.send(String(a.length));for(var b=0;b<a.length;b++)this.ua.send(a[b])};g.ad=function(){this.xb=!0;this.Ic&&(clearInterval(this.Ic),this.Ic=null);this.ua&&(this.ua.close(),this.ua=null)};g.eb=function(){this.xb||(this.f("WebSocket is closing itself"),this.ad(),this.fb&&(this.fb(this.Fc),this.fb=null))};g.close=function(){this.xb||(this.f("WebSocket is being closed"),this.ad())};
function qh(a){clearInterval(a.Ic);a.Ic=setInterval(function(){a.ua&&a.ua.send("0");qh(a)},Math.floor(45E3))};function sh(a){th(this,a)}var uh=[bh,oh];function th(a,b){var c=oh&&oh.isAvailable(),d=c&&!(Fb.sf||!0===Fb.get("previous_websocket_failure"));b.Vg&&(c||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.dd=[oh];else{var e=a.dd=[];Cc(uh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function vh(a){if(0<a.dd.length)return a.dd[0];throw Error("No transports available");};function wh(a,b,c,d,e,f){this.id=a;this.f=sc("c:"+this.id+":");this.gc=c;this.Uc=d;this.la=e;this.Le=f;this.F=b;this.Kd=[];this.cf=0;this.Nf=new sh(b);this.Ta=0;this.f("Connection created");xh(this)}
function xh(a){var b=vh(a.Nf);a.I=new b("c:"+a.id+":"+a.cf++,a.F);a.Pe=b.responsesRequiredToBeHealthy||0;var c=yh(a,a.I),d=zh(a,a.I);a.ed=a.I;a.$c=a.I;a.D=null;a.yb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.vd=setTimeout(function(){a.vd=null;a.yb||(a.I&&102400<a.I.lb?(a.f("Connection exceeded healthy timeout but has received "+a.I.lb+" bytes.  Marking connection healthy."),a.yb=!0,a.I.Bd()):a.I&&10240<a.I.mb?a.f("Connection exceeded healthy timeout but has sent "+
a.I.mb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function zh(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Ta?1===a.Ta&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.F.Oa.substr(0,2)&&(Fb.remove("host:"+a.F.host),a.F.Oa=a.F.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.ed!==c&&a.$c!==c||a.close()):a.f("closing an old connection")}}
function yh(a,b){return function(c){if(2!=a.Ta)if(b===a.$c){var d=zc("t",c);c=zc("d",c);if("c"==d){if(d=zc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Wd=c.s;Ib(a.F,f);0==a.Ta&&(a.I.start(),Ah(a,a.I,d),"5"!==e&&O("Protocol version mismatch detected"),c=a.Nf,(c=1<c.dd.length?c.dd[1]:null)&&Bh(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.$c=a.D;for(c=0;c<a.Kd.length;++c)a.Gd(a.Kd[c]);a.Kd=[];Ch(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Le&&(a.Le(c),a.Le=null),a.la=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Ib(a.F,c),1===a.Ta?a.close():(Dh(a),xh(a))):"e"===d?tc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),Eh(a),Fh(a)):tc("Unknown control packet command: "+d)}else"d"==d&&a.Gd(c)}else if(b===a.D)if(d=zc("t",c),c=zc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Gh(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.ed!==a.D&&a.$c!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.Kf--,Gh(a)));else if("d"==d)a.Kd.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}wh.prototype.Ea=function(a){Hh(this,{t:"d",d:a})};function Ch(a){a.ed===a.D&&a.$c===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.oe),a.I=a.D,a.D=null)}
function Gh(a){0>=a.Kf?(a.f("Secondary connection is healthy."),a.yb=!0,a.D.Bd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.ed=a.D,Ch(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}wh.prototype.Gd=function(a){Eh(this);this.gc(a)};function Eh(a){a.yb||(a.Pe--,0>=a.Pe&&(a.f("Primary connection is healthy."),a.yb=!0,a.I.Bd()))}
function Bh(a,b){a.D=new b("c:"+a.id+":"+a.cf++,a.F,a.Wd);a.Kf=b.responsesRequiredToBeHealthy||0;a.D.open(yh(a,a.D),zh(a,a.D));setTimeout(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6E4))}function Ah(a,b,c){a.f("Realtime connection established.");a.I=b;a.Ta=1;a.Uc&&(a.Uc(c),a.Uc=null);0===a.Pe?(a.f("Primary connection is healthy."),a.yb=!0):setTimeout(function(){Fh(a)},Math.floor(5E3))}
function Fh(a){a.yb||1!==a.Ta||(a.f("sending ping on primary."),Hh(a,{t:"c",d:{t:"p",d:{}}}))}function Hh(a,b){if(1!==a.Ta)throw"Connection is not connected";a.ed.send(b)}wh.prototype.close=function(){2!==this.Ta&&(this.f("Closing realtime connection."),this.Ta=2,Dh(this),this.la&&(this.la(),this.la=null))};function Dh(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.vd&&(clearTimeout(a.vd),a.vd=null)};function Ih(a,b,c,d){this.id=Jh++;this.f=sc("p:"+this.id+":");this.tf=this.Be=!1;this.$={};this.qa=[];this.Wc=0;this.Tc=[];this.oa=!1;this.Ya=1E3;this.Cd=3E5;this.Eb=b;this.Sc=c;this.Me=d;this.F=a;this.qb=this.Aa=this.Ha=this.Ue=null;this.Lb=!1;this.Rd={};this.Jg=0;this.kf=!0;this.Jc=this.De=null;Kh(this,0);Ae.sb().Cb("visible",this.zg,this);-1===a.host.indexOf("fblocal")&&ae.sb().Cb("online",this.xg,this)}var Jh=0,Lh=0;g=Ih.prototype;
g.Ea=function(a,b,c){var d=++this.Jg;a={r:d,a:a,b:b};this.f(v(a));K(this.oa,"sendRequest call when we're not connected not allowed.");this.Ha.Ea(a);c&&(this.Rd[d]=c)};g.uf=function(a,b,c,d){var e=a.va(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.$[f]=this.$[f]||{};K(!this.$[f][e],"listen() called twice for same path/queryId.");a={G:d,ud:b,Gg:a,tag:c};this.$[f][e]=a;this.oa&&Mh(this,a)};
function Mh(a,b){var c=b.Gg,d=c.path.toString(),e=c.va();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=pf(c.o),f.t=b.tag);f.h=b.ud();a.Ea("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===typeof k&&w(k,"w")){var l=y(k,"w");ea(l)&&0<=Ka(l,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+c.o.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.$[d]&&a.$[d][e])===b&&(a.f("listen response",f),"ok"!==m&&Nh(a,d,e),b.G&&b.G(m,
k))})}g.N=function(a,b,c){this.Aa={gg:a,lf:!1,yc:b,jd:c};this.f("Authenticating using credential: "+a);Oh(this);(b=40==a.length)||(a=Gc(a).Ac,b="object"===typeof a&&!0===y(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3E4)};g.ee=function(a){delete this.Aa;this.oa&&this.Ea("unauth",{},function(b){a(b.s,b.d)})};
function Oh(a){var b=a.Aa;a.oa&&b&&a.Ea("auth",{cred:b.gg},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Aa===b&&delete a.Aa;b.lf?"ok"!==d&&b.jd&&b.jd(d,c):(b.lf=!0,b.yc&&b.yc(d,c))})}g.Of=function(a,b){var c=a.path.toString(),d=a.va();this.f("Unlisten called for "+c+" "+d);if(Nh(this,c,d)&&this.oa){var e=pf(a.o);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.Ea("n",c)}};g.Ke=function(a,b,c){this.oa?Ph(this,"o",a,b,c):this.Tc.push({jc:a,action:"o",data:b,G:c})};
g.Bf=function(a,b,c){this.oa?Ph(this,"om",a,b,c):this.Tc.push({jc:a,action:"om",data:b,G:c})};g.Hd=function(a,b){this.oa?Ph(this,"oc",a,null,b):this.Tc.push({jc:a,action:"oc",data:null,G:b})};function Ph(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Ea(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){Qh(this,"p",a,b,c,d)};g.wf=function(a,b,c,d){Qh(this,"m",a,b,c,d)};
function Qh(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.qa.push({action:b,Hf:d,G:e});a.Wc++;b=a.qa.length-1;a.oa?Rh(a,b):a.f("Buffering put: "+c)}function Rh(a,b){var c=a.qa[b].action,d=a.qa[b].Hf,e=a.qa[b].G;a.qa[b].Hg=a.oa;a.Ea(c,d,function(d){a.f(c+" response",d);delete a.qa[b];a.Wc--;0===a.Wc&&(a.qa=[]);e&&e(d.s,d.d)})}g.Se=function(a){this.oa&&(a={c:a},this.f("reportStats",a),this.Ea("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
g.Gd=function(a){if("r"in a){this.f("from server: "+v(a));var b=a.r,c=this.Rd[b];c&&(delete this.Rd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Eb(c.p,c.d,!1,c.t):"m"===b?this.Eb(c.p,c.d,!0,c.t):"c"===b?Sh(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Aa,delete this.Aa,c&&c.jd&&c.jd(a,b)):"sd"===b?this.Ue?this.Ue(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):tc("Unrecognized action received from server: "+v(b)+"\nAre you using the latest client?"))}};
g.Uc=function(a){this.f("connection ready");this.oa=!0;this.Jc=(new Date).getTime();this.Me({serverTimeOffset:a-(new Date).getTime()});this.kf&&(a={},a["sdk.js."+eb.replace(/\./g,"-")]=1,"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Eg())&&(a["framework.cordova"]=1),this.Se(a));Th(this);this.kf=!1;this.Sc(!0)};
function Kh(a,b){K(!a.Ha,"Scheduling a connect when we're already connected/ing?");a.qb&&clearTimeout(a.qb);a.qb=setTimeout(function(){a.qb=null;Uh(a)},Math.floor(b))}g.zg=function(a){a&&!this.Lb&&this.Ya===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.Ya=1E3,this.Ha||Kh(this,0));this.Lb=a};g.xg=function(a){a?(this.f("Browser went online."),this.Ya=1E3,this.Ha||Kh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ha&&this.Ha.close())};
g.Cf=function(){this.f("data client disconnected");this.oa=!1;this.Ha=null;for(var a=0;a<this.qa.length;a++){var b=this.qa[a];b&&"h"in b.Hf&&b.Hg&&(b.G&&b.G("disconnect"),delete this.qa[a],this.Wc--)}0===this.Wc&&(this.qa=[]);this.Rd={};Vh(this)&&(this.Lb?this.Jc&&(3E4<(new Date).getTime()-this.Jc&&(this.Ya=1E3),this.Jc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Ya=this.Cd,this.De=(new Date).getTime()),a=Math.max(0,this.Ya-((new Date).getTime()-this.De)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Kh(this,a),this.Ya=Math.min(this.Cd,1.3*this.Ya));this.Sc(!1)};function Uh(a){if(Vh(a)){a.f("Making a connection attempt");a.De=(new Date).getTime();a.Jc=null;var b=q(a.Gd,a),c=q(a.Uc,a),d=q(a.Cf,a),e=a.id+":"+Lh++;a.Ha=new wh(e,a.F,b,c,d,function(b){O(b+" ("+a.F.toString()+")");a.tf=!0})}}g.wb=function(){this.Be=!0;this.Ha?this.Ha.close():(this.qb&&(clearTimeout(this.qb),this.qb=null),this.oa&&this.Cf())};g.qc=function(){this.Be=!1;this.Ya=1E3;this.Ha||Kh(this,0)};
function Sh(a,b,c){c=c?Na(c,function(a){return Ac(a)}).join("$"):"default";(a=Nh(a,b,c))&&a.G&&a.G("permission_denied")}function Nh(a,b,c){b=(new G(b)).toString();var d;n(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===ya(a.$[b])&&delete a.$[b]):d=void 0;return d}function Th(a){Oh(a);t(a.$,function(b){t(b,function(b){Mh(a,b)})});for(var b=0;b<a.qa.length;b++)a.qa[b]&&Rh(a,b);for(;a.Tc.length;)b=a.Tc.shift(),Ph(a,b.action,b.jc,b.data,b.G)}function Vh(a){var b;b=ae.sb().hc;return!a.tf&&!a.Be&&b};var W={mg:function(){ch=ph=!0}};W.forceLongPolling=W.mg;W.ng=function(){dh=!0};W.forceWebSockets=W.ng;W.Ng=function(a,b){a.k.Ra.Ue=b};W.setSecurityDebugCallback=W.Ng;W.We=function(a,b){a.k.We(b)};W.stats=W.We;W.Xe=function(a,b){a.k.Xe(b)};W.statsIncrementCounter=W.Xe;W.pd=function(a){return a.k.pd};W.dataUpdateCount=W.pd;W.qg=function(a,b){a.k.Ae=b};W.interceptServerData=W.qg;W.ug=function(a){new Ig(a)};W.onPopupOpen=W.ug;W.Lg=function(a){og=a};W.setAuthenticationServer=W.Lg;var X={};X.uc=Ih;X.DataConnection=X.uc;Ih.prototype.Pg=function(a,b){this.Ea("q",{p:a},b)};X.uc.prototype.simpleListen=X.uc.prototype.Pg;Ih.prototype.hg=function(a,b){this.Ea("echo",{d:a},b)};X.uc.prototype.echo=X.uc.prototype.hg;Ih.prototype.interrupt=Ih.prototype.wb;X.Sf=wh;X.RealTimeConnection=X.Sf;wh.prototype.sendRequest=wh.prototype.Ea;wh.prototype.close=wh.prototype.close;
X.pg=function(a){var b=Ih.prototype.put;Ih.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Ih.prototype.put=b}};X.hijackHash=X.pg;X.Rf=Hb;X.ConnectionTarget=X.Rf;X.va=function(a){return a.va()};X.queryIdentifier=X.va;X.rg=function(a){return a.k.Ra.$};X.listens=X.rg;X.se=function(a){a.se()};X.forceRestClient=X.se;function Wh(a,b){this.F=a;this.Ua=Ab(a);this.cd=null;this.da=new Ue;this.Fd=1;this.Ra=null;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new Lc(this.F,q(this.Eb,this)),setTimeout(q(this.Sc,this,!0),0)):this.ba=this.Ra=new Ih(this.F,q(this.Eb,this),q(this.Sc,this),q(this.Me,this));this.Qg=Bb(a,q(function(){return new xb(this.Ua,this.ba)},this));this.tc=new ce;
this.ze=new tb;var c=this;this.zd=new Vf({Ve:function(a,b,f,h){b=[];f=c.ze.j(a.path);f.e()||(b=Xf(c.zd,new nb(Zd,a.path,f)),setTimeout(function(){h("ok")},0));return b},Zd:ba});Xh(this,"connected",!1);this.la=new Rb;this.N=new Mg(a,q(this.ba.N,this.ba),q(this.ba.ee,this.ba),q(this.Je,this));this.pd=0;this.Ae=null;this.M=new Vf({Ve:function(a,b,f,h){c.ba.uf(a,f,b,function(b,e){var f=h(b,e);Ze(c.da,a.path,f)});return[]},Zd:function(a,b){c.ba.Of(a,b)}})}g=Wh.prototype;
g.toString=function(){return(this.F.ib?"https://":"http://")+this.F.host};g.name=function(){return this.F.Ab};function Yh(a){a=a.ze.j(new G(".info/serverTimeOffset")).H()||0;return(new Date).getTime()+a}function Zh(a){a=a={timestamp:Yh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
g.Eb=function(a,b,c,d){this.pd++;var e=new G(a);b=this.Ae?this.Ae(a,b):b;a=[];d?c?(b=wa(b,function(a){return L(a)}),a=eg(this.M,e,b,d)):(b=L(b),a=ag(this.M,e,b,d)):c?(d=wa(b,function(a){return L(a)}),a=$f(this.M,e,d)):(d=L(b),a=Xf(this.M,new nb(Zd,e,d)));d=e;0<a.length&&(d=$h(this,e));Ze(this.da,d,a)};g.Sc=function(a){Xh(this,"connected",a);!1===a&&ai(this)};g.Me=function(a){var b=this;Cc(a,function(a,d){Xh(b,d,a)})};g.Je=function(a){Xh(this,"authenticated",a)};
function Xh(a,b,c){b=new G("/.info/"+b);c=L(c);var d=a.ze;d.Ud=d.Ud.K(b,c);c=Xf(a.zd,new nb(Zd,b,c));Ze(a.da,b,c)}g.Hb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,ah:c});var e=Zh(this);b=L(b,c);var e=Tb(b,e),f=this.Fd++,e=Wf(this.M,a,e,f,!0);Ve(this.da,e);var h=this;this.ba.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||O("set at "+a+" failed: "+b);e=Zf(h.M,f,!e);Ze(h.da,a,e);bi(d,b,c)});e=ci(this,a);$h(this,e);Ze(this.da,e,[])};
g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Zh(this),f={};t(b,function(a,b){d=!1;var c=L(a);f[b]=Tb(c,e)});if(d)lc("update() called with empty data.  Don't do anything."),bi(c,"ok");else{var h=this.Fd++,k=Yf(this.M,a,f,h);Ve(this.da,k);var m=this;this.ba.wf(a.toString(),b,function(b,d){var e="ok"===b;e||O("update at "+a+" failed: "+b);var e=Zf(m.M,h,!e),f=a;0<e.length&&(f=$h(m,a));Ze(m.da,f,e);bi(c,b,d)});b=ci(this,a);$h(this,b);Ze(this.da,a,[])}};
function ai(a){a.f("onDisconnectEvents");var b=Zh(a),c=[];Sb(Qb(a.la,b),C,function(b,e){c=c.concat(Xf(a.M,new nb(Zd,b,e)));var f=ci(a,b);$h(a,f)});a.la=new Rb;Ze(a.da,C,c)}g.Hd=function(a,b){var c=this;this.ba.Hd(a.toString(),function(d,e){"ok"===d&&td(c.la,a);bi(b,d,e)})};function di(a,b,c,d){var e=L(c);a.ba.Ke(b.toString(),e.H(!0),function(c,h){"ok"===c&&a.la.mc(b,e);bi(d,c,h)})}function ei(a,b,c,d,e){var f=L(c,d);a.ba.Ke(b.toString(),f.H(!0),function(c,d){"ok"===c&&a.la.mc(b,f);bi(e,c,d)})}
function fi(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(lc("onDisconnect().update() called with empty data.  Don't do anything."),bi(d,"ok")):a.ba.Bf(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=L(c[m]);a.la.mc(b.u(m),l)}bi(d,e,f)})}function uf(a,b,c){c=".info"===I(b.path)?a.zd.Mb(b,c):a.M.Mb(b,c);Xe(a.da,b.path,c)}g.wb=function(){this.Ra&&this.Ra.wb()};g.qc=function(){this.Ra&&this.Ra.qc()};
g.We=function(a){if("undefined"!==typeof console){a?(this.cd||(this.cd=new wb(this.Ua)),a=this.cd.get()):a=this.Ua.get();var b=Oa(Ba(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};g.Xe=function(a){vb(this.Ua,a);this.Qg.Mf[a]=!0};g.f=function(a){var b="";this.Ra&&(b=this.Ra.id+":");lc(b,arguments)};
function bi(a,b,c){a&&Fc(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Y(a,b){this.Zc=a;this.ra=b}Y.prototype.cancel=function(a){z("Firebase.onDisconnect().cancel",0,1,arguments.length);B("Firebase.onDisconnect().cancel",1,a,!0);this.Zc.Hd(this.ra,a||null)};Y.prototype.cancel=Y.prototype.cancel;Y.prototype.remove=function(a){z("Firebase.onDisconnect().remove",0,1,arguments.length);ue("Firebase.onDisconnect().remove",this.ra);B("Firebase.onDisconnect().remove",1,a,!0);di(this.Zc,this.ra,null,a)};Y.prototype.remove=Y.prototype.remove;
Y.prototype.set=function(a,b){z("Firebase.onDisconnect().set",1,2,arguments.length);ue("Firebase.onDisconnect().set",this.ra);ne("Firebase.onDisconnect().set",a,this.ra,!1);B("Firebase.onDisconnect().set",2,b,!0);di(this.Zc,this.ra,a,b)};Y.prototype.set=Y.prototype.set;
Y.prototype.Hb=function(a,b,c){z("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);ue("Firebase.onDisconnect().setWithPriority",this.ra);ne("Firebase.onDisconnect().setWithPriority",a,this.ra,!1);qe("Firebase.onDisconnect().setWithPriority",2,b);B("Firebase.onDisconnect().setWithPriority",3,c,!0);ei(this.Zc,this.ra,a,b,c)};Y.prototype.setWithPriority=Y.prototype.Hb;
Y.prototype.update=function(a,b){z("Firebase.onDisconnect().update",1,2,arguments.length);ue("Firebase.onDisconnect().update",this.ra);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pe("Firebase.onDisconnect().update",a,this.ra);B("Firebase.onDisconnect().update",2,b,!0);
fi(this.Zc,this.ra,a,b)};Y.prototype.update=Y.prototype.update;function gi(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new U(a,b);h.Cb("value",f);c={path:b,update:c,G:d,status:null,Ef:ic(),af:e,Jf:0,fe:function(){h.fc("value",f)},he:null,Ba:null,md:null,nd:null,od:null};d=a.M.za(b,void 0)||F;c.md=d;d=c.update(d.H());if(n(d)){oe("transaction failed: Data returned ",d,c.path);c.status=1;e=de(a.tc,b);var k=e.Ca()||[];k.push(c);ee(e,k);"object"===typeof d&&null!==d&&w(d,".priority")?(k=y(d,".priority"),K(me(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.M.za(b)||F).C().H();e=Zh(a);d=L(d,k);e=Tb(d,e);c.nd=d;c.od=e;c.Ba=a.Fd++;c=Wf(a.M,b,e,c.Ba,c.af);Ze(a.da,b,c);hi(a)}else c.fe(),c.nd=null,c.od=null,c.G&&(a=new R(c.md,new U(a,c.path),M),c.G(null,!1,a))}function hi(a,b){var c=b||a.tc;b||ii(a,c);if(null!==c.Ca()){var d=ji(a,c);K(0<d.length,"Sending zero length transaction queue");Pa(d,function(a){return 1===a.status})&&ki(a,c.path(),d)}else c.td()&&c.R(function(b){hi(a,b)})}
function ki(a,b,c){for(var d=Na(c,function(a){return a.Ba}),e=a.M.za(b,d)||F,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];K(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run.");h.status=2;h.Jf++;var k=H(b,h.path),d=d.K(k,h.nd)}d=d.H(!0);a.ba.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(Zf(a.M,c[f].Ba));if(c[f].G){var h=c[f].od,k=new U(a,c[f].path);d.push(q(c[f].G,
null,null,!0,new R(h,k,M)))}c[f].fe()}ii(a,de(a.tc,b));hi(a);Ze(a.da,b,e);for(f=0;f<d.length;f++)Fc(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].he=d;$h(a,b)}},e)}function $h(a,b){var c=li(a,b),d=c.path(),c=ji(a,c);mi(a,c,d);return d}
function mi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Na(b,function(a){return a.Ba}),h=0;h<b.length;h++){var k=b[h],m=H(c,k.path),l=!1,r;K(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,r=k.he,e=e.concat(Zf(a.M,k.Ba,!0));else if(1===k.status)if(25<=k.Jf)l=!0,r="maxretry",e=e.concat(Zf(a.M,k.Ba,!0));else{var x=a.M.za(k.path,f)||F;k.md=x;var J=b[h].update(x.H());n(J)?(oe("transaction failed: Data returned ",J,k.path),m=L(J),"object"===typeof J&&null!=
J&&w(J,".priority")||(m=m.ga(x.C())),x=k.Ba,J=Zh(a),J=Tb(m,J),k.nd=m,k.od=J,k.Ba=a.Fd++,Sa(f,x),e=e.concat(Wf(a.M,k.path,J,k.Ba,k.af)),e=e.concat(Zf(a.M,x,!0))):(l=!0,r="nodata",e=e.concat(Zf(a.M,k.Ba,!0)))}Ze(a.da,c,e);e=[];l&&(b[h].status=3,setTimeout(b[h].fe,Math.floor(0)),b[h].G&&("nodata"===r?(k=new U(a,b[h].path),d.push(q(b[h].G,null,null,!1,new R(b[h].md,k,M)))):d.push(q(b[h].G,null,Error(r),!1,null))))}ii(a,a.tc);for(h=0;h<d.length;h++)Fc(d[h]);hi(a)}}
function li(a,b){for(var c,d=a.tc;null!==(c=I(b))&&null===d.Ca();)d=de(d,c),b=D(b);return d}function ji(a,b){var c=[];ni(a,b,c);c.sort(function(a,b){return a.Ef-b.Ef});return c}function ni(a,b,c){var d=b.Ca();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.R(function(b){ni(a,b,c)})}function ii(a,b){var c=b.Ca();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;ee(b,0<c.length?c:null)}b.R(function(b){ii(a,b)})}
function ci(a,b){var c=li(a,b).path(),d=de(a.tc,b);he(d,function(b){oi(a,b)});oi(a,d);ge(d,function(b){oi(a,b)});return c}
function oi(a,b){var c=b.Ca();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(K(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].he="set"):(K(1===c[h].status,"Unexpected transaction status in abort"),c[h].fe(),e=e.concat(Zf(a.M,c[h].Ba,!0)),c[h].G&&d.push(q(c[h].G,null,Error("set"),!1,null))));-1===f?ee(b,null):c.length=f+1;Ze(a.da,b.path(),e);for(h=0;h<d.length;h++)Fc(d[h])}};function Z(){this.nc={};this.Pf=!1}Z.prototype.wb=function(){for(var a in this.nc)this.nc[a].wb()};Z.prototype.qc=function(){for(var a in this.nc)this.nc[a].qc()};Z.prototype.se=function(){this.Pf=!0};ca(Z);Z.prototype.interrupt=Z.prototype.wb;Z.prototype.resume=Z.prototype.qc;function U(a,b){var c,d,e;if(a instanceof Wh)c=a,d=b;else{z("new Firebase",1,2,arguments.length);d=vc(arguments[0]);c=d.Rg;"firebase"===d.domain&&uc(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||uc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.ib||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new Hb(d.host,d.ib,c,"ws"===d.scheme||"wss"===d.scheme);d=new G(d.jc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!le(c.Ab))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(p(e)&&0!==e.length&&!je.test(e)));if(f)throw Error(A("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof Z)e=b;else if(p(b))e=Z.sb(),c.Md=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=Z.sb();f=c.toString();var h=y(e.nc,f);h||(h=new Wh(c,e.Pf),e.nc[f]=h);c=h}T.call(this,c,d,mf,!1)}ma(U,T);var pi=U,qi=["Firebase"],ri=aa;qi[0]in ri||!ri.execScript||ri.execScript("var "+qi[0]);for(var si;qi.length&&(si=qi.shift());)!qi.length&&n(pi)?ri[si]=pi:ri=ri[si]?ri[si]:ri[si]={};U.goOffline=function(){z("Firebase.goOffline",0,0,arguments.length);Z.sb().wb()};U.goOnline=function(){z("Firebase.goOnline",0,0,arguments.length);Z.sb().qc()};
function rc(a,b){K(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?pc=q(console.log,console):"object"===typeof console.log&&(pc=function(a){console.log(a)})),b&&Gb.set("logging_enabled",!0)):a?pc=a:(pc=null,Gb.remove("logging_enabled"))}U.enableLogging=rc;U.ServerValue={TIMESTAMP:{".sv":"timestamp"}};U.SDK_VERSION=eb;U.INTERNAL=W;U.Context=Z;U.TEST_ACCESS=X;
U.prototype.name=function(){O("Firebase.name() being deprecated. Please use Firebase.key() instead.");z("Firebase.name",0,0,arguments.length);return this.key()};U.prototype.name=U.prototype.name;U.prototype.key=function(){z("Firebase.key",0,0,arguments.length);return this.path.e()?null:Kb(this.path)};U.prototype.key=U.prototype.key;
U.prototype.u=function(a){z("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof G))if(null===I(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));te("Firebase.child",b)}else te("Firebase.child",a);return new U(this.k,this.path.u(a))};U.prototype.child=U.prototype.u;U.prototype.parent=function(){z("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.k,a)};U.prototype.parent=U.prototype.parent;
U.prototype.root=function(){z("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};U.prototype.root=U.prototype.root;U.prototype.set=function(a,b){z("Firebase.set",1,2,arguments.length);ue("Firebase.set",this.path);ne("Firebase.set",a,this.path,!1);B("Firebase.set",2,b,!0);this.k.Hb(this.path,a,null,b||null)};U.prototype.set=U.prototype.set;
U.prototype.update=function(a,b){z("Firebase.update",1,2,arguments.length);ue("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pe("Firebase.update",a,this.path);B("Firebase.update",2,b,!0);this.k.update(this.path,a,b||null)};U.prototype.update=U.prototype.update;
U.prototype.Hb=function(a,b,c){z("Firebase.setWithPriority",2,3,arguments.length);ue("Firebase.setWithPriority",this.path);ne("Firebase.setWithPriority",a,this.path,!1);qe("Firebase.setWithPriority",2,b);B("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Hb(this.path,a,b,c||null)};U.prototype.setWithPriority=U.prototype.Hb;
U.prototype.remove=function(a){z("Firebase.remove",0,1,arguments.length);ue("Firebase.remove",this.path);B("Firebase.remove",1,a,!0);this.set(null,a)};U.prototype.remove=U.prototype.remove;
U.prototype.transaction=function(a,b,c){z("Firebase.transaction",1,3,arguments.length);ue("Firebase.transaction",this.path);B("Firebase.transaction",1,a,!1);B("Firebase.transaction",2,b,!0);if(n(c)&&"boolean"!=typeof c)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);gi(this.k,this.path,a,b||null,c)};U.prototype.transaction=U.prototype.transaction;
U.prototype.Mg=function(a,b){z("Firebase.setPriority",1,2,arguments.length);ue("Firebase.setPriority",this.path);qe("Firebase.setPriority",1,a);B("Firebase.setPriority",2,b,!0);this.k.Hb(this.path.u(".priority"),a,null,b)};U.prototype.setPriority=U.prototype.Mg;
U.prototype.push=function(a,b){z("Firebase.push",0,2,arguments.length);ue("Firebase.push",this.path);ne("Firebase.push",a,this.path,!0);B("Firebase.push",2,b,!0);var c=Yh(this.k),c=$d(c),c=this.u(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};U.prototype.push=U.prototype.push;U.prototype.fb=function(){ue("Firebase.onDisconnect",this.path);return new Y(this.k,this.path)};U.prototype.onDisconnect=U.prototype.fb;
U.prototype.N=function(a,b,c){O("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");z("Firebase.auth",1,3,arguments.length);ve("Firebase.auth",a);B("Firebase.auth",2,b,!0);B("Firebase.auth",3,b,!0);Sg(this.k.N,a,{},{remember:"none"},b,c)};U.prototype.auth=U.prototype.N;U.prototype.ee=function(a){z("Firebase.unauth",0,1,arguments.length);B("Firebase.unauth",1,a,!0);Tg(this.k.N,a)};U.prototype.unauth=U.prototype.ee;
U.prototype.ue=function(){z("Firebase.getAuth",0,0,arguments.length);return this.k.N.ue()};U.prototype.getAuth=U.prototype.ue;U.prototype.tg=function(a,b){z("Firebase.onAuth",1,2,arguments.length);B("Firebase.onAuth",1,a,!1);kb("Firebase.onAuth",2,b);this.k.N.Cb("auth_status",a,b)};U.prototype.onAuth=U.prototype.tg;U.prototype.sg=function(a,b){z("Firebase.offAuth",1,2,arguments.length);B("Firebase.offAuth",1,a,!1);kb("Firebase.offAuth",2,b);this.k.N.fc("auth_status",a,b)};U.prototype.offAuth=U.prototype.sg;
U.prototype.Wf=function(a,b,c){z("Firebase.authWithCustomToken",2,3,arguments.length);ve("Firebase.authWithCustomToken",a);B("Firebase.authWithCustomToken",2,b,!1);ye("Firebase.authWithCustomToken",3,c,!0);Sg(this.k.N,a,{},c||{},b)};U.prototype.authWithCustomToken=U.prototype.Wf;U.prototype.Xf=function(a,b,c){z("Firebase.authWithOAuthPopup",2,3,arguments.length);xe("Firebase.authWithOAuthPopup",a);B("Firebase.authWithOAuthPopup",2,b,!1);ye("Firebase.authWithOAuthPopup",3,c,!0);Xg(this.k.N,a,c,b)};
U.prototype.authWithOAuthPopup=U.prototype.Xf;U.prototype.Yf=function(a,b,c){z("Firebase.authWithOAuthRedirect",2,3,arguments.length);xe("Firebase.authWithOAuthRedirect",a);B("Firebase.authWithOAuthRedirect",2,b,!1);ye("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.k.N;Vg(d);var e=[Dg],f=sg(c);"anonymous"===a||"firebase"===a?P(b,V("TRANSPORT_UNAVAILABLE")):(Gb.set("redirect_client_options",f.ld),Wg(d,e,"/auth/"+a,f,b))};U.prototype.authWithOAuthRedirect=U.prototype.Yf;
U.prototype.Zf=function(a,b,c,d){z("Firebase.authWithOAuthToken",3,4,arguments.length);xe("Firebase.authWithOAuthToken",a);B("Firebase.authWithOAuthToken",3,c,!1);ye("Firebase.authWithOAuthToken",4,d,!0);p(b)?(we("Firebase.authWithOAuthToken",2,b),Ug(this.k.N,a+"/token",{access_token:b},d,c)):(ye("Firebase.authWithOAuthToken",2,b,!1),Ug(this.k.N,a+"/token",b,d,c))};U.prototype.authWithOAuthToken=U.prototype.Zf;
U.prototype.Vf=function(a,b){z("Firebase.authAnonymously",1,2,arguments.length);B("Firebase.authAnonymously",1,a,!1);ye("Firebase.authAnonymously",2,b,!0);Ug(this.k.N,"anonymous",{},b,a)};U.prototype.authAnonymously=U.prototype.Vf;
U.prototype.$f=function(a,b,c){z("Firebase.authWithPassword",2,3,arguments.length);ye("Firebase.authWithPassword",1,a,!1);ze("Firebase.authWithPassword",a,"email");ze("Firebase.authWithPassword",a,"password");B("Firebase.authWithPassword",2,b,!1);ye("Firebase.authWithPassword",3,c,!0);Ug(this.k.N,"password",a,c,b)};U.prototype.authWithPassword=U.prototype.$f;
U.prototype.pe=function(a,b){z("Firebase.createUser",2,2,arguments.length);ye("Firebase.createUser",1,a,!1);ze("Firebase.createUser",a,"email");ze("Firebase.createUser",a,"password");B("Firebase.createUser",2,b,!1);this.k.N.pe(a,b)};U.prototype.createUser=U.prototype.pe;U.prototype.Re=function(a,b){z("Firebase.removeUser",2,2,arguments.length);ye("Firebase.removeUser",1,a,!1);ze("Firebase.removeUser",a,"email");ze("Firebase.removeUser",a,"password");B("Firebase.removeUser",2,b,!1);this.k.N.Re(a,b)};
U.prototype.removeUser=U.prototype.Re;U.prototype.me=function(a,b){z("Firebase.changePassword",2,2,arguments.length);ye("Firebase.changePassword",1,a,!1);ze("Firebase.changePassword",a,"email");ze("Firebase.changePassword",a,"oldPassword");ze("Firebase.changePassword",a,"newPassword");B("Firebase.changePassword",2,b,!1);this.k.N.me(a,b)};U.prototype.changePassword=U.prototype.me;
U.prototype.le=function(a,b){z("Firebase.changeEmail",2,2,arguments.length);ye("Firebase.changeEmail",1,a,!1);ze("Firebase.changeEmail",a,"oldEmail");ze("Firebase.changeEmail",a,"newEmail");ze("Firebase.changeEmail",a,"password");B("Firebase.changeEmail",2,b,!1);this.k.N.le(a,b)};U.prototype.changeEmail=U.prototype.le;
U.prototype.Te=function(a,b){z("Firebase.resetPassword",2,2,arguments.length);ye("Firebase.resetPassword",1,a,!1);ze("Firebase.resetPassword",a,"email");B("Firebase.resetPassword",2,b,!1);this.k.N.Te(a,b)};U.prototype.resetPassword=U.prototype.Te;module.exports=U;

