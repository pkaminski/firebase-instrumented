/*! @license Firebase v0.0.0
    License: https://www.firebase.com/terms/terms-of-service.html */
var h,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.rb=function(){return a.qf?a.qf:a.qf=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){function c(){}c.prototype=b.prototype;a.bh=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Wg=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function na(){this.Va=-1};function oa(){this.Va=-1;this.Va=64;this.R=[];this.ie=[];this.Sf=[];this.Hd=[];this.Hd[0]=128;for(var a=1;a<this.Va;++a)this.Hd[a]=0;this.$d=this.cc=0;this.reset()}ma(oa,na);oa.prototype.reset=function(){this.R[0]=1732584193;this.R[1]=4023233417;this.R[2]=2562383102;this.R[3]=271733878;this.R[4]=3285377520;this.$d=this.cc=0};
function pa(a,b,c){c||(c=0);var d=a.Sf;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.R[0];c=a.R[1];for(var g=a.R[2],k=a.R[3],l=a.R[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),m=1518500249):(f=c^g^k,m=1859775393):60>e?(f=c&g|k&(c|g),m=2400959708):(f=c^g^k,m=3395469782),f=(b<<
5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.R[0]=a.R[0]+b&4294967295;a.R[1]=a.R[1]+c&4294967295;a.R[2]=a.R[2]+g&4294967295;a.R[3]=a.R[3]+k&4294967295;a.R[4]=a.R[4]+l&4294967295}
oa.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Va,d=0,e=this.ie,f=this.cc;d<b;){if(0==f)for(;d<=c;)pa(this,a,d),d+=this.Va;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Va){pa(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Va){pa(this,e);f=0;break}}this.cc=f;this.$d+=b}};function qa(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function ra(){this.Od=void 0}
function sa(a,b,c){switch(typeof b){case "string":ta(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],sa(a,a.Od?a.Od.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),ta(f,c),
c.push(":"),sa(a,a.Od?a.Od.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var ua={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},va=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function ta(a,b){b.push('"',a.replace(va,function(a){if(a in ua)return ua[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return ua[a]=e+b.toString(16)}),'"')};function r(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function wa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function xa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function ya(a){var b=0,c;for(c in a)b++;return b}function za(a){for(var b in a)return b}function Aa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ba(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ca(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function Da(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function Ea(a,b){var c=Da(a,b,void 0);return c&&a[c]}function Fa(a){for(var b in a)return!1;return!0}function Ga(a){var b={},c;for(c in a)b[c]=a[c];return b}var Ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ia(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ha.length;f++)c=Ha[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Ja(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var Ka=Array.prototype,La=Ka.indexOf?function(a,b,c){return Ka.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=Ka.forEach?function(a,b,c){Ka.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Na=Ka.filter?function(a,b,c){return Ka.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=p(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Oa=Ka.map?function(a,b,c){return Ka.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Pa=Ka.reduce?function(a,b,c,d){for(var e=[],f=1,g=arguments.length;f<g;f++)e.push(arguments[f]);d&&(e[0]=q(b,d));return Ka.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ma(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Qa=Ka.every?
function(a,b,c){return Ka.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ra(a,b){var c=Sa(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Sa(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ta(a,b){var c=La(a,b);0<=c&&Ka.splice.call(a,c,1)}function Ua(a,b){a.sort(b||Va)}function Va(a,b){return a>b?1:a<b?-1:0};var Wa;a:{var Xa=aa.navigator;if(Xa){var Ya=Xa.userAgent;if(Ya){Wa=Ya;break a}}Wa=""};var Za=-1!=Wa.indexOf("Opera")||-1!=Wa.indexOf("OPR"),$a=-1!=Wa.indexOf("Trident")||-1!=Wa.indexOf("MSIE"),ab=-1!=Wa.indexOf("Gecko")&&-1==Wa.toLowerCase().indexOf("webkit")&&!(-1!=Wa.indexOf("Trident")||-1!=Wa.indexOf("MSIE")),bb=-1!=Wa.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(Za&&aa.opera)return a=aa.opera.version,ha(a)?a():a;ab?b=/rv\:([^\);]+)(\)|;)/:$a?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Wa))?a[1]:"");return $a&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var cb=null,db=null;
function eb(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!cb){cb={};db={};for(var c=0;65>c;c++)cb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),db[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?db:cb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,t=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;l||(m=64,g||(k=64));d.push(c[t],c[f],c[k],c[m])}return d.join("")}
;function fb(a){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):qa(a)}function u(a){if("undefined"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];sa(new ra,a,b);a=b.join("")}return a};function v(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function gb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function hb(a){var b={};gb(a,function(a,d){b[a]=d});return b};function ib(a){var b=[];gb(a,function(a,d){ea(d)?Ma(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function jb(a){var b={};a=a.replace(/^\?/,"").split("&");Ma(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function y(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function z(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function A(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(z(a,b,d)+"must be a valid function.");}function kb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(z(a,b,!0)+"must be a valid context object.");};function lb(a,b){this.type=mb;this.source=nb;this.path=a;this.Te=b}lb.prototype.Xc=function(){return this.path.e()?this:new lb(B(this.path),this.Te)};lb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Te+")"};function ob(a,b){this.type=pb;this.source=a;this.path=b}ob.prototype.Xc=function(){return this.path.e()?new ob(this.source,C):new ob(this.source,B(this.path))};ob.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function qb(a,b,c){this.type=rb;this.source=a;this.path=b;this.Ha=c}qb.prototype.Xc=function(a){return this.path.e()?new qb(this.source,C,this.Ha.M(a)):new qb(this.source,B(this.path),this.Ha)};qb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ha.toString()+")"};function sb(a,b){return tb(a.name,b.name)}function ub(a,b){return tb(a,b)};function D(a,b){this.name=a;this.S=b}function vb(a,b){return new D(a,b)};function wb(){this.Rd=E}wb.prototype.j=function(a){return this.Rd.oa(a)};wb.prototype.toString=function(){return this.Rd.toString()};function xb(){this.Ec={}}function yb(a,b,c){n(c)||(c=1);v(a.Ec,b)||(a.Ec[b]=0);a.Ec[b]+=c}xb.prototype.get=function(){return Ga(this.Ec)};function zb(a){this.cg=a;this.yd=null}zb.prototype.get=function(){var a=this.cg.get(),b=Ga(a);if(this.yd)for(var c in this.yd)b[c]-=this.yd[c];this.yd=a;return b};function Ab(a,b){this.Lf={};this.Wd=new zb(a);this.ca=b;var c=1E4+2E4*Math.random();setTimeout(q(this.Ff,this),Math.floor(c))}Ab.prototype.Ff=function(){var a=this.Wd.get(),b={},c=!1,d;for(d in a)0<a[d]&&v(this.Lf,d)&&(b[d]=a[d],c=!0);c&&this.ca.Re(b);setTimeout(q(this.Ff,this),Math.floor(6E5*Math.random()))};var Bb={},Cb={};function Db(a){a=a.toString();Bb[a]||(Bb[a]=new xb);return Bb[a]}function Eb(a,b){var c=a.toString();Cb[c]||(Cb[c]=b());return Cb[c]};function Fb(a){this.Fc=a;this.Ld="firebase:"}h=Fb.prototype;h.set=function(a,b){null==b?this.Fc.removeItem(this.Ld+a):this.Fc.setItem(this.Ld+a,u(b))};h.get=function(a){a=this.Fc.getItem(this.Ld+a);return null==a?null:fb(a)};h.remove=function(a){this.Fc.removeItem(this.Ld+a)};h.rf=!1;h.toString=function(){return this.Fc.toString()};function Gb(){this.yc={}}Gb.prototype.set=function(a,b){null==b?delete this.yc[a]:this.yc[a]=b};Gb.prototype.get=function(a){return v(this.yc,a)?this.yc[a]:null};Gb.prototype.remove=function(a){delete this.yc[a]};Gb.prototype.rf=!0;function Hb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new Fb(b)}}catch(c){}return new Gb}var Ib=Hb("localStorage"),Jb=Hb("sessionStorage");function Kb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.ib=b;this.zb=c;this.Ug=d;this.Kd=e||"";this.Na=Ib.get("host:"+a)||this.host}function Lb(a,b){b!==a.Na&&(a.Na=b,"s-"===a.Na.substr(0,2)&&Ib.set("host:"+a.host,a.Na))}Kb.prototype.toString=function(){var a=(this.ib?"https://":"http://")+this.host;this.Kd&&(a+="<"+this.Kd+">");return a};(function(){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){var b=function(a,b,c){this.chunk=a;this.encoding=b;this.callback=c},c=function(a,c,d,e,m){c.objectMode||!1===c.decodeStrings||"string"!==typeof d||(d=new Buffer(d,e));Buffer.isBuffer(d)&&(e="buffer");var t=c.objectMode?1:d.length;c.length+=t;var x=c.length<c.highWaterMark;x||(c.needDrain=!0);c.writing?c.buffer.push(new b(d,e,m)):(c.writelen=t,c.writecb=m,c.writing=!0,c.sync=!0,a._write(d,e,c.onwrite),c.sync=!1);return x},
d=function(a,b,c,d){var e=!0;if(!Buffer.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var t=new TypeError("Invalid non-string/buffer chunk");a.emit("error",t);process.nextTick(function(){d(t)});e=!1}return e},e=function(a,b){var c=Error("write after end");a.emit("error",c);process.nextTick(function(){b(c)})},a=require("_stream_writable");a.prototype.write=function(a,b,k){var l=this._writableState,m=!1;"function"===typeof b&&(k=b,b=null);Buffer.isBuffer(a)?b="buffer":b||(b=
l.defaultEncoding);"function"!==typeof k&&(k=function(){});l.ended?e(this,k):d(this,l,a,k)&&(m=c(this,l,a,b,k));return m};require("_stream_duplex").prototype.write=a.prototype.write}})();function F(a,b){if(1==arguments.length){this.n=a.split("/");for(var c=0,d=0;d<this.n.length;d++)0<this.n[d].length&&(this.n[c]=this.n[d],c++);this.n.length=c;this.Y=0}else this.n=a,this.Y=b}function G(a,b){var c=H(a);if(null===c)return b;if(c===H(b))return G(B(a),B(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function H(a){return a.Y>=a.n.length?null:a.n[a.Y]}function Mb(a){return a.n.length-a.Y}
function B(a){var b=a.Y;b<a.n.length&&b++;return new F(a.n,b)}function Nb(a){return a.Y<a.n.length?a.n[a.n.length-1]:null}h=F.prototype;h.toString=function(){for(var a="",b=this.Y;b<this.n.length;b++)""!==this.n[b]&&(a+="/"+this.n[b]);return a||"/"};h.slice=function(a){return this.n.slice(this.Y+(a||0))};h.parent=function(){if(this.Y>=this.n.length)return null;for(var a=[],b=this.Y;b<this.n.length-1;b++)a.push(this.n[b]);return new F(a,0)};
h.w=function(a){for(var b=[],c=this.Y;c<this.n.length;c++)b.push(this.n[c]);if(a instanceof F)for(c=a.Y;c<a.n.length;c++)b.push(a.n[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new F(b,0)};h.e=function(){return this.Y>=this.n.length};h.Z=function(a){if(Mb(this)!==Mb(a))return!1;for(var b=this.Y,c=a.Y;b<=this.n.length;b++,c++)if(this.n[b]!==a.n[c])return!1;return!0};
h.contains=function(a){var b=this.Y,c=a.Y;if(Mb(this)>Mb(a))return!1;for(;b<this.n.length;){if(this.n[b]!==a.n[c])return!1;++b;++c}return!0};var C=new F("");function Ob(a,b){this.Pa=a.slice();this.Da=Math.max(1,this.Pa.length);this.gf=b;for(var c=0;c<this.Pa.length;c++)this.Da+=Pb(this.Pa[c]);Qb(this)}Ob.prototype.push=function(a){0<this.Pa.length&&(this.Da+=1);this.Pa.push(a);this.Da+=Pb(a);Qb(this)};Ob.prototype.pop=function(){var a=this.Pa.pop();this.Da-=Pb(a);0<this.Pa.length&&--this.Da};
function Qb(a){if(768<a.Da)throw Error(a.gf+"has a key path longer than 768 bytes ("+a.Da+").");if(32<a.Pa.length)throw Error(a.gf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rb(a));}function Rb(a){return 0==a.Pa.length?"":"in property '"+a.Pa.join(".")+"'"};function Sb(a,b){return a&&"object"===typeof a?(I(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Tb(a,b){var c=new Ub;Vb(a,new F(""),function(a,e){c.pc(a,Wb(e,b))});return c}function Wb(a,b){var c=a.B().A(),c=Sb(c,b),d;if(a.N()){var e=Sb(a.xa(),b);return e!==a.xa()||c!==a.B().A()?new Xb(e,K(c)):a}d=a;c!==a.B().A()&&(d=d.da(new Xb(c)));a.U(L,function(a,c){var e=Wb(c,b);e!==c&&(d=d.Q(a,e))});return d};function Yb(a,b){this.Ka=a;this.Aa=b?b:Zb}h=Yb.prototype;h.Ma=function(a,b){return new Yb(this.Ka,this.Aa.Ma(a,b,this.Ka).X(null,null,!1,null,null))};h.remove=function(a){return new Yb(this.Ka,this.Aa.remove(a,this.Ka).X(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.Aa;!c.e();){b=this.Ka(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function $b(a,b){for(var c,d=a.Aa,e=null;!d.e();){c=a.Ka(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.e=function(){return this.Aa.e()};h.count=function(){return this.Aa.count()};h.Sc=function(){return this.Aa.Sc()};h.hc=function(){return this.Aa.hc()};h.ha=function(a){return this.Aa.ha(a)};
h.Zb=function(a){return new ac(this.Aa,null,this.Ka,!1,a)};h.$b=function(a,b){return new ac(this.Aa,a,this.Ka,!1,b)};h.bc=function(a,b){return new ac(this.Aa,a,this.Ka,!0,b)};h.of=function(a){return new ac(this.Aa,null,this.Ka,!0,a)};function ac(a,b,c,d,e){this.Qd=e||null;this.Be=d;this.Oa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Be?a.left:a.right;else if(0===e){this.Oa.push(a);break}else this.Oa.push(a),a=this.Be?a.right:a.left}
function M(a){if(0===a.Oa.length)return null;var b=a.Oa.pop(),c;c=a.Qd?a.Qd(b.key,b.value):{key:b.key,value:b.value};if(a.Be)for(b=b.left;!b.e();)a.Oa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Oa.push(b),b=b.left;return c}function bc(a){if(0===a.Oa.length)return null;var b;b=a.Oa;b=b[b.length-1];return a.Qd?a.Qd(b.key,b.value):{key:b.key,value:b.value}}function cc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Zb;this.right=null!=e?e:Zb}h=cc.prototype;
h.X=function(a,b,c,d,e){return new cc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.ha=function(a){return this.left.ha(a)||a(this.key,this.value)||this.right.ha(a)};function dc(a){return a.left.e()?a:dc(a.left)}h.Sc=function(){return dc(this).key};h.hc=function(){return this.right.e()?this.key:this.right.hc()};
h.Ma=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Ma(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Ma(a,b,c));return ec(e)};function fc(a){if(a.left.e())return Zb;a.left.fa()||a.left.left.fa()||(a=gc(a));a=a.X(null,null,null,fc(a.left),null);return ec(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=gc(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=hc(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=ic(c),c.left.left.fa()&&(c=hc(c),c=ic(c)));if(0===b(a,c.key)){if(c.right.e())return Zb;d=dc(c.right);c=c.X(d.key,d.value,null,null,fc(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return ec(c)};h.fa=function(){return this.color};
function ec(a){a.right.fa()&&!a.left.fa()&&(a=jc(a));a.left.fa()&&a.left.left.fa()&&(a=hc(a));a.left.fa()&&a.right.fa()&&(a=ic(a));return a}function gc(a){a=ic(a);a.right.left.fa()&&(a=a.X(null,null,null,null,hc(a.right)),a=jc(a),a=ic(a));return a}function jc(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function hc(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}
function ic(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function kc(){}h=kc.prototype;h.X=function(){return this};h.Ma=function(a,b){return new cc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.ha=function(){return!1};h.Sc=function(){return null};h.hc=function(){return null};h.fa=function(){return!1};var Zb=new kc;var lc=function(){var a=1;return function(){return a++}}();function I(a,b){if(!a)throw mc(b);}function mc(a){return Error("Firebase (0.0.0) INTERNAL ASSERT FAILED: "+a)}function nc(a){try{return(new Buffer(a,"base64")).toString("utf8")}catch(b){N("base64Decode failed: ",b)}return null}
function oc(a){var b=pc(a);a=new oa;a.update(b);var b=[],c=8*a.$d;56>a.cc?a.update(a.Hd,56-a.cc):a.update(a.Hd,a.Va-(a.cc-56));for(var d=a.Va-1;56<=d;d--)a.ie[d]=c&255,c/=256;pa(a,a.ie);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.R[d]>>e&255,++c;return eb(b)}function qc(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+qc.apply(null,arguments[c]):"object"===typeof arguments[c]?b+u(arguments[c]):b+arguments[c],b+=" ";return b}var rc=null,sc=!0;
function N(a){!0===sc&&(sc=!1,null===rc&&!0===Jb.get("logging_enabled")&&tc(!0));if(rc){var b=qc.apply(null,arguments);rc(b)}}function uc(a){return function(){N(a,arguments)}}function vc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+qc.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function wc(a){var b=qc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}
function O(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+qc.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function xc(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(p(a)){var l=a.indexOf("//");0<=l&&(g=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(t){}e+="/"+m}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===g||"wss"===g,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=p(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Qg:d,ib:f,scheme:g,mc:e}}function yc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function zc(a){a()}function tb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Ac(a),d=Ac(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}
function Bc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+u(b));}function Cc(a){if("object"!==typeof a||null===a)return u(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=u(b[d]),c+=":",c+=Cc(a[b[d]]);return c+"}"}function Dc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}
function Ec(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else r(a,b)}
function Fc(a){I(!yc(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Gc=/^-?\d{1,10}$/;function Ac(a){return Gc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Hc(a){try{a()}catch(b){setTimeout(function(){O("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function P(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Hc(function(){a.apply(null,c)})}};function Ic(a){var b={},c={},d={},e="";try{var f=a.split("."),b=fb(nc(f[0])||""),c=fb(nc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{Zg:b,Cc:c,data:d,Ng:e}}function Jc(a){a=Ic(a).Cc;return"object"===typeof a&&a.hasOwnProperty("iat")?w(a,"iat"):null}function Kc(a){a=Ic(a);var b=a.Cc;return!!a.Ng&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function pc(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,I(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Pb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function Lc(a,b,c){this.type=Mc;this.source=a;this.path=b;this.children=c}Lc.prototype.Xc=function(a){if(this.path.e())return a=this.children.subtree(new F(a)),a.e()?null:a.value?new qb(this.source,C,a.value):new Lc(this.source,C,a);I(H(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new Lc(this.source,B(this.path),this.children)};Lc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var rb=0,Mc=1,mb=2,pb=3;function Nc(a,b,c,d){this.se=a;this.lf=b;this.Fb=c;this.Ze=d;I(!d||b,"Tagged queries must be from server.")}var nb=new Nc(!0,!1,null,!1),Oc=new Nc(!1,!0,null,!1);Nc.prototype.toString=function(){return this.se?"user":this.Ze?"server(queryID="+this.Fb+")":"server"};function Pc(a,b){this.f=uc("p:rest:");this.I=a;this.Db=b;this.Ea=null;this.aa={}}function Qc(a,b){if(n(b))return"tag$"+b;var c=a.o;I(Rc(c)&&c.g==L,"should have a tag if it's not a default query.");return a.path.toString()}h=Pc.prototype;
h.tf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.za());var f=Qc(a,c),g={};this.aa[f]=g;a=Sc(a.o);var k=this;Tc(this,e+".json",a,function(a,b){var t=b;404===a&&(a=t=null);null===a&&k.Db(e,t,!1,c);w(k.aa,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.Nf=function(a,b){var c=Qc(a,b);delete this.aa[c]};h.P=function(a,b){this.Ea=a;var c=Ic(a),d=c.data,c=c.Cc&&c.Cc.exp;b&&b("ok",{auth:d,expires:c})};h.ce=function(a){this.Ea=null;a("ok",null)};
h.Je=function(){};h.Af=function(){};h.Fd=function(){};h.put=function(){};h.uf=function(){};h.Re=function(){};
function Tc(a,b,c,d){c=c||{};c.format="export";a.Ea&&(c.auth=a.Ea);var e=(a.I.ib?"https://":"http://")+a.I.host+b+"?"+ib(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=fb(f.responseText)}catch(c){O("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&O("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function Uc(){}var Vc={};function Wc(a){return q(a.compare,a)}Uc.prototype.vd=function(a,b){return 0!==this.compare(new D("[MIN_NAME]",a),new D("[MIN_NAME]",b))};Uc.prototype.Tc=function(){return Xc};function Yc(a){this.ec=a}ma(Yc,Uc);h=Yc.prototype;h.Ic=function(a){return!a.M(this.ec).e()};h.compare=function(a,b){var c=a.S.M(this.ec),d=b.S.M(this.ec),c=c.Dc(d);return 0===c?tb(a.name,b.name):c};h.Pc=function(a,b){var c=K(a),c=E.Q(this.ec,c);return new D(b,c)};
h.Qc=function(){var a=E.Q(this.ec,Zc);return new D("[MAX_NAME]",a)};h.toString=function(){return this.ec};function $c(){}ma($c,Uc);h=$c.prototype;h.compare=function(a,b){var c=a.S.B(),d=b.S.B(),c=c.Dc(d);return 0===c?tb(a.name,b.name):c};h.Ic=function(a){return!a.B().e()};h.vd=function(a,b){return!a.B().Z(b.B())};h.Tc=function(){return Xc};h.Qc=function(){return new D("[MAX_NAME]",new Xb("[PRIORITY-POST]",Zc))};h.Pc=function(a,b){var c=K(a);return new D(b,new Xb("[PRIORITY-POST]",c))};
h.toString=function(){return".priority"};var L=new $c;function ad(){}ma(ad,Uc);h=ad.prototype;h.compare=function(a,b){return tb(a.name,b.name)};h.Ic=function(){throw mc("KeyIndex.isDefinedOn not expected to be called.");};h.vd=function(){return!1};h.Tc=function(){return Xc};h.Qc=function(){return new D("[MAX_NAME]",E)};h.Pc=function(a){I(p(a),"KeyIndex indexValue must always be a string.");return new D(a,E)};h.toString=function(){return".key"};var bd=new ad;function cd(){}ma(cd,Uc);h=cd.prototype;
h.compare=function(a,b){var c=a.S.Dc(b.S);return 0===c?tb(a.name,b.name):c};h.Ic=function(){return!0};h.vd=function(a,b){return!a.Z(b)};h.Tc=function(){return Xc};h.Qc=function(){return dd};h.Pc=function(a,b){var c=K(a);return new D(b,c)};h.toString=function(){return".value"};var ed=new cd;function fd(a,b){this.wd=a;this.fc=b}fd.prototype.get=function(a){var b=w(this.wd,a);if(!b)throw Error("No index defined for "+a);return b===Vc?null:b};function gd(a,b,c){var d=wa(a.wd,function(d,f){var g=w(a.fc,f);I(g,"Missing index implementation for "+f);if(d===Vc){if(g.Ic(b.S)){for(var k=[],l=c.Zb(vb),m=M(l);m;)m.name!=b.name&&k.push(m),m=M(l);k.push(b);return hd(k,Wc(g))}return Vc}g=c.get(b.name);k=d;g&&(k=k.remove(new D(b.name,g)));return k.Ma(b,b.S)});return new fd(d,a.fc)}
function id(a,b,c){var d=wa(a.wd,function(a){if(a===Vc)return a;var d=c.get(b.name);return d?a.remove(new D(b.name,d)):a});return new fd(d,a.fc)}var jd=new fd({".priority":Vc},{".priority":L});function Xb(a,b){this.D=a;I(n(this.D)&&null!==this.D,"LeafNode shouldn't be created with null/undefined value.");this.ba=b||E;kd(this.ba);this.yb=null}h=Xb.prototype;h.N=function(){return!0};h.B=function(){return this.ba};h.da=function(a){return new Xb(this.D,a)};h.M=function(a){return".priority"===a?this.ba:E};h.oa=function(a){return a.e()?this:".priority"===H(a)?this.ba:E};h.Ga=function(){return!1};h.nf=function(){return null};
h.Q=function(a,b){return".priority"===a?this.da(b):b.e()&&".priority"!==a?this:E.Q(a,b).da(this.ba)};h.H=function(a,b){var c=H(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;I(".priority"!==c||1===Mb(a),".priority must be the last token in a path");return this.Q(c,E.H(B(a),b))};h.e=function(){return!1};h.Ab=function(){return 0};h.A=function(a){return a&&!this.B().e()?{".value":this.xa(),".priority":this.B().A()}:this.xa()};
h.hash=function(){if(null===this.yb){var a="";this.ba.e()||(a+="priority:"+ld(this.ba.A())+":");var b=typeof this.D,a=a+(b+":"),a="number"===b?a+Fc(this.D):a+this.D;this.yb=oc(a)}return this.yb};h.xa=function(){return this.D};h.Dc=function(a){if(a===E)return 1;if(a instanceof Q)return-1;I(a.N(),"Unknown node type");var b=typeof a.D,c=typeof this.D,d=La(md,b),e=La(md,c);I(0<=d,"Unknown leaf type: "+b);I(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.D<a.D?-1:this.D===a.D?0:1:e-d};
var md=["object","boolean","number","string"];Xb.prototype.jb=function(){return this};Xb.prototype.Jc=function(){return!0};Xb.prototype.Z=function(a){return a===this?!0:a.N()?this.D===a.D&&this.ba.Z(a.ba):!1};Xb.prototype.toString=function(){return u(this.A(!0))};function Q(a,b,c){this.m=a;(this.ba=b)&&kd(this.ba);a.e()&&I(!this.ba||this.ba.e(),"An empty node cannot have a priority");this.tb=c;this.yb=null}h=Q.prototype;h.N=function(){return!1};h.B=function(){return this.ba||E};h.da=function(a){return this.m.e()?this:new Q(this.m,a,this.tb)};h.M=function(a){if(".priority"===a)return this.B();a=this.m.get(a);return null===a?E:a};h.oa=function(a){var b=H(a);return null===b?this:this.M(b).oa(B(a))};h.Ga=function(a){return null!==this.m.get(a)};
h.Q=function(a,b){I(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.da(b);var c=new D(a,b),d,e;b.e()?(d=this.m.remove(a),c=id(this.tb,c,this.m)):(d=this.m.Ma(a,b),c=gd(this.tb,c,this.m));e=d.e()?E:this.ba;return new Q(d,e,c)};h.H=function(a,b){var c=H(a);if(null===c)return b;I(".priority"!==H(a)||1===Mb(a),".priority must be the last token in a path");var d=this.M(c).H(B(a),b);return this.Q(c,d)};h.e=function(){return this.m.e()};h.Ab=function(){return this.m.count()};
var nd=/^(0|[1-9]\d*)$/;h=Q.prototype;h.A=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.U(L,function(f,g){b[f]=g.A(a);c++;e&&nd.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.B().e()&&(b[".priority"]=this.B().A());return b};h.hash=function(){if(null===this.yb){var a="";this.B().e()||(a+="priority:"+ld(this.B().A())+":");this.U(L,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.yb=""===a?"":oc(a)}return this.yb};
h.nf=function(a,b,c){return(c=od(this,c))?(a=$b(c,new D(a,b)))?a.name:null:$b(this.m,a)};function pd(a,b){var c;c=(c=od(a,b))?(c=c.Sc())&&c.name:a.m.Sc();return c?new D(c,a.m.get(c)):null}function qd(a,b){var c;c=(c=od(a,b))?(c=c.hc())&&c.name:a.m.hc();return c?new D(c,a.m.get(c)):null}h.U=function(a,b){var c=od(this,a);return c?c.ha(function(a){return b(a.name,a.S)}):this.m.ha(b)};h.Zb=function(a){return this.$b(a.Tc(),a)};
h.$b=function(a,b){var c=od(this,b);if(c)return c.$b(a,function(a){return a});for(var c=this.m.$b(a.name,vb),d=bc(c);null!=d&&0>b.compare(d,a);)M(c),d=bc(c);return c};h.of=function(a){return this.bc(a.Qc(),a)};h.bc=function(a,b){var c=od(this,b);if(c)return c.bc(a,function(a){return a});for(var c=this.m.bc(a.name,vb),d=bc(c);null!=d&&0<b.compare(d,a);)M(c),d=bc(c);return c};h.Dc=function(a){return this.e()?a.e()?0:-1:a.N()||a.e()?1:a===Zc?-1:0};
h.jb=function(a){if(a===bd||Ca(this.tb.fc,a.toString()))return this;var b=this.tb,c=this.m;I(a!==bd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Zb(vb),f=M(c);f;)e=e||a.Ic(f.S),d.push(f),f=M(c);d=e?hd(d,Wc(a)):Vc;e=a.toString();c=Ga(b.fc);c[e]=a;a=Ga(b.wd);a[e]=d;return new Q(this.m,this.ba,new fd(a,c))};h.Jc=function(a){return a===bd||Ca(this.tb.fc,a.toString())};
h.Z=function(a){if(a===this)return!0;if(a.N())return!1;if(this.B().Z(a.B())&&this.m.count()===a.m.count()){var b=this.Zb(L);a=a.Zb(L);for(var c=M(b),d=M(a);c&&d;){if(c.name!==d.name||!c.S.Z(d.S))return!1;c=M(b);d=M(a)}return null===c&&null===d}return!1};function od(a,b){return b===bd?null:a.tb.get(b.toString())}h.toString=function(){return u(this.A(!0))};function K(a,b){if(null===a)return E;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);I(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Xb(a,K(c));if(a instanceof Array){var d=E,e=a;r(e,function(a,b){if(v(e,b)&&"."!==b.substring(0,1)){var c=K(a);if(c.N()||!c.e())d=
d.Q(b,c)}});return d.da(K(c))}var f=[],g=!1,k=a;gb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=K(k[a]);b.e()||(g=g||!b.B().e(),f.push(new D(a,b)))}});if(0==f.length)return E;var l=hd(f,sb,function(a){return a.name},ub);if(g){var m=hd(f,Wc(L));return new Q(l,K(c),new fd({".priority":m},{".priority":L}))}return new Q(l,K(c),jd)}var rd=Math.log(2);
function sd(a){this.count=parseInt(Math.log(a+1)/rd,10);this.ef=this.count-1;this.ag=a+1&parseInt(Array(this.count+1).join("1"),2)}function ud(a){var b=!(a.ag&1<<a.ef);a.ef--;return b}
function hd(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],t=c?c(m):m;return new cc(t,m.S,!1,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),x=e(m+1,d),m=a[m],t=c?c(m):m;return new cc(t,m.S,!1,f,x)}a.sort(b);var f=function(b){function d(b,g){var k=t-b,x=t;t-=b;var x=e(k+1,x),k=a[k],J=c?c(k):k,x=new cc(J,k.S,g,null,x);f?f.left=x:m=x;f=x}for(var f=null,m=null,t=a.length,x=0;x<b.count;++x){var J=ud(b),td=Math.pow(2,b.count-(x+1));J?d(td,!1):(d(td,!1),d(td,!0))}return m}(new sd(a.length));
return null!==f?new Yb(d||b,f):new Yb(d||b)}function ld(a){return"number"===typeof a?"number:"+Fc(a):"string:"+a}function kd(a){if(a.N()){var b=a.A();I("string"===typeof b||"number"===typeof b||"object"===typeof b&&v(b,".sv"),"Priority must be a string or number.")}else I(a===Zc||a.e(),"priority of unexpected type.");I(a===Zc||a.B().e(),"Priority nodes can't have a priority of their own.")}var E=new Q(new Yb(ub),null,jd);function vd(){Q.call(this,new Yb(ub),E,jd)}ma(vd,Q);h=vd.prototype;
h.Dc=function(a){return a===this?0:1};h.Z=function(a){return a===this};h.B=function(){return this};h.M=function(){return E};h.e=function(){return!1};var Zc=new vd,Xc=new D("[MIN_NAME]",E),dd=new D("[MAX_NAME]",Zc);function wd(){this.set={}}h=wd.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return v(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return Fa(this.set)};h.count=function(){return ya(this.set)};function xd(a,b){r(a.set,function(a,d){b(d,a)})}h.keys=function(){var a=[];r(this.set,function(b,c){a.push(c)});return a};function Ub(){this.m=this.D=null}Ub.prototype.find=function(a){if(null!=this.D)return this.D.oa(a);if(a.e()||null==this.m)return null;var b=H(a);a=B(a);return this.m.contains(b)?this.m.get(b).find(a):null};Ub.prototype.pc=function(a,b){if(a.e())this.D=b,this.m=null;else if(null!==this.D)this.D=this.D.H(a,b);else{null==this.m&&(this.m=new wd);var c=H(a);this.m.contains(c)||this.m.add(c,new Ub);c=this.m.get(c);a=B(a);c.pc(a,b)}};
function yd(a,b){if(b.e())return a.D=null,a.m=null,!0;if(null!==a.D){if(a.D.N())return!1;var c=a.D;a.D=null;c.U(L,function(b,c){a.pc(new F(b),c)});return yd(a,b)}return null!==a.m?(c=H(b),b=B(b),a.m.contains(c)&&yd(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Vb(a,b,c){null!==a.D?c(b,a.D):a.U(function(a,e){var f=new F(b.toString()+"/"+a);Vb(e,f,c)})}Ub.prototype.U=function(a){null!==this.m&&xd(this.m,function(b,c){a(b,c)})};function zd(a){I(ea(a)&&0<a.length,"Requires a non-empty array");this.Tf=a;this.Oc={}}zd.prototype.be=function(a,b){for(var c=this.Oc[a]||[],d=0;d<c.length;d++)c[d].Ac.apply(c[d].La,Array.prototype.slice.call(arguments,1))};zd.prototype.Bb=function(a,b,c){Ad(this,a);this.Oc[a]=this.Oc[a]||[];this.Oc[a].push({Ac:b,La:c});(a=this.we(a))&&b.apply(c,a)};zd.prototype.ic=function(a,b,c){Ad(this,a);a=this.Oc[a]||[];for(var d=0;d<a.length;d++)if(a[d].Ac===b&&(!c||c===a[d].La)){a.splice(d,1);break}};
function Ad(a,b){I(Ra(a.Tf,function(a){return a===b}),"Unknown event: "+b)};function Bd(a,b){this.value=a;this.children=b||Cd}var Cd=new Yb(function(a,b){return a===b?0:a<b?-1:1});function Dd(a){var b=Ed;r(a,function(a,d){b=b.set(new F(d),a)});return b}h=Bd.prototype;h.e=function(){return null===this.value&&this.children.e()};function Fd(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=H(b);a=a.children.get(d);return null!==a?(b=Fd(a,B(b),c),null!=b?{path:(new F(d)).w(b.path),value:b.value}:null):null}
function Gd(a,b){return Fd(a,b,function(){return!0})}h.subtree=function(a){if(a.e())return this;var b=this.children.get(H(a));return null!==b?b.subtree(B(a)):Ed};h.set=function(a,b){if(a.e())return new Bd(b,this.children);var c=H(a),d=(this.children.get(c)||Ed).set(B(a),b),c=this.children.Ma(c,d);return new Bd(this.value,c)};
h.remove=function(a){if(a.e())return this.children.e()?Ed:new Bd(null,this.children);var b=H(a),c=this.children.get(b);return c?(a=c.remove(B(a)),b=a.e()?this.children.remove(b):this.children.Ma(b,a),null===this.value&&b.e()?Ed:new Bd(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(H(a));return b?b.get(B(a)):null};
function Hd(a,b,c){if(b.e())return c;var d=H(b);b=Hd(a.children.get(d)||Ed,B(b),c);d=b.e()?a.children.remove(d):a.children.Ma(d,b);return new Bd(a.value,d)}function Id(a,b){return Jd(a,C,b)}function Jd(a,b,c){var d={};a.children.ha(function(a,f){d[a]=Jd(f,b.w(a),c)});return c(b,a.value,d)}function Kd(a,b,c){return Ld(a,b,C,c)}function Ld(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=H(b);return(a=a.children.get(e))?Ld(a,B(b),c.w(e),d):null}
function Md(a,b,c){var d=C;if(!b.e()){var e=!0;a.value&&(e=c(d,a.value));!0===e&&(e=H(b),(a=a.children.get(e))&&Nd(a,B(b),d.w(e),c))}}function Nd(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=H(b);return(a=a.children.get(e))?Nd(a,B(b),c.w(e),d):Ed}function Od(a,b){Pd(a,C,b)}function Pd(a,b,c){a.children.ha(function(a,e){Pd(e,b.w(a),c)});a.value&&c(b,a.value)}function Qd(a,b){a.children.ha(function(a,d){d.value&&b(a,d.value)})}var Ed=new Bd(null);
Bd.prototype.toString=function(){var a={};Od(this,function(b,c){a[b.toString()]=c.toString()});return u(a)};function Rd(a){this.W=a}var Sd=new Rd(new Bd(null));function Td(a,b,c){if(b.e())return new Rd(new Bd(c));var d=Gd(a.W,b);if(null!=d){var e=d.path,d=d.value;b=G(e,b);d=d.H(b,c);return new Rd(a.W.set(e,d))}a=Hd(a.W,b,new Bd(c));return new Rd(a)}function Ud(a,b,c){var d=a;gb(c,function(a,c){d=Td(d,b.w(a),c)});return d}Rd.prototype.Nd=function(a){if(a.e())return Sd;a=Hd(this.W,a,Ed);return new Rd(a)};function Vd(a,b){var c=Gd(a.W,b);return null!=c?a.W.get(c.path).oa(G(c.path,b)):null}
function Wd(a){var b=[],c=a.W.value;null!=c?c.N()||c.U(L,function(a,c){b.push(new D(a,c))}):a.W.children.ha(function(a,c){null!=c.value&&b.push(new D(a,c.value))});return b}function Xd(a,b){if(b.e())return a;var c=Vd(a,b);return null!=c?new Rd(new Bd(c)):new Rd(a.W.subtree(b))}Rd.prototype.e=function(){return this.W.e()};Rd.prototype.apply=function(a){return Yd(C,this.W,a)};
function Yd(a,b,c){if(null!=b.value)return c.H(a,b.value);var d=null;b.children.ha(function(b,f){".priority"===b?(I(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Yd(a.w(b),f,c)});c.oa(a).e()||null===d||(c=c.H(a.w(".priority"),d));return c};var Zd=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);I(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);I(20===c.length,"nextPushId: Length should be 20.");
return c}}();function $d(){zd.call(this,["online"]);this.kc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.kc||(a.kc=!0,a.be("online",!0))},!1);window.addEventListener("offline",function(){a.kc&&(a.kc=!1,a.be("online",!1))},!1)}}ma($d,zd);$d.prototype.we=function(a){I("online"===a,"Unknown event type: "+a);return[this.kc]};ca($d);function ae(){this.children={};this.ld=0;this.value=null}function be(a,b,c){this.Cd=a?a:"";this.Zc=b?b:null;this.C=c?c:new ae}function ce(a,b){for(var c=b instanceof F?b:new F(b),d=a,e;null!==(e=H(c));)d=new be(e,d,w(d.C.children,e)||new ae),c=B(c);return d}h=be.prototype;h.xa=function(){return this.C.value};function de(a,b){I("undefined"!==typeof b,"Cannot set value to undefined");a.C.value=b;ee(a)}h.clear=function(){this.C.value=null;this.C.children={};this.C.ld=0;ee(this)};
h.rd=function(){return 0<this.C.ld};h.e=function(){return null===this.xa()&&!this.rd()};h.U=function(a){var b=this;r(this.C.children,function(c,d){a(new be(d,b,c))})};function fe(a,b,c,d){c&&!d&&b(a);a.U(function(a){fe(a,b,!0,d)});c&&d&&b(a)}function ge(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new F(null===this.Zc?this.Cd:this.Zc.path()+"/"+this.Cd)};h.name=function(){return this.Cd};h.parent=function(){return this.Zc};
function ee(a){if(null!==a.Zc){var b=a.Zc,c=a.Cd,d=a.e(),e=v(b.C.children,c);d&&e?(delete b.C.children[c],b.C.ld--,ee(b)):d||e||(b.C.children[c]=a.C,b.C.ld++,ee(b))}};var he=/[\[\].#$\/\u0000-\u001F\u007F]/,ie=/[\[\].#$\u0000-\u001F\u007F]/,je=/^[a-zA-Z][a-zA-Z._\-+]+$/;function ke(a){return p(a)&&0!==a.length&&!he.test(a)}function le(a){return null===a||p(a)||ga(a)&&!yc(a)||ia(a)&&v(a,".sv")}function me(a,b,c,d){d&&!n(b)||ne(z(a,1,d),b,c)}
function ne(a,b,c){c instanceof F&&(c=new Ob(c,a));if(!n(b))throw Error(a+"contains undefined "+Rb(c));if(ha(b))throw Error(a+"contains a function "+Rb(c)+" with contents: "+b.toString());if(yc(b))throw Error(a+"contains "+b.toString()+" "+Rb(c));if(p(b)&&b.length>10485760/3&&10485760<Pb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+Rb(c)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var d=!1,e=!1;gb(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!ke(b)))throw Error(a+" contains an invalid key ("+b+") "+Rb(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);ne(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+Rb(c)+" in addition to actual children.");}}
function oe(a,b,c){if(!ia(b)||ea(b))throw Error(z(a,1,!1)+" must be an Object containing the children to replace.");if(v(b,".value"))throw Error(z(a,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');me(a,b,c,!1)}
function pe(a,b,c){if(yc(c))throw Error(z(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!le(c))throw Error(z(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function qe(a,b,c){if(!c||n(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(z(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function re(a,b,c,d){if((!d||n(c))&&!ke(c))throw Error(z(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function se(a,b){if(!p(b)||0===b.length||ie.test(b))throw Error(z(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function te(a,b){if(".info"===H(b))throw Error(a+" failed: Can't modify data under /.info/");}function ue(a,b){if(!p(b))throw Error(z(a,1,!1)+"must be a valid credential (a string).");}function ve(a,b,c){if(!p(c))throw Error(z(a,b,!1)+"must be a valid string.");}
function we(a,b){ve(a,1,b);if(!je.test(b))throw Error(z(a,1,!1)+"'"+b+"' is not a valid authentication provider.");}function xe(a,b,c,d){if(!d||n(c))if(!ia(c)||null===c)throw Error(z(a,b,d)+"must be a valid object.");}function ye(a,b,c){if(!ia(b)||!v(b,c))throw Error(z(a,1,!1)+'must contain the key "'+c+'"');if(!p(w(b,c)))throw Error(z(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function R(a,b,c){this.C=a;this.V=b;this.g=c}R.prototype.A=function(){y("Firebase.DataSnapshot.val",0,0,arguments.length);return this.C.A()};R.prototype.val=R.prototype.A;R.prototype.hf=function(){y("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.C.A(!0)};R.prototype.exportVal=R.prototype.hf;R.prototype.kg=function(){y("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.C.e()};R.prototype.exists=R.prototype.kg;
R.prototype.w=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));se("Firebase.DataSnapshot.child",a);var b=new F(a),c=this.V.w(b);return new R(this.C.oa(b),c,L)};R.prototype.child=R.prototype.w;R.prototype.Ga=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length);se("Firebase.DataSnapshot.hasChild",a);var b=new F(a);return!this.C.oa(b).e()};R.prototype.hasChild=R.prototype.Ga;
R.prototype.B=function(){y("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.C.B().A()};R.prototype.getPriority=R.prototype.B;R.prototype.forEach=function(a){y("Firebase.DataSnapshot.forEach",1,1,arguments.length);A("Firebase.DataSnapshot.forEach",1,a,!1);if(this.C.N())return!1;var b=this;return!!this.C.U(this.g,function(c,d){return a(new R(d,b.V.w(c),L))})};R.prototype.forEach=R.prototype.forEach;
R.prototype.rd=function(){y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.C.N()?!1:!this.C.e()};R.prototype.hasChildren=R.prototype.rd;R.prototype.name=function(){O("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");y("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};R.prototype.name=R.prototype.name;R.prototype.key=function(){y("Firebase.DataSnapshot.key",0,0,arguments.length);return this.V.key()};
R.prototype.key=R.prototype.key;R.prototype.Ab=function(){y("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.C.Ab()};R.prototype.numChildren=R.prototype.Ab;R.prototype.oc=function(){y("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.V};R.prototype.ref=R.prototype.oc;function ze(){zd.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.wc=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.wc&&(c.wc=b,c.be("visible",b))},!1)}}ma(ze,zd);ze.prototype.we=function(a){I("visible"===a,"Unknown event type: "+a);return[this.wc]};ca(ze);function Ae(a,b,c){this.C=a;this.$=b;this.Wb=c}function Be(a){return a.$}function Ce(a,b){return a.$&&!a.Wb||a.C.Ga(b)}Ae.prototype.j=function(){return this.C};function S(a,b,c,d){this.type=a;this.Ia=b;this.Xa=c;this.He=d;this.Md=void 0}function De(a){return new S(Ee,a)}var Ee="value";function Fe(){this.bb={}}
function Ge(a,b){var c=b.type,d=b.Xa;I("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");I(".priority"!==d,"Only non-priority child changes can be tracked.");var e=w(a.bb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.bb[d]=new S("child_changed",b.Ia,d,e.Ia);else if("child_removed"==c&&"child_added"==f)delete a.bb[d];else if("child_removed"==c&&"child_changed"==f)a.bb[d]=new S("child_removed",e.He,d);else if("child_changed"==c&&
"child_added"==f)a.bb[d]=new S("child_added",b.Ia,d);else if("child_changed"==c&&"child_changed"==f)a.bb[d]=new S("child_changed",b.Ia,d,e.He);else throw mc("Illegal combination of changes: "+b+" occurred after "+e);}else a.bb[d]=b};function He(){}He.prototype.mf=function(){return null};He.prototype.ue=function(){return null};var Ie=new He;function Je(a,b,c){this.Pf=a;this.Ja=b;this.Gd=c}Je.prototype.mf=function(a){var b=this.Ja.F;if(Ce(b,a))return b.j().M(a);b=null!=this.Gd?new Ae(this.Gd,!0,!1):this.Ja.u();return this.Pf.Wa(a,b)};Je.prototype.ue=function(a,b,c){var d=null!=this.Gd?this.Gd:Ke(this.Ja);a=this.Pf.je(d,b,1,c,a);return 0===a.length?null:a[0]};function Le(a,b,c,d){this.qe=b;this.Ud=c;this.Md=d;this.pd=a}Le.prototype.ac=function(){var a=this.Ud.oc();return"value"===this.pd?a.path:a.parent().path};Le.prototype.ve=function(){return this.pd};Le.prototype.Xb=function(){return this.qe.Xb(this)};Le.prototype.toString=function(){return this.ac().toString()+":"+this.pd+":"+u(this.Ud.hf())};function Me(a,b,c){this.qe=a;this.error=b;this.path=c}Me.prototype.ac=function(){return this.path};Me.prototype.ve=function(){return"cancel"};
Me.prototype.Xb=function(){return this.qe.Xb(this)};Me.prototype.toString=function(){return this.path.toString()+":cancel"};function Ne(a){this.V=a;this.g=a.o.g}function Oe(a,b,c,d){var e=[],f=[];Ma(b,function(b){"child_changed"===b.type&&a.g.vd(b.He,b.Ia)&&f.push(new S("child_moved",b.Ia,b.Xa))});Pe(a,e,"child_removed",b,d,c);Pe(a,e,"child_added",b,d,c);Pe(a,e,"child_moved",f,d,c);Pe(a,e,"child_changed",b,d,c);Pe(a,e,Ee,b,d,c);return e}function Pe(a,b,c,d,e,f){d=Na(d,function(a){return a.type===c});Ua(d,q(a.eg,a));Ma(d,function(c){var d=Qe(a,c,f);Ma(e,function(e){e.Hf(c.type)&&b.push(e.createEvent(d,a.V))})})}
function Qe(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Md=c.nf(b.Xa,b.Ia,a.g));return b}Ne.prototype.eg=function(a,b){if(null==a.Xa||null==b.Xa)throw mc("Should only compare child_ events.");return this.g.compare(new D(a.Xa,a.Ia),new D(b.Xa,b.Ia))};function Re(){this.qb=[]}function Se(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.ac();null===c||f.Z(c.ac())||(a.qb.push(c),c=null);null===c&&(c=new Te(f));c.add(e)}c&&a.qb.push(c)}function Ue(a,b,c){Se(a,c);Ve(a,function(a){return a.Z(b)})}function We(a,b,c){Se(a,c);Ve(a,function(a){return a.contains(b)||b.contains(a)})}
function Ve(a,b){for(var c=!0,d=0;d<a.qb.length;d++){var e=a.qb[d];if(e)if(e=e.ac(),b(e)){for(var e=a.qb[d],f=0;f<e.qd.length;f++){var g=e.qd[f];if(null!==g){e.qd[f]=null;var k=g.Xb();rc&&N("event: "+g.toString());Hc(k)}}a.qb[d]=null}else c=!1}c&&(a.qb=[])}function Te(a){this.qa=a;this.qd=[]}Te.prototype.add=function(a){this.qd.push(a)};Te.prototype.ac=function(){return this.qa};function Xe(a,b,c){this.Nb=a;this.nb=b;this.pb=c||null}h=Xe.prototype;h.Hf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.o.g;return new Le("value",this,new R(a.Ia,b.oc(),c))};h.Xb=function(a){var b=this.pb;if("cancel"===a.ve()){I(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.Nb;return function(){d.call(b,a.Ud)}};h.cf=function(a,b){return this.nb?new Me(this,a,b):null};
h.matches=function(a){return a instanceof Xe?a.Nb&&this.Nb?a.Nb===this.Nb&&a.pb===this.pb:!0:!1};h.pf=function(){return null!==this.Nb};function Ye(a,b,c){this.ga=a;this.nb=b;this.pb=c}h=Ye.prototype;h.Hf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ga};h.cf=function(a,b){return this.nb?new Me(this,a,b):null};
h.createEvent=function(a,b){I(null!=a.Xa,"Child events should have a childName.");var c=b.oc().w(a.Xa);return new Le(a.type,this,new R(a.Ia,c,b.o.g),a.Md)};h.Xb=function(a){var b=this.pb;if("cancel"===a.ve()){I(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.ga[a.pd];return function(){d.call(b,a.Ud,a.Md)}};
h.matches=function(a){if(a instanceof Ye){if(!this.ga||!a.ga)return!0;if(this.pb===a.pb){var b=ya(a.ga);if(b===ya(this.ga)){if(1===b){var b=za(a.ga),c=za(this.ga);return c===b&&(!a.ga[b]||!this.ga[c]||a.ga[b]===this.ga[c])}return xa(this.ga,function(b,c){return a.ga[c]===b})}}}return!1};h.pf=function(){return null!==this.ga};function Ze(a){this.g=a}h=Ze.prototype;h.H=function(a,b,c,d,e){I(a.Jc(this.g),"A node must be indexed if only a child is updated");d=a.M(b);if(d.Z(c))return a;null!=e&&(c.e()?a.Ga(b)?Ge(e,new S("child_removed",d,b)):I(a.N(),"A child remove without an old child only makes sense on a leaf node"):d.e()?Ge(e,new S("child_added",c,b)):Ge(e,new S("child_changed",c,b,d)));return a.N()&&c.e()?a:a.Q(b,c).jb(this.g)};
h.ta=function(a,b,c){null!=c&&(a.N()||a.U(L,function(a,e){b.Ga(a)||Ge(c,new S("child_removed",e,a))}),b.N()||b.U(L,function(b,e){if(a.Ga(b)){var f=a.M(b);f.Z(e)||Ge(c,new S("child_changed",e,b,f))}else Ge(c,new S("child_added",e,b))}));return b.jb(this.g)};h.da=function(a,b){return a.e()?E:a.da(b)};h.Fa=function(){return!1};h.Yb=function(){return this};function $e(a){this.xe=new Ze(a.g);this.g=a.g;var b;a.la?(b=af(a),b=a.g.Pc(bf(a),b)):b=a.g.Tc();this.dd=b;a.na?(b=cf(a),a=a.g.Pc(df(a),b)):a=a.g.Qc();this.Gc=a}h=$e.prototype;h.matches=function(a){return 0>=this.g.compare(this.dd,a)&&0>=this.g.compare(a,this.Gc)};h.H=function(a,b,c,d,e){this.matches(new D(b,c))||(c=E);return this.xe.H(a,b,c,d,e)};h.ta=function(a,b,c){b.N()&&(b=E);var d=b.jb(this.g),d=d.da(E),e=this;b.U(L,function(a,b){e.matches(new D(a,b))||(d=d.Q(a,E))});return this.xe.ta(a,d,c)};
h.da=function(a){return a};h.Fa=function(){return!0};h.Yb=function(){return this.xe};function ef(a){this.ra=new $e(a);this.g=a.g;I(a.ia,"Only valid if limit has been set");this.ja=a.ja;this.Gb=!ff(a)}h=ef.prototype;h.H=function(a,b,c,d,e){this.ra.matches(new D(b,c))||(c=E);return a.M(b).Z(c)?a:a.Ab()<this.ja?this.ra.Yb().H(a,b,c,d,e):gf(this,a,b,c,d,e)};
h.ta=function(a,b,c){var d;if(b.N()||b.e())d=E.jb(this.g);else if(2*this.ja<b.Ab()&&b.Jc(this.g)){d=E.jb(this.g);b=this.Gb?b.bc(this.ra.Gc,this.g):b.$b(this.ra.dd,this.g);for(var e=0;0<b.Oa.length&&e<this.ja;){var f=M(b),g;if(g=this.Gb?0>=this.g.compare(this.ra.dd,f):0>=this.g.compare(f,this.ra.Gc))d=d.Q(f.name,f.S),e++;else break}}else{d=b.jb(this.g);d=d.da(E);var k,l,m;if(this.Gb){b=d.of(this.g);k=this.ra.Gc;l=this.ra.dd;var t=Wc(this.g);m=function(a,b){return t(b,a)}}else b=d.Zb(this.g),k=this.ra.dd,
l=this.ra.Gc,m=Wc(this.g);for(var e=0,x=!1;0<b.Oa.length;)f=M(b),!x&&0>=m(k,f)&&(x=!0),(g=x&&e<this.ja&&0>=m(f,l))?e++:d=d.Q(f.name,E)}return this.ra.Yb().ta(a,d,c)};h.da=function(a){return a};h.Fa=function(){return!0};h.Yb=function(){return this.ra.Yb()};
function gf(a,b,c,d,e,f){var g;if(a.Gb){var k=Wc(a.g);g=function(a,b){return k(b,a)}}else g=Wc(a.g);I(b.Ab()==a.ja,"");var l=new D(c,d),m=a.Gb?pd(b,a.g):qd(b,a.g),t=a.ra.matches(l);if(b.Ga(c)){var x=b.M(c),m=e.ue(a.g,m,a.Gb);null!=m&&m.name==c&&(m=e.ue(a.g,m,a.Gb));e=null==m?1:g(m,l);if(t&&!d.e()&&0<=e)return null!=f&&Ge(f,new S("child_changed",d,c,x)),b.Q(c,d);null!=f&&Ge(f,new S("child_removed",x,c));b=b.Q(c,E);return null!=m&&a.ra.matches(m)?(null!=f&&Ge(f,new S("child_added",m.S,m.name)),b.Q(m.name,
m.S)):b}return d.e()?b:t&&0<=g(m,l)?(null!=f&&(Ge(f,new S("child_removed",m.S,m.name)),Ge(f,new S("child_added",d,c))),b.Q(c,d).Q(m.name,E)):b};function hf(){this.Ub=this.na=this.Ib=this.la=this.ia=!1;this.ja=0;this.Lb="";this.gc=null;this.ub="";this.dc=null;this.sb="";this.g=L}var jf=new hf;function ff(a){return""===a.Lb?a.la:"l"===a.Lb}function bf(a){I(a.la,"Only valid if start has been set");return a.gc}function af(a){I(a.la,"Only valid if start has been set");return a.Ib?a.ub:"[MIN_NAME]"}function df(a){I(a.na,"Only valid if end has been set");return a.dc}
function cf(a){I(a.na,"Only valid if end has been set");return a.Ub?a.sb:"[MAX_NAME]"}function kf(a){var b=new hf;b.ia=a.ia;b.ja=a.ja;b.la=a.la;b.gc=a.gc;b.Ib=a.Ib;b.ub=a.ub;b.na=a.na;b.dc=a.dc;b.Ub=a.Ub;b.sb=a.sb;b.g=a.g;return b}h=hf.prototype;h.De=function(a){var b=kf(this);b.ia=!0;b.ja=a;b.Lb="";return b};h.Ee=function(a){var b=kf(this);b.ia=!0;b.ja=a;b.Lb="l";return b};h.Fe=function(a){var b=kf(this);b.ia=!0;b.ja=a;b.Lb="r";return b};
h.Vd=function(a,b){var c=kf(this);c.la=!0;n(a)||(a=null);c.gc=a;null!=b?(c.Ib=!0,c.ub=b):(c.Ib=!1,c.ub="");return c};h.od=function(a,b){var c=kf(this);c.na=!0;n(a)||(a=null);c.dc=a;n(b)?(c.Ub=!0,c.sb=b):(c.ah=!1,c.sb="");return c};function lf(a,b){var c=kf(a);c.g=b;return c}function mf(a){var b={};a.la&&(b.sp=a.gc,a.Ib&&(b.sn=a.ub));a.na&&(b.ep=a.dc,a.Ub&&(b.en=a.sb));if(a.ia){b.l=a.ja;var c=a.Lb;""===c&&(c=ff(a)?"l":"r");b.vf=c}a.g!==L&&(b.i=a.g.toString());return b}
function Rc(a){return!(a.la||a.na||a.ia)}function Sc(a){var b={};if(Rc(a)&&a.g==L)return b;var c;a.g===L?c="$priority":a.g===ed?c="$value":a.g===bd?c="$key":(I(a.g instanceof Yc,"Unrecognized index type!"),c=a.g.toString());b.orderBy=u(c);a.la&&(b.startAt=u(a.gc),a.Ib&&(b.startAt+=","+u(a.ub)));a.na&&(b.endAt=u(a.dc),a.Ub&&(b.endAt+=","+u(a.sb)));a.ia&&(ff(a)?b.limitToFirst=a.ja:b.limitToLast=a.ja);return b}h.toString=function(){return u(mf(this))};function T(a,b,c,d){this.k=a;this.path=b;this.o=c;this.lc=d}
function nf(a){var b=null,c=null;a.la&&(b=bf(a));a.na&&(c=df(a));if(a.g===bd){if(a.la){if("[MIN_NAME]"!=af(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.na){if("[MAX_NAME]"!=cf(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===L){if(null!=b&&!le(b)||null!=c&&!le(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(I(a.g instanceof Yc||a.g===ed,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function of(a){if(a.la&&a.na&&a.ia&&(!a.ia||""===a.Lb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function pf(a,b){if(!0===a.lc)throw Error(b+": You can't combine multiple orderBy calls.");}T.prototype.oc=function(){y("Query.ref",0,0,arguments.length);return new U(this.k,this.path)};T.prototype.ref=T.prototype.oc;
T.prototype.Bb=function(a,b,c,d){y("Query.on",2,4,arguments.length);qe("Query.on",a,!1);A("Query.on",2,b,!1);var e=qf("Query.on",c,d);if("value"===a)rf(this.k,this,new Xe(b,e.cancel||null,e.La||null));else{var f={};f[a]=b;rf(this.k,this,new Ye(f,e.cancel,e.La))}return b};T.prototype.on=T.prototype.Bb;
T.prototype.ic=function(a,b,c){y("Query.off",0,3,arguments.length);qe("Query.off",a,!0);A("Query.off",2,b,!0);kb("Query.off",3,c);var d=null,e=null;"value"===a?d=new Xe(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Ye(e,null,c||null));e=this.k;d=".info"===H(this.path)?e.xd.hb(this,d):e.O.hb(this,d);Ue(e.ea,this.path,d)};T.prototype.off=T.prototype.ic;
T.prototype.zg=function(a,b){function c(g){f&&(f=!1,e.ic(a,c),b.call(d.La,g))}y("Query.once",2,4,arguments.length);qe("Query.once",a,!1);A("Query.once",2,b,!1);var d=qf("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Bb(a,c,function(b){e.ic(a,c);d.cancel&&d.cancel.call(d.La,b)})};T.prototype.once=T.prototype.zg;
T.prototype.De=function(a){O("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");y("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ia)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.o.De(a);of(b);return new T(this.k,this.path,b,this.lc)};T.prototype.limit=T.prototype.De;
T.prototype.Ee=function(a){y("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ia)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new T(this.k,this.path,this.o.Ee(a),this.lc)};T.prototype.limitToFirst=T.prototype.Ee;
T.prototype.Fe=function(a){y("Query.limitToLast",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ia)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new T(this.k,this.path,this.o.Fe(a),this.lc)};T.prototype.limitToLast=T.prototype.Fe;
T.prototype.Ag=function(a){y("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');re("Query.orderByChild",1,a,!1);pf(this,"Query.orderByChild");var b=lf(this.o,new Yc(a));nf(b);return new T(this.k,
this.path,b,!0)};T.prototype.orderByChild=T.prototype.Ag;T.prototype.Bg=function(){y("Query.orderByKey",0,0,arguments.length);pf(this,"Query.orderByKey");var a=lf(this.o,bd);nf(a);return new T(this.k,this.path,a,!0)};T.prototype.orderByKey=T.prototype.Bg;T.prototype.Cg=function(){y("Query.orderByPriority",0,0,arguments.length);pf(this,"Query.orderByPriority");var a=lf(this.o,L);nf(a);return new T(this.k,this.path,a,!0)};T.prototype.orderByPriority=T.prototype.Cg;
T.prototype.Dg=function(){y("Query.orderByValue",0,0,arguments.length);pf(this,"Query.orderByValue");var a=lf(this.o,ed);nf(a);return new T(this.k,this.path,a,!0)};T.prototype.orderByValue=T.prototype.Dg;
T.prototype.Vd=function(a,b){y("Query.startAt",0,2,arguments.length);me("Query.startAt",a,this.path,!0);re("Query.startAt",2,b,!0);var c=this.o.Vd(a,b);of(c);nf(c);if(this.o.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");n(a)||(b=a=null);return new T(this.k,this.path,c,this.lc)};T.prototype.startAt=T.prototype.Vd;
T.prototype.od=function(a,b){y("Query.endAt",0,2,arguments.length);me("Query.endAt",a,this.path,!0);re("Query.endAt",2,b,!0);var c=this.o.od(a,b);of(c);nf(c);if(this.o.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new T(this.k,this.path,c,this.lc)};T.prototype.endAt=T.prototype.od;
T.prototype.hg=function(a,b){y("Query.equalTo",1,2,arguments.length);me("Query.equalTo",a,this.path,!1);re("Query.equalTo",2,b,!0);if(this.o.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Vd(a,b).od(a,b)};T.prototype.equalTo=T.prototype.hg;
T.prototype.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Y;c<a.n.length;c++)""!==a.n[c]&&(b+="/"+encodeURIComponent(String(a.n[c])));return this.k.toString()+(b||"/")};T.prototype.toString=T.prototype.toString;T.prototype.za=function(){var a=Cc(mf(this.o));return"{}"===a?"default":a};
function qf(a,b,c){var d={cancel:null,La:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.La=c,kb(a,4,d.La);else if(b)if("object"===typeof b&&null!==b)d.La=b;else if("function"===typeof b)d.cancel=b;else throw Error(z(a,3,!0)+" must either be a cancel callback or a context object.");return d};function sf(a,b){this.F=a;this.Sd=b}function tf(a,b,c,d){return new sf(new Ae(b,c,d),a.Sd)}function uf(a){return a.F.$?a.F.j():null}sf.prototype.u=function(){return this.Sd};function Ke(a){return a.Sd.$?a.Sd.j():null};function vf(a,b){this.ee=a;this.bg=b}function wf(a){this.J=a}
wf.prototype.ab=function(a,b,c,d){var e=new Fe,f;if(b.type===rb)b.source.se?c=xf(this,a,b.path,b.Ha,c,d,e):(I(b.source.lf,"Unknown source."),f=b.source.Ze,c=yf(this,a,b.path,b.Ha,c,d,f,e));else if(b.type===Mc)b.source.se?c=zf(this,a,b.path,b.children,c,d,e):(I(b.source.lf,"Unknown source."),f=b.source.Ze,c=Af(this,a,b.path,b.children,c,d,f,e));else if(b.type===mb)if(b.Te)if(f=b.path,null!=c.vc(f))c=a;else{b=new Je(c,a,d);d=a.F.j();if(f.e()||".priority"===H(f))Be(a.u())?b=c.va(Ke(a)):(b=a.u().j(),
I(b instanceof Q,"serverChildren would be complete if leaf node"),b=c.zc(b)),b=this.J.ta(d,b,e);else{f=H(f);var g=c.Wa(f,a.u());null==g&&Ce(a.u(),f)&&(g=d.M(f));b=null!=g?this.J.H(d,f,g,b,e):a.F.j().Ga(f)?this.J.H(d,f,E,b,e):d;b.e()&&Be(a.u())&&(d=c.va(Ke(a)),d.N()&&(b=this.J.ta(b,d,e)))}d=Be(a.u())||null!=c.vc(C);c=tf(a,b,d,this.J.Fa())}else c=Bf(this,a,b.path,c,d,e);else if(b.type===pb)d=b.path,b=a.u(),f=b.j(),g=b.$||d.e(),c=Cf(this,new sf(a.F,new Ae(f,g,b.Wb)),d,c,Ie,e);else throw mc("Unknown operation type: "+
b.type);e=Aa(e.bb);d=c;b=d.F;b.$&&(f=b.j().N()||b.j().e(),g=uf(a),(0<e.length||!a.F.$||f&&!b.j().Z(g)||!b.j().B().Z(g.B()))&&e.push(De(uf(d))));return new vf(c,e)};
function Cf(a,b,c,d,e,f){var g=b.F;if(null!=d.vc(c))return b;var k;if(c.e())I(Be(b.u()),"If change path is empty, we must have complete server data"),b.u().Wb?(e=Ke(b),d=d.zc(e instanceof Q?e:E)):d=d.va(Ke(b)),f=a.J.ta(b.F.j(),d,f);else{var l=H(c);if(".priority"==l)I(1==Mb(c),"Can't have a priority with additional path components"),f=g.j(),k=b.u().j(),d=d.jd(c,f,k),f=null!=d?a.J.da(f,d):g.j();else{var m=B(c);Ce(g,l)?(k=b.u().j(),d=d.jd(c,g.j(),k),d=null!=d?g.j().M(l).H(m,d):g.j().M(l)):d=d.Wa(l,b.u());
f=null!=d?a.J.H(g.j(),l,d,e,f):g.j()}}return tf(b,f,g.$||c.e(),a.J.Fa())}function yf(a,b,c,d,e,f,g,k){var l=b.u();g=g?a.J:a.J.Yb();if(c.e())d=g.ta(l.j(),d,null);else if(g.Fa()&&!l.Wb)d=l.j().H(c,d),d=g.ta(l.j(),d,null);else{var m=H(c);if((c.e()?!l.$||l.Wb:!Ce(l,H(c)))&&1<Mb(c))return b;d=l.j().M(m).H(B(c),d);d=".priority"==m?g.da(l.j(),d):g.H(l.j(),m,d,Ie,null)}l=l.$||c.e();b=new sf(b.F,new Ae(d,l,g.Fa()));return Cf(a,b,c,e,new Je(e,b,f),k)}
function xf(a,b,c,d,e,f,g){var k=b.F;e=new Je(e,b,f);if(c.e())g=a.J.ta(b.F.j(),d,g),a=tf(b,g,!0,a.J.Fa());else if(f=H(c),".priority"===f)g=a.J.da(b.F.j(),d),a=tf(b,g,k.$,k.Wb);else{var l=B(c);c=k.j().M(f);if(!l.e()){var m=e.mf(f);d=null!=m?".priority"===Nb(l)&&m.oa(l.parent()).e()?m:m.H(l,d):E}c.Z(d)?a=b:(g=a.J.H(k.j(),f,d,e,g),a=tf(b,g,k.$,a.J.Fa()))}return a}
function zf(a,b,c,d,e,f,g){var k=b;Od(d,function(d,m){var t=c.w(d);Ce(b.F,H(t))&&(k=xf(a,k,t,m,e,f,g))});Od(d,function(d,m){var t=c.w(d);Ce(b.F,H(t))||(k=xf(a,k,t,m,e,f,g))});return k}function Df(a,b){Od(b,function(b,d){a=a.H(b,d)});return a}
function Af(a,b,c,d,e,f,g,k){if(b.u().j().e()&&!Be(b.u()))return b;var l=b;c=c.e()?d:Hd(Ed,c,d);var m=b.u().j();c.children.ha(function(c,d){if(m.Ga(c)){var J=b.u().j().M(c),J=Df(J,d);l=yf(a,l,new F(c),J,e,f,g,k)}});c.children.ha(function(c,d){var J=!Be(b.u())&&null==d.value;m.Ga(c)||J||(J=b.u().j().M(c),J=Df(J,d),l=yf(a,l,new F(c),J,e,f,g,k))});return l}
function Bf(a,b,c,d,e,f){if(null!=d.vc(c))return b;var g=new Je(d,b,e),k=e=b.F.j();if(Be(b.u())){if(c.e())e=d.va(Ke(b)),k=a.J.ta(b.F.j(),e,f);else if(".priority"===H(c)){var l=d.Wa(H(c),b.u());null==l||e.e()||e.B().Z(l)||(k=a.J.da(e,l))}else l=H(c),e=d.Wa(l,b.u()),null!=e&&(k=a.J.H(b.F.j(),l,e,g,f));e=!0}else if(b.F.$||c.e())k=e,e=b.F.j(),e.N()||e.U(L,function(c){var e=d.Wa(c,b.u());null!=e&&(k=a.J.H(k,c,e,g,f))}),e=b.F.$;else{l=H(c);if(1==Mb(c)||Ce(b.F,l))c=d.Wa(l,b.u()),null!=c&&(k=a.J.H(e,l,c,
g,f));e=!1}return tf(b,k,e,a.J.Fa())};function Ef(a,b){this.V=a;var c=a.o,d=new Ze(c.g),c=Rc(c)?new Ze(c.g):c.ia?new ef(c):new $e(c);this.Ef=new wf(c);var e=b.u(),f=b.F,g=d.ta(E,e.j(),null),k=c.ta(E,f.j(),null);this.Ja=new sf(new Ae(k,f.$,c.Fa()),new Ae(g,e.$,d.Fa()));this.Ya=[];this.ig=new Ne(a)}function Ff(a){return a.V}h=Ef.prototype;h.u=function(){return this.Ja.u().j()};h.eb=function(a){var b=Ke(this.Ja);return b&&(Rc(this.V.o)||!a.e()&&!b.M(H(a)).e())?b.oa(a):null};h.e=function(){return 0===this.Ya.length};h.Mb=function(a){this.Ya.push(a)};
h.hb=function(a,b){var c=[];if(b){I(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;Ma(this.Ya,function(a){(a=a.cf(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Ya.length;++f){var g=this.Ya[f];if(!g.matches(a))e.push(g);else if(a.pf()){e=e.concat(this.Ya.slice(f+1));break}}this.Ya=e}else this.Ya=[];return c};
h.ab=function(a,b,c){a.type===Mc&&null!==a.source.Fb&&(I(Ke(this.Ja),"We should always have a full cache before handling merges"),I(uf(this.Ja),"Missing event cache, even though we have a server cache"));var d=this.Ja;a=this.Ef.ab(d,a,b,c);b=this.Ef;c=a.ee;I(c.F.j().Jc(b.J.g),"Event snap not indexed");I(c.u().j().Jc(b.J.g),"Server snap not indexed");I(Be(a.ee.u())||!Be(d.u()),"Once a server snap is complete, it should never go back");this.Ja=a.ee;return Gf(this,a.bg,a.ee.F.j(),null)};
function Hf(a,b){var c=a.Ja.F,d=[];c.j().N()||c.j().U(L,function(a,b){d.push(new S("child_added",b,a))});c.$&&d.push(De(c.j()));return Gf(a,d,c.j(),b)}function Gf(a,b,c,d){return Oe(a.ig,b,c,d?[d]:a.Ya)};function If(){this.Ba={}}h=If.prototype;h.e=function(){return Fa(this.Ba)};h.ab=function(a,b,c){var d=a.source.Fb;if(null!==d)return d=w(this.Ba,d),I(null!=d,"SyncTree gave us an op for an invalid query."),d.ab(a,b,c);var e=[];r(this.Ba,function(d){e=e.concat(d.ab(a,b,c))});return e};h.Mb=function(a,b,c,d,e){var f=a.za(),g=w(this.Ba,f);if(!g){var g=c.va(e?d:null),k=!1;g?k=!0:(g=d instanceof Q?c.zc(d):E,k=!1);g=new Ef(a,new sf(new Ae(g,k,!1),new Ae(d,e,!1)));this.Ba[f]=g}g.Mb(b);return Hf(g,b)};
h.hb=function(a,b,c){var d=a.za(),e=[],f=[],g=null!=Jf(this);if("default"===d){var k=this;r(this.Ba,function(a,d){f=f.concat(a.hb(b,c));a.e()&&(delete k.Ba[d],Rc(a.V.o)||e.push(a.V))})}else{var l=w(this.Ba,d);l&&(f=f.concat(l.hb(b,c)),l.e()&&(delete this.Ba[d],Rc(l.V.o)||e.push(l.V)))}g&&null==Jf(this)&&e.push(new U(a.k,a.path));return{Hg:e,jg:f}};function Kf(a){return Na(Aa(a.Ba),function(a){return!Rc(a.V.o)})}h.eb=function(a){var b=null;r(this.Ba,function(c){b=b||c.eb(a)});return b};
function Lf(a,b){if(Rc(b.o))return Jf(a);var c=b.za();return w(a.Ba,c)}function Jf(a){return Ea(a.Ba,function(a){return Rc(a.V.o)})||null};function Mf(){this.T=Sd;this.ua=[];this.Mc=-1}h=Mf.prototype;
h.Nd=function(a){var b=Sa(this.ua,function(b){return b.hd===a});I(0<=b,"removeWrite called with nonexistent writeId.");var c=this.ua[b];this.ua.splice(b,1);for(var d=c.visible,e=!1,f=this.ua.length-1;d&&0<=f;){var g=this.ua[f];g.visible&&(f>=b&&Nf(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.T=Of(this.ua,Pf,C),this.Mc=0<this.ua.length?this.ua[this.ua.length-1].hd:-1;else if(c.Ha)this.T=this.T.Nd(c.path);else{var k=this;r(c.children,function(a,b){k.T=k.T.Nd(c.path.w(b))})}return c.path}return null};
h.va=function(a,b,c,d,e){e&&N("WriteTree.calcCompleteEventCache: writes=",Oa(this.ua,function(a){return{id:a.hd,path:a.path.toString()}}));if(c||d)return e=Xd(this.T,a),!d&&e.e()?b:d||null!=b||null!=Vd(e,C)?(e=Of(this.ua,function(b){return(b.visible||d)&&(!c||!(0<=La(c,b.hd)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||E,e.apply(b)):null;e=Vd(this.T,a);if(null!=e)return e;e=Xd(this.T,a);return e.e()?b:null!=b||null!=Vd(e,C)?(b=b||E,e.apply(b)):null};
h.zc=function(a,b){var c=E,d=Vd(this.T,a);if(d)d.N()||d.U(L,function(a,b){c=c.Q(a,b)});else if(b){var e=Xd(this.T,a);b.U(L,function(a,b){var d=Xd(e,new F(a)).apply(b);c=c.Q(a,d)});Ma(Wd(e),function(a){c=c.Q(a.name,a.S)})}else e=Xd(this.T,a),Ma(Wd(e),function(a){c=c.Q(a.name,a.S)});return c};h.jd=function(a,b,c,d){I(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.w(b);if(null!=Vd(this.T,a))return null;a=Xd(this.T,a);return a.e()?d.oa(b):a.apply(d.oa(b))};
h.Wa=function(a,b,c){a=a.w(b);var d=Vd(this.T,a);return null!=d?d:Ce(c,b)?Xd(this.T,a).apply(c.j().M(b)):null};h.vc=function(a){return Vd(this.T,a)};h.je=function(a,b,c,d,e,f){var g;a=Xd(this.T,a);g=Vd(a,C);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.jb(f);if(g.e()||g.N())return[];b=[];a=Wc(f);e=e?g.bc(c,f):g.$b(c,f);for(f=M(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=M(e);return b};
function Nf(a,b){return a.Ha?a.path.contains(b):!!Da(a.children,function(c,d){return a.path.w(d).contains(b)})}function Pf(a){return a.visible}
function Of(a,b,c){for(var d=Sd,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ha)c.contains(g)?(g=G(c,g),d=Td(d,g,f.Ha)):g.contains(c)&&(g=G(g,c),d=Td(d,C,f.Ha.oa(g)));else if(f.children)if(c.contains(g))g=G(c,g),d=Ud(d,g,f.children);else{if(g.contains(c))if(g=G(g,c),g.e())d=Ud(d,C,f.children);else if(f=w(f.children,H(g)))f=f.oa(B(g)),d=Td(d,C,f)}else throw mc("WriteRecord should have .snap or .children");}}return d}function Qf(a,b){this.Kb=a;this.W=b}h=Qf.prototype;
h.va=function(a,b,c){return this.W.va(this.Kb,a,b,c)};h.zc=function(a){return this.W.zc(this.Kb,a)};h.jd=function(a,b,c){return this.W.jd(this.Kb,a,b,c)};h.vc=function(a){return this.W.vc(this.Kb.w(a))};h.je=function(a,b,c,d,e){return this.W.je(this.Kb,a,b,c,d,e)};h.Wa=function(a,b){return this.W.Wa(this.Kb,a,b)};h.w=function(a){return new Qf(this.Kb.w(a),this.W)};function Rf(a){this.sa=Ed;this.Eb=new Mf;this.Ye={};this.nc={};this.Nc=a}function Sf(a,b,c,d,e){var f=a.Eb,g=e;I(d>f.Mc,"Stacking an older write on top of newer ones");n(g)||(g=!0);f.ua.push({path:b,Ha:c,hd:d,visible:g});g&&(f.T=Td(f.T,b,c));f.Mc=d;return e?Tf(a,new qb(nb,b,c)):[]}function Uf(a,b,c,d){var e=a.Eb;I(d>e.Mc,"Stacking an older merge on top of newer ones");e.ua.push({path:b,children:c,hd:d,visible:!0});e.T=Ud(e.T,b,c);e.Mc=d;c=Dd(c);return Tf(a,new Lc(nb,b,c))}
function Vf(a,b,c){c=c||!1;b=a.Eb.Nd(b);return null==b?[]:Tf(a,new lb(b,c))}function Wf(a,b,c){c=Dd(c);return Tf(a,new Lc(Oc,b,c))}function Xf(a,b,c,d){d=Yf(a,d);if(null!=d){var e=Zf(d);d=e.path;e=e.Fb;b=G(d,b);c=new qb(new Nc(!1,!0,e,!0),b,c);return $f(a,d,c)}return[]}function ag(a,b,c,d){if(d=Yf(a,d)){var e=Zf(d);d=e.path;e=e.Fb;b=G(d,b);c=Dd(c);c=new Lc(new Nc(!1,!0,e,!0),b,c);return $f(a,d,c)}return[]}
Rf.prototype.Mb=function(a,b){var c=a.path,d=null,e=!1;Md(this.sa,c,function(a,b){var f=G(a,c);d=b.eb(f);e=e||null!=Jf(b);return!d});var f=this.sa.get(c);f?(e=e||null!=Jf(f),d=d||f.eb(C)):(f=new If,this.sa=this.sa.set(c,f));var g;null!=d?g=!0:(g=!1,d=E,Qd(this.sa.subtree(c),function(a,b){var c=b.eb(C);c&&(d=d.Q(a,c))}));var k=null!=Lf(f,a);if(!k&&!Rc(a.o)){var l=bg(a);I(!(l in this.nc),"View does not exist, but we have a tag");var m=cg++;this.nc[l]=m;this.Ye["_"+m]=l}g=f.Mb(a,b,new Qf(c,this.Eb),
d,g);k||e||(f=Lf(f,a),g=g.concat(dg(this,a,f)));return g};
Rf.prototype.hb=function(a,b,c){var d=a.path,e=this.sa.get(d),f=[];if(e&&("default"===a.za()||null!=Lf(e,a))){f=e.hb(a,b,c);e.e()&&(this.sa=this.sa.remove(d));e=f.Hg;f=f.jg;b=-1!==Sa(e,function(a){return Rc(a.o)});var g=Kd(this.sa,d,function(a,b){return null!=Jf(b)});if(b&&!g&&(d=this.sa.subtree(d),!d.e()))for(var d=eg(d),k=0;k<d.length;++k){var l=d[k],m=l.V,l=fg(this,l);this.Nc.Ve(m,gg(this,m),l.sd,l.K)}if(!g&&0<e.length&&!c)if(b)this.Nc.Xd(a,null);else{var t=this;Ma(e,function(a){a.za();var b=t.nc[bg(a)];
t.Nc.Xd(a,b)})}hg(this,e)}return f};Rf.prototype.va=function(a,b,c){var d=this.Eb,e=Kd(this.sa,a,function(b,c){var d=G(b,a);if(d=c.eb(d))return d});c&&(N("calcCompleteEventCache_(path=",a.toString()," writeIdsToExclude=",b,")"),N("calcCompleteEventCache_: serverCache=",e&&e.A(!0)));return d.va(a,e,b,!0,!0)};function eg(a){return Id(a,function(a,c,d){if(c&&null!=Jf(c))return[Jf(c)];var e=[];c&&(e=Kf(c));r(d,function(a){e=e.concat(a)});return e})}
function hg(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!Rc(d.o)){var d=bg(d),e=a.nc[d];delete a.nc[d];delete a.Ye["_"+e]}}}
function dg(a,b,c){var d=b.path,e=gg(a,b);c=fg(a,c);b=a.Nc.Ve(b,e,c.sd,c.K);d=a.sa.subtree(d);if(e)I(null==Jf(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Id(d,function(a,b,c){if(!a.e()&&b&&null!=Jf(b))return[Ff(Jf(b))];var d=[];b&&(d=d.concat(Oa(Kf(b),function(a){return a.V})));r(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Nc.Xd(c,gg(a,c));return b}
function fg(a,b){var c=b.V,d=gg(a,c);return{sd:function(){return(b.u()||E).hash()},K:function(b){if("ok"===b){if(d){var f=c.path;if(b=Yf(a,d)){var g=Zf(b);b=g.path;g=g.Fb;f=G(b,f);f=new ob(new Nc(!1,!0,g,!0),f);b=$f(a,b,f)}else b=[]}else b=Tf(a,new ob(Oc,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+": "+f);f.code=b.toUpperCase();return a.hb(c,null,f)}}}function bg(a){return a.path.toString()+"$"+a.za()}function Zf(a){var b=a.indexOf("$");I(-1!==b&&b<a.length-1,"Bad queryKey.");return{Fb:a.substr(b+1),path:new F(a.substr(0,b))}}function Yf(a,b){var c=a.Ye,d="_"+b;return d in c?c[d]:void 0}function gg(a,b){var c=bg(b);return w(a.nc,c)}var cg=1;
function $f(a,b,c){var d=a.sa.get(b);I(d,"Missing sync point for query tag that we're tracking");return d.ab(c,new Qf(b,a.Eb),null)}function Tf(a,b){return ig(a,b,a.sa,null,new Qf(C,a.Eb))}function ig(a,b,c,d,e){if(b.path.e())return jg(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.eb(C));var g=[],k=H(b.path),l=b.Xc(k);if((c=c.children.get(k))&&l)var m=d?d.M(k):null,k=e.w(k),g=g.concat(ig(a,l,c,m,k));f&&(g=g.concat(f.ab(b,e,d)));return g}
function jg(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.eb(C));var g=[];c.children.ha(function(c,f){var m=d?d.M(c):null,t=e.w(c),x=b.Xc(c);x&&(g=g.concat(jg(a,x,f,m,t)))});f&&(g=g.concat(f.ab(b,e,d)));return g};var kg="auth.firebase.com";var lg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function V(a){var b=Error(w(lg,a),a);b.code=a;return b};function mg(a,b,c){this.md=a||{};this.ae=b||{};this.$a=c||{};this.md.remember||(this.md.remember="default")}var ng=["remember","redirectTo"];function og(a){var b={},c={};gb(a||{},function(a,e){0<=La(ng,a)?b[a]=e:c[a]=e});return new mg(b,{},c)};function pg(a,b){this.Ne=["session",a.Kd,a.zb].join(":");this.Yd=b}pg.prototype.set=function(a,b){if(!b)if(this.Yd.length)b=this.Yd[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Ne,a)};pg.prototype.get=function(){var a=Oa(this.Yd,q(this.ng,this)),a=Na(a,function(a){return null!==a});Ua(a,function(a,c){return Jc(c.token)-Jc(a.token)});return 0<a.length?a.shift():null};pg.prototype.ng=function(a){try{var b=a.get(this.Ne);if(b&&b.token)return b}catch(c){}return null};
pg.prototype.clear=function(){var a=this;Ma(this.Yd,function(b){b.remove(a.Ne)})};function qg(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function rg(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function sg(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function tg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function ug(a){var b="";try{a=a.replace("#","");var c=jb(a);c&&v(c,"__firebase_request_key")&&(b=w(c,"__firebase_request_key"))}catch(d){}return b}function vg(){var a=xc(kg);return a.scheme+"://"+a.host+"/v2"}function wg(a){return vg()+"/"+a+"/auth/channel"};function xg(a){a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
xg.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;Fa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);sg(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+ib(b);
rg(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};yg(f,a,c)};
function yg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(V("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(V("NETWORK_ERROR"))}},0)}xg.isAvailable=function(){return"undefined"!==typeof document&&null!=document.createElement};
xg.prototype.Ob=function(){return"json"};function zg(a){this.rc=Ja()+Ja()+Ja();this.Cf=a}zg.prototype.open=function(a,b){Jb.set("redirect_request_id",this.rc);Jb.set("redirect_request_id",this.rc);b.requestId=this.rc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+ib(b);window.location=a};zg.isAvailable=function(){return!1};zg.prototype.Ob=function(){return"redirect"};function Ag(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bg(){var a=Ag();if(""===a)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function Cg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Cg.prototype.open=function(a,b,c){var d=xc(a),e="http"===d.scheme?require("http"):require("https");a=this.options.method;var f,g={Accept:"application/json;text/plain"};Ia(g,this.options.headers);d={host:d.host.split(":")[0],port:d.port,path:d.mc,method:this.options.method.toUpperCase()};if("GET"===a)d.path+=(/\?/.test(d.path)?"":"?")+ib(b),f=null;else{var k=this.options.headers.content_type;"application/json"===k&&(f=u(b));"application/x-www-form-urlencoded"===k&&(f=ib(b));g["Content-Length"]=Buffer.byteLength(f,
"utf8")}d.headers=g;b=e.request(d,function(a){var b="";a.setEncoding("utf8");a.on("data",function(a){b+=a});a.on("end",function(){try{b=fb(b+"")}catch(a){}c&&(c(null,b),c=null)})});"GET"!==a&&b.write(f);b.on("error",function(a){a&&a.code&&("ENOTFOUND"===a.code||"ENETDOWN"===a.code)?c(V("NETWORK_ERROR")):c(V("SERVER_ERROR"));c=null});b.end()};Cg.isAvailable=function(){return!0};Cg.prototype.Ob=function(){return"json"};function Dg(a){var b;(b=!a.window_features)||(b=Ag(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android"));b&&(a.window_features=void 0);a.window_name||(a.window_name="_blank");this.options=a}
Dg.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);t&&(t=clearInterval(t));sg(window,"message",e);sg(window,"unload",d);if(m&&!a)try{m.close()}catch(b){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=fb(a.data);"ready"===b.a?k.postMessage(x,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=Bg(),g,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var l=tg(a);if(l!==tg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+ib(b);var m=window.open(a,this.options.window_name,this.options.window_features);k||(k=m);var t=setInterval(function(){m&&m.closed&&
(d(!1),c&&(c(V("USER_CANCELLED")),c=null))},500),x=u({a:"request",d:b});rg(window,"unload",d);rg(window,"message",e)}};Dg.isAvailable=function(){return!1};Dg.prototype.Ob=function(){return"popup"};function Eg(a){var b=this;this.Bc=a;this.Zd="*";Bg()?this.Rc=this.ud=qg():(this.Rc=window.opener,this.ud=window);if(!b.Rc)throw"Unable to find relay frame";rg(this.ud,"message",q(this.jc,this));rg(this.ud,"message",q(this.zf,this));try{Fg(this,{a:"ready"})}catch(c){rg(this.Rc,"load",function(){Fg(b,{a:"ready"})})}rg(window,"unload",q(this.xg,this))}function Fg(a,b){b=u(b);Bg()?a.Rc.doPost(b,a.Zd):a.Rc.postMessage(b,a.Zd)}
Eg.prototype.jc=function(a){var b=this,c;try{c=fb(a.data)}catch(d){}c&&"request"===c.a&&(sg(window,"message",this.jc),this.Zd=a.origin,this.Bc&&setTimeout(function(){b.Bc(b.Zd,c.d,function(a,c){b.$f=!c;b.Bc=void 0;Fg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};Eg.prototype.xg=function(){try{sg(this.ud,"message",this.zf)}catch(a){}this.Bc&&(Fg(this,{a:"error",d:"unknown closed window"}),this.Bc=void 0);try{window.close()}catch(b){}};Eg.prototype.zf=function(a){if(this.$f&&"die"===a.data)try{window.close()}catch(b){}};function Gg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Gg.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;rg(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=fb(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(V("SERVER_ERROR")):c(V("NETWORK_ERROR"));c=null;sg(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+ib(b),g=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(g=u(b));"application/x-www-form-urlencoded"===k&&(g=ib(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};Ia(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};Gg.isAvailable=function(){return!1};Gg.prototype.Ob=function(){return"json"};function Hg(a){this.rc=Ja()+Ja()+Ja();this.Cf=a}
Hg.prototype.open=function(a,b,c){function d(){c&&(c(V("USER_CANCELLED")),c=null)}var e=this,f=xc(kg),g;b.requestId=this.rc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=ib(b);(g=window.open(a,"_blank","location=no"))&&ha(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var m=document.createElement("a");m.href=a.url;b=m.host===f.host&&"/blank/page.html"===m.pathname;break a}catch(t){}b=!1}b&&(a=ug(a.url),g.removeEventListener("exit",
d),g.close(),a=new mg(null,null,{requestId:e.rc,requestKey:a}),e.Cf.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(V("TRANSPORT_UNAVAILABLE"))};Hg.isAvailable=function(){return!1};Hg.prototype.Ob=function(){return"redirect"};function Ig(a,b,c,d){zd.call(this,["auth_status"]);this.I=a;this.af=b;this.Sg=c;this.Ie=d;this.uc=new pg(a,[Ib,Jb]);this.kb=null;this.Pe=!1;Jg(this)}ma(Ig,zd);h=Ig.prototype;h.te=function(){return this.kb||null};function Jg(a){Jb.get("redirect_request_id")&&Kg(a);var b=a.uc.get();b&&b.token?(Lg(a,b),a.af(b.token,function(c,d){Mg(a,c,d,!1,b.token,b)},function(b,d){Ng(a,"resumeSession()",b,d)})):Lg(a,null)}
function Og(a,b,c,d,e,f){"firebaseio-demo.com"===a.I.domain&&O("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.af(b,function(f,k){Mg(a,f,k,!0,b,c,d||{},e)},function(b,c){Ng(a,"auth()",b,c,f)})}function Pg(a,b){a.uc.clear();Lg(a,null);a.Sg(function(a,d){if("ok"===a)P(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;P(b,f)}})}
function Mg(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Kc(e)?e:"",c=null,b&&v(b,"uid")?c=w(b,"uid"):v(f,"uid")&&(c=w(f,"uid")),f.uid=c,c="custom",b&&v(b,"provider")?c=w(b,"provider"):v(f,"provider")&&(c=w(f,"provider")),f.provider=c,a.uc.clear(),Kc(e)&&(g=g||{},c=Ib,"sessionOnly"===g.remember&&(c=Jb),"none"!==g.remember&&a.uc.set(f,c)),Lg(a,f)),P(k,null,f)):(a.uc.clear(),Lg(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,P(k,f))}
function Ng(a,b,c,d,e){O(b+" was canceled: "+d);a.uc.clear();Lg(a,null);a=Error(d);a.code=c.toUpperCase();P(e,a)}function Qg(a,b,c,d,e){Rg(a);c=new mg(d||{},{},c||{});Sg(a,[Cg],"/auth/"+b,c,e)}
function Tg(a,b,c,d){Rg(a);var e=[Dg,Hg];c=og(c);"anonymous"===b||"password"===b?setTimeout(function(){P(d,V("TRANSPORT_UNAVAILABLE"))},0):(c.ae.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.ae.relay_url=wg(a.I.zb),c.ae.requestWithCredential=q(a.sc,a),Sg(a,e,"/auth/"+b,c,d))}
function Kg(a){var b=Jb.get("redirect_request_id");if(b){var c=Jb.get("redirect_client_options");Jb.remove("redirect_request_id");Jb.remove("redirect_client_options");var d=[Gg,xg],b={requestId:b,requestKey:ug(document.location.hash)},c=new mg(c,{},b);a.Pe=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Sg(a,d,"/auth/session",c,function(){this.Pe=!1}.bind(a))}}
h.oe=function(a,b){Rg(this);var c=og(a);c.$a._method="POST";this.sc("/users",c,function(a,c){a?P(b,a):P(b,a,c)})};h.Qe=function(a,b){var c=this;Rg(this);var d="/users/"+encodeURIComponent(a.email),e=og(a);e.$a._method="DELETE";this.sc(d,e,function(a,d){!a&&d&&d.uid&&c.kb&&c.kb.uid&&c.kb.uid===d.uid&&Pg(c);P(b,a)})};h.le=function(a,b){Rg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=og(a);d.$a._method="PUT";d.$a.password=a.newPassword;this.sc(c,d,function(a){P(b,a)})};
h.ke=function(a,b){Rg(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=og(a);d.$a._method="PUT";d.$a.email=a.newEmail;d.$a.password=a.password;this.sc(c,d,function(a){P(b,a)})};h.Se=function(a,b){Rg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=og(a);d.$a._method="POST";this.sc(c,d,function(a){P(b,a)})};h.sc=function(a,b,c){Ug(this,[Cg],a,b,c)};
function Sg(a,b,c,d,e){Ug(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Og(a,c.token,c,d.md,function(a,b){a?P(e,a):P(e,null,b)}):P(e,b||V("UNKNOWN_ERROR"))})}
function Ug(a,b,c,d,e){b=Na(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){P(e,V("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.ae),d=hb(d.$a),d.v="node-0.0.0",d.transport=b.Ob(),d.suppress_status_codes=!0,a=vg()+"/"+a.I.zb+c,b.open(a,d,function(a,b){if(a)P(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;P(e,c)}else P(e,null,b)}))}
function Lg(a,b){var c=null!==a.kb||null!==b;a.kb=b;c&&a.be("auth_status",b);a.Ie(null!==b)}h.we=function(a){I("auth_status"===a,'initial event must be of type "auth_status"');return this.Pe?null:[this.kb]};function Rg(a){var b=a.I;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===kg)throw Error("This custom Firebase server ('"+a.I.domain+"') does not support delegated login.");};function Vg(a){this.jc=a;this.Jd=[];this.Tb=0;this.me=-1;this.Cb=null}function Wg(a,b,c){a.me=b;a.Cb=c;a.me<a.Tb&&(a.Cb(),a.Cb=null)}function Xg(a,b,c){for(a.Jd[b]=c;a.Jd[a.Tb];){var d=a.Jd[a.Tb];delete a.Jd[a.Tb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Hc(function(){f.jc(d[e])})}if(a.Tb===a.me){a.Cb&&(clearTimeout(a.Cb),a.Cb(),a.Cb=null);break}a.Tb++}};function Yg(a,b,c){this.ne=a;this.f=uc(a);this.lb=this.mb=0;this.Ua=Db(b);this.Td=c;this.Hc=!1;this.gd=function(a){b.host!==b.Na&&(a.ns=b.zb);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.ib?"https://":"http://")+b.Na+"/.lp?"+c.join("&")}}var Zg,$g;
Yg.prototype.open=function(a,b){this.df=0;this.ka=b;this.yf=new Vg(a);this.wb=!1;var c=this;this.ob=setTimeout(function(){c.f("Timed out trying to connect.");c.fb();c.ob=null},Math.floor(3E4));zc(function(){if(!c.wb){c.Sa=new ah(function(a,b,d,k,l){bh(c,arguments);if(c.Sa)if(c.ob&&(clearTimeout(c.ob),c.ob=null),c.Hc=!0,"start"==a)c.id=b,c.Eg=d;else if("close"===a)b?(c.Sa.Kf=!1,Wg(c.yf,b,function(){c.fb()})):c.fb();else throw Error("Unrecognized command received: "+a);},function(a,b){bh(c,arguments);
Xg(c.yf,a,b)},function(){c.fb()},c.gd);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Sa.Tg&&(a.cb=c.Sa.Tg);a.v="5";c.Td&&(a.s=c.Td);a=c.gd(a);c.f("Connecting via long-poll to "+a);ch(c.Sa,a,function(){})}})};Yg.prototype.start=function(){var a=this.Sa,b=this.Eg;a.Ge=this.id;a.xf=b;for(a.ge=!0;dh(a););};
Yg.isAvailable=function(){return Zg||!$g&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Vg)};h=Yg.prototype;h.zd=function(){};h.cd=function(){this.wb=!0;this.Sa&&(this.Sa.close(),this.Sa=null);this.wf&&(document.body.removeChild(this.wf),this.wf=null);this.ob&&(clearTimeout(this.ob),this.ob=null)};
h.fb=function(){this.wb||(this.f("Longpoll is closing itself"),this.cd(),this.ka&&(this.ka(this.Hc),this.ka=null))};h.close=function(){this.wb||(this.f("Longpoll is being closed."),this.cd())};h.send=function(a){a=u(a);this.mb+=a.length;yb(this.Ua,"bytes_sent",a.length);a=pc(a);a=eb(a,!0);a=Dc(a,1840);for(var b=0;b<a.length;b++){var c=this.Sa;c.$c.push({Jg:this.df,Rg:a.length,ff:a[b]});c.ge&&dh(c);this.df++}};function bh(a,b){var c=u(b).length;a.lb+=c;yb(a.Ua,"bytes_received",c)}
function ah(a,b,c,d){this.gd=d;this.gb=c;this.Me=new wd;this.$c=[];this.pe=Math.floor(1E8*Math.random());this.Kf=!0;this.dg=a;this.vg=b}ah.prototype.close=function(){this.ge=!1;if(this.Bd){this.Bd.Xg.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Bd&&(document.body.removeChild(a.Bd),a.Bd=null)},Math.floor(0))}if(this.Ge){var b={disconn:"t"};b.id=this.Ge;b.pw=this.xf;b=this.gd(b);eh(b)}if(b=this.gb)this.gb=null,b()};
function dh(a){if(a.ge&&a.Kf&&a.Me.count()<(0<a.$c.length?2:1)){a.pe++;var b={};b.id=a.Ge;b.pw=a.xf;b.ser=a.pe;for(var b=a.gd(b),c="",d=0;0<a.$c.length;)if(1870>=a.$c[0].ff.length+30+c.length){var e=a.$c.shift(),c=c+"&seg"+d+"="+e.Jg+"&ts"+d+"="+e.Rg+"&d"+d+"="+e.ff;d++}else break;fh(a,b+c,a.pe);return!0}return!1}function fh(a,b,c){function d(){a.Me.remove(c);dh(a)}a.Me.add(c,1);var e=setTimeout(d,Math.floor(25E3));ch(a,b,function(){clearTimeout(e);d()})}function ch(a,b,c){gh(a,b,c)}var hh=null;
function eh(a,b){hh||(hh=require("request"));hh(a,function(c,d,e){if(c)throw"Rest request for "+a.url+" failed.";b&&b(e)})}function gh(a,b,c){eh({url:b,Yg:!0},function(b){ih(a,b);c()})}function ih(a,b){eval("var jsonpCB = function(pLPCommand, pRTLPCB) {"+b+"}");jsonpCB(a.dg,a.vg)};var jh=null,jh=require("faye-websocket").Client;function kh(a,b,c){this.ne=a;this.f=uc(this.ne);this.frames=this.Kc=null;this.lb=this.mb=this.$e=0;this.Ua=Db(b);this.Pb=(b.ib?"wss://":"ws://")+b.Na+"/.ws?v=5";b.host!==b.Na&&(this.Pb=this.Pb+"&ns="+b.zb);c&&(this.Pb=this.Pb+"&s="+c)}var lh;
kh.prototype.open=function(a,b){this.gb=b;this.ug=a;this.f("Websocket connecting to "+this.Pb);this.Hc=!1;Ib.set("previous_websocket_failure",!0);try{this.ya=new jh(this.Pb,[],{headers:{"User-Agent":"Firebase/5/0.0.0/"+process.platform+"/Node"}})}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.fb();return}var e=this;this.ya.onopen=function(){e.f("Websocket connected.");e.Hc=!0};this.ya.onclose=function(){e.f("Websocket connection was disconnected.");e.ya=
null;e.fb()};this.ya.onmessage=function(a){if(null!==e.ya)if(a=a.data,e.lb+=a.length,yb(e.Ua,"bytes_received",a.length),mh(e),null!==e.frames)nh(e,a);else{a:{I(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.$e=b;e.frames=[];a=null;break a}}e.$e=1;e.frames=[]}null!==a&&nh(e,a)}};this.ya.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.fb()}};kh.prototype.start=function(){};
kh.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==jh&&!lh};kh.responsesRequiredToBeHealthy=2;kh.healthyTimeout=3E4;h=kh.prototype;h.zd=function(){Ib.remove("previous_websocket_failure")};function nh(a,b){a.frames.push(b);if(a.frames.length==a.$e){var c=a.frames.join("");a.frames=null;c=fb(c);a.ug(c)}}
h.send=function(a){mh(this);a=u(a);this.mb+=a.length;yb(this.Ua,"bytes_sent",a.length);a=Dc(a,16384);1<a.length&&this.ya.send(String(a.length));for(var b=0;b<a.length;b++)this.ya.send(a[b])};h.cd=function(){this.wb=!0;this.Kc&&(clearInterval(this.Kc),this.Kc=null);this.ya&&(this.ya.close(),this.ya=null)};h.fb=function(){this.wb||(this.f("WebSocket is closing itself"),this.cd(),this.gb&&(this.gb(this.Hc),this.gb=null))};h.close=function(){this.wb||(this.f("WebSocket is being closed"),this.cd())};
function mh(a){clearInterval(a.Kc);a.Kc=setInterval(function(){a.ya&&a.ya.send("0");mh(a)},Math.floor(45E3))};function oh(a){ph(this,a)}var qh=[Yg,kh];function ph(a,b){var c=kh&&kh.isAvailable(),d=c&&!(Ib.rf||!0===Ib.get("previous_websocket_failure"));b.Ug&&(c||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.ed=[kh];else{var e=a.ed=[];Ec(qh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function rh(a){if(0<a.ed.length)return a.ed[0];throw Error("No transports available");};function sh(a,b,c,d,e,f){this.id=a;this.f=uc("c:"+this.id+":");this.jc=c;this.Wc=d;this.ka=e;this.Ke=f;this.I=b;this.Id=[];this.bf=0;this.Mf=new oh(b);this.Ta=0;this.f("Connection created");th(this)}
function th(a){var b=rh(a.Mf);a.L=new b("c:"+a.id+":"+a.bf++,a.I);a.Oe=b.responsesRequiredToBeHealthy||0;var c=uh(a,a.L),d=vh(a,a.L);a.fd=a.L;a.bd=a.L;a.G=null;a.xb=!1;setTimeout(function(){a.L&&a.L.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.td=setTimeout(function(){a.td=null;a.xb||(a.L&&102400<a.L.lb?(a.f("Connection exceeded healthy timeout but has received "+a.L.lb+" bytes.  Marking connection healthy."),a.xb=!0,a.L.zd()):a.L&&10240<a.L.mb?a.f("Connection exceeded healthy timeout but has sent "+
a.L.mb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function vh(a,b){return function(c){b===a.L?(a.L=null,c||0!==a.Ta?1===a.Ta&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.I.Na.substr(0,2)&&(Ib.remove("host:"+a.I.host),a.I.Na=a.I.host)),a.close()):b===a.G?(a.f("Secondary connection lost."),c=a.G,a.G=null,a.fd!==c&&a.bd!==c||a.close()):a.f("closing an old connection")}}
function uh(a,b){return function(c){if(2!=a.Ta)if(b===a.bd){var d=Bc("t",c);c=Bc("d",c);if("c"==d){if(d=Bc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Td=c.s;Lb(a.I,f);0==a.Ta&&(a.L.start(),wh(a,a.L,d),"5"!==e&&O("Protocol version mismatch detected"),c=a.Mf,(c=1<c.ed.length?c.ed[1]:null)&&xh(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.bd=a.G;for(c=0;c<a.Id.length;++c)a.Ed(a.Id[c]);a.Id=[];yh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Ke&&(a.Ke(c),a.Ke=null),a.ka=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Lb(a.I,c),1===a.Ta?a.close():(zh(a),th(a))):"e"===d?vc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),Ah(a),Bh(a)):vc("Unknown control packet command: "+d)}else"d"==d&&a.Ed(c)}else if(b===a.G)if(d=Bc("t",c),c=Bc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Ch(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.G.close(),a.fd!==a.G&&a.bd!==a.G||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.Jf--,Ch(a)));else if("d"==d)a.Id.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}sh.prototype.Ca=function(a){Dh(this,{t:"d",d:a})};function yh(a){a.fd===a.G&&a.bd===a.G&&(a.f("cleaning up and promoting a connection: "+a.G.ne),a.L=a.G,a.G=null)}
function Ch(a){0>=a.Jf?(a.f("Secondary connection is healthy."),a.xb=!0,a.G.zd(),a.G.start(),a.f("sending client ack on secondary"),a.G.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.L.send({t:"c",d:{t:"n",d:{}}}),a.fd=a.G,yh(a)):(a.f("sending ping on secondary."),a.G.send({t:"c",d:{t:"p",d:{}}}))}sh.prototype.Ed=function(a){Ah(this);this.jc(a)};function Ah(a){a.xb||(a.Oe--,0>=a.Oe&&(a.f("Primary connection is healthy."),a.xb=!0,a.L.zd()))}
function xh(a,b){a.G=new b("c:"+a.id+":"+a.bf++,a.I,a.Td);a.Jf=b.responsesRequiredToBeHealthy||0;a.G.open(uh(a,a.G),vh(a,a.G));setTimeout(function(){a.G&&(a.f("Timed out trying to upgrade."),a.G.close())},Math.floor(6E4))}function wh(a,b,c){a.f("Realtime connection established.");a.L=b;a.Ta=1;a.Wc&&(a.Wc(c),a.Wc=null);0===a.Oe?(a.f("Primary connection is healthy."),a.xb=!0):setTimeout(function(){Bh(a)},Math.floor(5E3))}
function Bh(a){a.xb||1!==a.Ta||(a.f("sending ping on primary."),Dh(a,{t:"c",d:{t:"p",d:{}}}))}function Dh(a,b){if(1!==a.Ta)throw"Connection is not connected";a.fd.send(b)}sh.prototype.close=function(){2!==this.Ta&&(this.f("Closing realtime connection."),this.Ta=2,zh(this),this.ka&&(this.ka(),this.ka=null))};function zh(a){a.f("Shutting down all connections");a.L&&(a.L.close(),a.L=null);a.G&&(a.G.close(),a.G=null);a.td&&(clearTimeout(a.td),a.td=null)};function Eh(a,b,c,d){this.id=Fh++;this.f=uc("p:"+this.id+":");this.sf=this.Ae=!1;this.aa={};this.pa=[];this.Yc=0;this.Vc=[];this.ma=!1;this.Za=1E3;this.Ad=3E5;this.Db=b;this.Uc=c;this.Le=d;this.I=a;this.Ue=null;this.Pd={};this.Ig=0;this.jf=!0;this.Lc=this.Ce=null;Gh(this,0);ze.rb().Bb("visible",this.yg,this);-1===a.host.indexOf("fblocal")&&$d.rb().Bb("online",this.wg,this)}var Fh=0,Hh=0;h=Eh.prototype;
h.Ca=function(a,b,c){var d=++this.Ig;a={r:d,a:a,b:b};this.f(u(a));I(this.ma,"sendRequest call when we're not connected not allowed.");this.Ra.Ca(a);c&&(this.Pd[d]=c)};h.tf=function(a,b,c,d){var e=a.za(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.aa[f]=this.aa[f]||{};I(!this.aa[f][e],"listen() called twice for same path/queryId.");a={K:d,sd:b,Fg:a,tag:c};this.aa[f][e]=a;this.ma&&Ih(this,a)};
function Ih(a,b){var c=b.Fg,d=c.path.toString(),e=c.za();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=mf(c.o),f.t=b.tag);f.h=b.sd();a.Ca("q",f,function(f){var k=f.d,l=f.s;if(k&&"object"===typeof k&&v(k,"w")){var m=w(k,"w");ea(m)&&0<=La(m,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+c.o.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.aa[d]&&a.aa[d][e])===b&&(a.f("listen response",f),"ok"!==l&&Jh(a,d,e),b.K&&
b.K(l,k))})}h.P=function(a,b,c){this.Ea={fg:a,kf:!1,Ac:b,kd:c};this.f("Authenticating using credential: "+a);Kh(this);(b=40==a.length)||(a=Ic(a).Cc,b="object"===typeof a&&!0===w(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Ad=3E4)};h.ce=function(a){delete this.Ea;this.ma&&this.Ca("unauth",{},function(b){a(b.s,b.d)})};
function Kh(a){var b=a.Ea;a.ma&&b&&a.Ca("auth",{cred:b.fg},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Ea===b&&delete a.Ea;b.kf?"ok"!==d&&b.kd&&b.kd(d,c):(b.kf=!0,b.Ac&&b.Ac(d,c))})}h.Nf=function(a,b){var c=a.path.toString(),d=a.za();this.f("Unlisten called for "+c+" "+d);if(Jh(this,c,d)&&this.ma){var e=mf(a.o);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.Ca("n",c)}};h.Je=function(a,b,c){this.ma?Lh(this,"o",a,b,c):this.Vc.push({mc:a,action:"o",data:b,K:c})};
h.Af=function(a,b,c){this.ma?Lh(this,"om",a,b,c):this.Vc.push({mc:a,action:"om",data:b,K:c})};h.Fd=function(a,b){this.ma?Lh(this,"oc",a,null,b):this.Vc.push({mc:a,action:"oc",data:null,K:b})};function Lh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Ca(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Mh(this,"p",a,b,c,d)};h.uf=function(a,b,c,d){Mh(this,"m",a,b,c,d)};
function Mh(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.pa.push({action:b,Gf:d,K:e});a.Yc++;b=a.pa.length-1;a.ma?Nh(a,b):a.f("Buffering put: "+c)}function Nh(a,b){var c=a.pa[b].action,d=a.pa[b].Gf,e=a.pa[b].K;a.pa[b].Gg=a.ma;a.Ca(c,d,function(d){a.f(c+" response",d);delete a.pa[b];a.Yc--;0===a.Yc&&(a.pa=[]);e&&e(d.s,d.d)})}h.Re=function(a){this.ma&&(a={c:a},this.f("reportStats",a),this.Ca("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
h.Ed=function(a){if("r"in a){this.f("from server: "+u(a));var b=a.r,c=this.Pd[b];c&&(delete this.Pd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Db(c.p,c.d,!1,c.t):"m"===b?this.Db(c.p,c.d,!0,c.t):"c"===b?Oh(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Ea,delete this.Ea,c&&c.kd&&c.kd(a,b)):"sd"===b?this.Ue?this.Ue(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):vc("Unrecognized action received from server: "+u(b)+"\nAre you using the latest client?"))}};
h.Wc=function(a){this.f("connection ready");this.ma=!0;this.Lc=(new Date).getTime();this.Le({serverTimeOffset:a-(new Date).getTime()});this.jf&&(a={},a["sdk.js."+"0.0.0".replace(/\./g,"-")]=1,"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ag())&&(a["framework.cordova"]=1),this.Re(a));Ph(this);this.jf=!1;this.Uc(!0)};
function Gh(a,b){I(!a.Ra,"Scheduling a connect when we're already connected/ing?");a.Vb&&clearTimeout(a.Vb);a.Vb=setTimeout(function(){a.Vb=null;Qh(a)},Math.floor(b))}h.yg=function(a){a&&!this.wc&&this.Za===this.Ad&&(this.f("Window became visible.  Reducing delay."),this.Za=1E3,this.Ra||Gh(this,0));this.wc=a};h.wg=function(a){a?(this.f("Browser went online."),this.Za=1E3,this.Ra||Gh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ra&&this.Ra.close())};
h.Bf=function(){this.f("data client disconnected");this.ma=!1;this.Ra=null;for(var a=0;a<this.pa.length;a++){var b=this.pa[a];b&&"h"in b.Gf&&b.Gg&&(b.K&&b.K("disconnect"),delete this.pa[a],this.Yc--)}0===this.Yc&&(this.pa=[]);this.Pd={};Rh(this)&&(this.wc?this.Lc&&(3E4<(new Date).getTime()-this.Lc&&(this.Za=1E3),this.Lc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Za=this.Ad,this.Ce=(new Date).getTime()),a=Math.max(0,this.Za-((new Date).getTime()-this.Ce)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Gh(this,a),this.Za=Math.min(this.Ad,1.3*this.Za));this.Uc(!1)};function Qh(a){if(Rh(a)){a.f("Making a connection attempt");a.Ce=(new Date).getTime();a.Lc=null;var b=q(a.Ed,a),c=q(a.Wc,a),d=q(a.Bf,a),e=a.id+":"+Hh++;a.Ra=new sh(e,a.I,b,c,d,function(b){O(b+" ("+a.I.toString()+")");a.sf=!0})}}h.vb=function(){this.Ae=!0;this.Ra?this.Ra.close():(this.Vb&&(clearTimeout(this.Vb),this.Vb=null),this.ma&&this.Bf())};h.tc=function(){this.Ae=!1;this.Za=1E3;this.Ra||Gh(this,0)};
function Oh(a,b,c){c=c?Oa(c,function(a){return Cc(a)}).join("$"):"default";(a=Jh(a,b,c))&&a.K&&a.K("permission_denied")}function Jh(a,b,c){b=(new F(b)).toString();var d;n(a.aa[b])?(d=a.aa[b][c],delete a.aa[b][c],0===ya(a.aa[b])&&delete a.aa[b]):d=void 0;return d}function Ph(a){Kh(a);r(a.aa,function(b){r(b,function(b){Ih(a,b)})});for(var b=0;b<a.pa.length;b++)a.pa[b]&&Nh(a,b);for(;a.Vc.length;)b=a.Vc.shift(),Lh(a,b.action,b.mc,b.data,b.K)}function Rh(a){var b;b=$d.rb().kc;return!a.sf&&!a.Ae&&b};var W={lg:function(){Zg=lh=!0}};W.forceLongPolling=W.lg;W.mg=function(){$g=!0};W.forceWebSockets=W.mg;W.Mg=function(a,b){a.k.Qa.Ue=b};W.setSecurityDebugCallback=W.Mg;W.We=function(a,b){a.k.We(b)};W.stats=W.We;W.Xe=function(a,b){a.k.Xe(b)};W.statsIncrementCounter=W.Xe;W.nd=function(a){return a.k.nd};W.dataUpdateCount=W.nd;W.pg=function(a,b){a.k.ze=b};W.interceptServerData=W.pg;W.tg=function(a){new Eg(a)};W.onPopupOpen=W.tg;W.Kg=function(a){kg=a};W.setAuthenticationServer=W.Kg;var X={};X.xc=Eh;X.DataConnection=X.xc;Eh.prototype.Og=function(a,b){this.Ca("q",{p:a},b)};X.xc.prototype.simpleListen=X.xc.prototype.Og;Eh.prototype.gg=function(a,b){this.Ca("echo",{d:a},b)};X.xc.prototype.echo=X.xc.prototype.gg;Eh.prototype.interrupt=Eh.prototype.vb;X.Rf=sh;X.RealTimeConnection=X.Rf;sh.prototype.sendRequest=sh.prototype.Ca;sh.prototype.close=sh.prototype.close;
X.og=function(a){var b=Eh.prototype.put;Eh.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Eh.prototype.put=b}};X.hijackHash=X.og;X.Qf=Kb;X.ConnectionTarget=X.Qf;X.za=function(a){return a.za()};X.queryIdentifier=X.za;X.qg=function(a){return a.k.Qa.aa};X.listens=X.qg;X.re=function(a){a.re()};X.forceRestClient=X.re;function Sh(a,b){this.I=a;this.Ua=Db(a);this.ea=new Re;this.Dd=1;this.Qa=null;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ca=new Pc(this.I,q(this.Db,this)),setTimeout(q(this.Uc,this,!0),0)):this.ca=this.Qa=new Eh(this.I,q(this.Db,this),q(this.Uc,this),q(this.Le,this));this.Pg=Eb(a,q(function(){return new Ab(this.Ua,this.ca)},this));this.Jb=new be;this.ye=
new wb;var c=this;this.xd=new Rf({Ve:function(a,b,f,g){b=[];f=c.ye.j(a.path);f.e()||(b=Tf(c.xd,new qb(Oc,a.path,f)),setTimeout(function(){g("ok")},0));return b},Xd:ba});Th(this,"connected",!1);this.ka=new Ub;this.P=new Ig(a,q(this.ca.P,this.ca),q(this.ca.ce,this.ca),q(this.Ie,this));this.nd=0;this.ze=null;this.O=new Rf({Ve:function(a,b,f,g){c.ca.tf(a,f,b,function(b,e){var f=g(b,e);We(c.ea,a.path,f)});return[]},Xd:function(a,b){c.ca.Nf(a,b)}})}h=Sh.prototype;
h.toString=function(){return(this.I.ib?"https://":"http://")+this.I.host};h.name=function(){return this.I.zb};function Uh(a){a=a.ye.j(new F(".info/serverTimeOffset")).A()||0;return(new Date).getTime()+a}function Vh(a){a=a={timestamp:Uh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.Db=function(a,b,c,d){this.nd++;var e=new F(a);b=this.ze?this.ze(a,b):b;a=[];d?c?(b=wa(b,function(a){return K(a)}),a=ag(this.O,e,b,d)):(b=K(b),a=Xf(this.O,e,b,d)):c?(d=wa(b,function(a){return K(a)}),a=Wf(this.O,e,d)):(d=K(b),a=Tf(this.O,new qb(Oc,e,d)));d=e;0<a.length&&(d=Wh(this,e));We(this.ea,d,a)};h.Uc=function(a){Th(this,"connected",a);!1===a&&Xh(this)};h.Le=function(a){var b=this;Ec(a,function(a,d){Th(b,d,a)})};h.Ie=function(a){Th(this,"authenticated",a)};
function Th(a,b,c){b=new F("/.info/"+b);c=K(c);var d=a.ye;d.Rd=d.Rd.H(b,c);c=Tf(a.xd,new qb(Oc,b,c));We(a.ea,b,c)}h.Hb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,$g:c});var e=Vh(this);b=K(b,c);var e=Wb(b,e),f=this.Dd++,e=Sf(this.O,a,e,f,!0);Se(this.ea,e);var g=this;this.ca.put(a.toString(),b.A(!0),function(b,c){var e="ok"===b;e||O("set at "+a+" failed: "+b);e=Vf(g.O,f,!e);We(g.ea,a,e);Yh(d,b,c)});e=Zh(this,a);Wh(this,e);We(this.ea,e,[])};
h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Vh(this),f={};r(b,function(a,b){d=!1;var c=K(a);f[b]=Wb(c,e)});if(d)N("update() called with empty data.  Don't do anything."),Yh(c,"ok");else{var g=this.Dd++,k=Uf(this.O,a,f,g);Se(this.ea,k);var l=this;this.ca.uf(a.toString(),b,function(b,d){var e="ok"===b;e||O("update at "+a+" failed: "+b);var e=Vf(l.O,g,!e),f=a;0<e.length&&(f=Wh(l,a));We(l.ea,f,e);Yh(c,b,d)});b=Zh(this,a);Wh(this,b);We(this.ea,a,[])}};
function Xh(a){a.f("onDisconnectEvents");var b=Vh(a),c=[];Vb(Tb(a.ka,b),C,function(b,e){c=c.concat(Tf(a.O,new qb(Oc,b,e)));var f=Zh(a,b);Wh(a,f)});a.ka=new Ub;We(a.ea,C,c)}h.Fd=function(a,b){var c=this;this.ca.Fd(a.toString(),function(d,e){"ok"===d&&yd(c.ka,a);Yh(b,d,e)})};function $h(a,b,c,d){var e=K(c);a.ca.Je(b.toString(),e.A(!0),function(c,g){"ok"===c&&a.ka.pc(b,e);Yh(d,c,g)})}function ai(a,b,c,d,e){var f=K(c,d);a.ca.Je(b.toString(),f.A(!0),function(c,d){"ok"===c&&a.ka.pc(b,f);Yh(e,c,d)})}
function bi(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(N("onDisconnect().update() called with empty data.  Don't do anything."),Yh(d,"ok")):a.ca.Af(b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var m=K(c[l]);a.ka.pc(b.w(l),m)}Yh(d,e,f)})}function rf(a,b,c){c=".info"===H(b.path)?a.xd.Mb(b,c):a.O.Mb(b,c);Ue(a.ea,b.path,c)}h.vb=function(){this.Qa&&this.Qa.vb()};h.tc=function(){this.Qa&&this.Qa.tc()};
h.We=function(a){if("undefined"!==typeof console){a?(this.Wd||(this.Wd=new zb(this.Ua)),a=this.Wd.get()):a=this.Ua.get();var b=Pa(Ba(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.Xe=function(a){yb(this.Ua,a);this.Pg.Lf[a]=!0};h.f=function(a){var b="";this.Qa&&(b=this.Qa.id+":");N(b,arguments)};
function Yh(a,b,c){a&&Hc(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Y(a,b){this.ad=a;this.qa=b}Y.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length);A("Firebase.onDisconnect().cancel",1,a,!0);this.ad.Fd(this.qa,a||null)};Y.prototype.cancel=Y.prototype.cancel;Y.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length);te("Firebase.onDisconnect().remove",this.qa);A("Firebase.onDisconnect().remove",1,a,!0);$h(this.ad,this.qa,null,a)};Y.prototype.remove=Y.prototype.remove;
Y.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length);te("Firebase.onDisconnect().set",this.qa);me("Firebase.onDisconnect().set",a,this.qa,!1);A("Firebase.onDisconnect().set",2,b,!0);$h(this.ad,this.qa,a,b)};Y.prototype.set=Y.prototype.set;
Y.prototype.Hb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);te("Firebase.onDisconnect().setWithPriority",this.qa);me("Firebase.onDisconnect().setWithPriority",a,this.qa,!1);pe("Firebase.onDisconnect().setWithPriority",2,b);A("Firebase.onDisconnect().setWithPriority",3,c,!0);ai(this.ad,this.qa,a,b,c)};Y.prototype.setWithPriority=Y.prototype.Hb;
Y.prototype.update=function(a,b){y("Firebase.onDisconnect().update",1,2,arguments.length);te("Firebase.onDisconnect().update",this.qa);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oe("Firebase.onDisconnect().update",a,this.qa);A("Firebase.onDisconnect().update",2,b,!0);
bi(this.ad,this.qa,a,b)};Y.prototype.update=Y.prototype.update;function ci(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new U(a,b);g.Bb("value",f);c={path:b,update:c,K:d,status:null,Df:lc(),he:e,If:0,de:function(){g.ic("value",f)},fe:null,wa:null,Qb:null,Rb:null,Sb:null};d=a.O.va(b,void 0,!0)||E;c.Qb=d;d=c.update(d.A());if(n(d)){ne("transaction failed: Data returned ",d,c.path);c.status=1;e=ce(a.Jb,b);var k=e.xa()||[];k.push(c);de(e,k);"object"===typeof d&&null!==d&&v(d,".priority")?(k=w(d,".priority"),I(le(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.O.va(b)||E).B().A();e=Vh(a);d=K(d,k);e=Wb(d,e);c.Rb=d;c.Sb=e;c.wa=a.Dd++;c=Sf(a.O,b,e,c.wa,c.he);We(a.ea,b,c);di(a)}else c.de(),c.Rb=null,c.Sb=null,c.K&&(a=new R(c.Qb,new U(a,c.path),L),c.K(null,!1,a))}
function di(a,b){var c=b||a.Jb;b||(ei(a,c),N("sendReadyTransactions_: root"),fi(a));if(null!==c.xa()){var d=gi(a,c);I(0<d.length,"Sending zero length transaction queue");Qa(d,function(a){return 1===a.status})&&(N("sendReadyTransactions_: sending at "+c.path().toString()),hi(a,c.path(),d))}else c.rd()&&c.U(function(b){di(a,b)})}function fi(a){var b={};fe(a.Jb,function(a){var d=a.xa();d&&(b[a.path().toString()]=ii(d))},!0);N("Transaction queues:",b)}
function ii(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push({status:d.status,applyLocally:d.he,writeId:d.wa,inputSnapshot:d.Qb&&d.Qb.A(!0),outputSnapshotRaw:d.Rb&&d.Rb.A(!0),outputSnapshotResolved:d.Sb&&d.Sb.A(!0)})}return b}
function hi(a,b,c){N("sendTransactionQueue_(path=",b.toString()," queue=",ii(c),")");var d=Oa(c,function(a){return a.wa}),e=a.O.va(b,d,!0)||E;N("sendTransactionQueue_: setsToIgnore=",d,"latestState=",e.A(!0));for(var d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];I(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.If++;var k=G(b,g.path),d=d.H(k,g.Rb)}d=d.A(!0);a.ca.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=
[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(Vf(a.O,c[f].wa));if(c[f].K){var g=c[f].Sb,k=new U(a,c[f].path);d.push(q(c[f].K,null,null,!0,new R(g,k,L)))}c[f].de()}ei(a,ce(a.Jb,b));di(a);We(a.ea,b,e);for(f=0;f<d.length;f++)Hc(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].fe=d;Wh(a,b)}},e)}
function Wh(a,b){var c=ji(a,b),d=c.path(),c=gi(a,c);ki(a,c,d);return d}
function ki(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Oa(b,function(a){return a.wa}),g=0;g<b.length;g++){var k=b[g],l=G(c,k.path),m=!1,t;I(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)m=!0,t=k.fe,e=e.concat(Vf(a.O,k.wa,!0));else if(1===k.status)if(25<=k.If)m=!0,t="maxretry",e=e.concat(Vf(a.O,k.wa,!0));else{var x=a.O.va(k.path,f,!0)||E;k.Qb=x;var J=b[g].update(x.A());n(J)?(ne("transaction failed: Data returned ",J,k.path),l=K(J),"object"===typeof J&&null!=
J&&v(J,".priority")||(l=l.da(x.B())),x=k.wa,J=Vh(a),J=Wb(l,J),k.Rb=l,k.Sb=J,k.wa=a.Dd++,Ta(f,x),e=e.concat(Sf(a.O,k.path,J,k.wa,k.he)),e=e.concat(Vf(a.O,x,!0))):(m=!0,t="nodata",e=e.concat(Vf(a.O,k.wa,!0)))}We(a.ea,c,e);e=[];m&&(b[g].status=3,setTimeout(b[g].de,Math.floor(0)),b[g].K&&("nodata"===t?(k=new U(a,b[g].path),d.push(q(b[g].K,null,null,!1,new R(b[g].Qb,k,L)))):d.push(q(b[g].K,null,Error(t),!1,null))))}ei(a,a.Jb);for(g=0;g<d.length;g++)Hc(d[g]);di(a)}}
function ji(a,b){for(var c,d=a.Jb;null!==(c=H(b))&&null===d.xa();)d=ce(d,c),b=B(b);return d}function gi(a,b){var c=[];li(a,b,c);c.sort(function(a,b){return a.Df-b.Df});return c}function li(a,b,c){var d=b.xa();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.U(function(b){li(a,b,c)})}function ei(a,b){var c=b.xa();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;de(b,0<c.length?c:null)}b.U(function(b){ei(a,b)})}
function Zh(a,b){var c=ji(a,b).path(),d=ce(a.Jb,b);ge(d,function(b){mi(a,b)});mi(a,d);fe(d,function(b){mi(a,b)});return c}
function mi(a,b){var c=b.xa();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(I(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].fe="set"):(I(1===c[g].status,"Unexpected transaction status in abort"),c[g].de(),e=e.concat(Vf(a.O,c[g].wa,!0)),c[g].K&&d.push(q(c[g].K,null,Error("set"),!1,null))));-1===f?de(b,null):c.length=f+1;We(a.ea,b.path(),e);for(g=0;g<d.length;g++)Hc(d[g])}};function Z(){this.qc={};this.Of=!1}ca(Z);Z.prototype.vb=function(){for(var a in this.qc)this.qc[a].vb()};Z.prototype.interrupt=Z.prototype.vb;Z.prototype.tc=function(){for(var a in this.qc)this.qc[a].tc()};Z.prototype.resume=Z.prototype.tc;Z.prototype.re=function(){this.Of=!0};function U(a,b){var c,d,e;if(a instanceof Sh)c=a,d=b;else{y("new Firebase",1,2,arguments.length);d=xc(arguments[0]);c=d.Qg;"firebase"===d.domain&&wc(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||wc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.ib||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new Kb(d.host,d.ib,c,"ws"===d.scheme||"wss"===d.scheme);d=new F(d.mc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!ke(c.zb))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(p(e)&&0!==e.length&&!ie.test(e)));if(f)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof Z)e=b;else if(p(b))e=Z.rb(),c.Kd=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=Z.rb();f=c.toString();var g=w(e.qc,f);g||(g=new Sh(c,e.Of),e.qc[f]=g);c=g}T.call(this,c,d,jf,!1)}ma(U,T);var ni=U,oi=["Firebase"],pi=aa;oi[0]in pi||!pi.execScript||pi.execScript("var "+oi[0]);for(var qi;oi.length&&(qi=oi.shift());)!oi.length&&n(ni)?pi[qi]=ni:pi=pi[qi]?pi[qi]:pi[qi]={};module.exports=U;U.prototype.name=function(){O("Firebase.name() being deprecated. Please use Firebase.key() instead.");y("Firebase.name",0,0,arguments.length);return this.key()};U.prototype.name=U.prototype.name;
U.prototype.key=function(){y("Firebase.key",0,0,arguments.length);return this.path.e()?null:Nb(this.path)};U.prototype.key=U.prototype.key;U.prototype.w=function(a){y("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof F))if(null===H(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));se("Firebase.child",b)}else se("Firebase.child",a);return new U(this.k,this.path.w(a))};U.prototype.child=U.prototype.w;
U.prototype.parent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.k,a)};U.prototype.parent=U.prototype.parent;U.prototype.root=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};U.prototype.root=U.prototype.root;
U.prototype.set=function(a,b){y("Firebase.set",1,2,arguments.length);te("Firebase.set",this.path);me("Firebase.set",a,this.path,!1);A("Firebase.set",2,b,!0);this.k.Hb(this.path,a,null,b||null)};U.prototype.set=U.prototype.set;
U.prototype.update=function(a,b){y("Firebase.update",1,2,arguments.length);te("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oe("Firebase.update",a,this.path);A("Firebase.update",2,b,!0);this.k.update(this.path,a,b||null)};U.prototype.update=U.prototype.update;
U.prototype.Hb=function(a,b,c){y("Firebase.setWithPriority",2,3,arguments.length);te("Firebase.setWithPriority",this.path);me("Firebase.setWithPriority",a,this.path,!1);pe("Firebase.setWithPriority",2,b);A("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Hb(this.path,a,b,c||null)};U.prototype.setWithPriority=U.prototype.Hb;
U.prototype.remove=function(a){y("Firebase.remove",0,1,arguments.length);te("Firebase.remove",this.path);A("Firebase.remove",1,a,!0);this.set(null,a)};U.prototype.remove=U.prototype.remove;
U.prototype.transaction=function(a,b,c){y("Firebase.transaction",1,3,arguments.length);te("Firebase.transaction",this.path);A("Firebase.transaction",1,a,!1);A("Firebase.transaction",2,b,!0);if(n(c)&&"boolean"!=typeof c)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);ci(this.k,this.path,a,b||null,c)};U.prototype.transaction=U.prototype.transaction;
U.prototype.Lg=function(a,b){y("Firebase.setPriority",1,2,arguments.length);te("Firebase.setPriority",this.path);pe("Firebase.setPriority",1,a);A("Firebase.setPriority",2,b,!0);this.k.Hb(this.path.w(".priority"),a,null,b)};U.prototype.setPriority=U.prototype.Lg;
U.prototype.push=function(a,b){y("Firebase.push",0,2,arguments.length);te("Firebase.push",this.path);me("Firebase.push",a,this.path,!0);A("Firebase.push",2,b,!0);var c=Uh(this.k),c=Zd(c),c=this.w(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};U.prototype.push=U.prototype.push;U.prototype.gb=function(){te("Firebase.onDisconnect",this.path);return new Y(this.k,this.path)};U.prototype.onDisconnect=U.prototype.gb;
U.prototype.P=function(a,b,c){O("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");y("Firebase.auth",1,3,arguments.length);ue("Firebase.auth",a);A("Firebase.auth",2,b,!0);A("Firebase.auth",3,b,!0);Og(this.k.P,a,{},{remember:"none"},b,c)};U.prototype.auth=U.prototype.P;U.prototype.ce=function(a){y("Firebase.unauth",0,1,arguments.length);A("Firebase.unauth",1,a,!0);Pg(this.k.P,a)};U.prototype.unauth=U.prototype.ce;
U.prototype.te=function(){y("Firebase.getAuth",0,0,arguments.length);return this.k.P.te()};U.prototype.getAuth=U.prototype.te;U.prototype.sg=function(a,b){y("Firebase.onAuth",1,2,arguments.length);A("Firebase.onAuth",1,a,!1);kb("Firebase.onAuth",2,b);this.k.P.Bb("auth_status",a,b)};U.prototype.onAuth=U.prototype.sg;U.prototype.rg=function(a,b){y("Firebase.offAuth",1,2,arguments.length);A("Firebase.offAuth",1,a,!1);kb("Firebase.offAuth",2,b);this.k.P.ic("auth_status",a,b)};U.prototype.offAuth=U.prototype.rg;
U.prototype.Vf=function(a,b,c){y("Firebase.authWithCustomToken",2,3,arguments.length);ue("Firebase.authWithCustomToken",a);A("Firebase.authWithCustomToken",2,b,!1);xe("Firebase.authWithCustomToken",3,c,!0);Og(this.k.P,a,{},c||{},b)};U.prototype.authWithCustomToken=U.prototype.Vf;U.prototype.Wf=function(a,b,c){y("Firebase.authWithOAuthPopup",2,3,arguments.length);we("Firebase.authWithOAuthPopup",a);A("Firebase.authWithOAuthPopup",2,b,!1);xe("Firebase.authWithOAuthPopup",3,c,!0);Tg(this.k.P,a,c,b)};
U.prototype.authWithOAuthPopup=U.prototype.Wf;U.prototype.Xf=function(a,b,c){y("Firebase.authWithOAuthRedirect",2,3,arguments.length);we("Firebase.authWithOAuthRedirect",a);A("Firebase.authWithOAuthRedirect",2,b,!1);xe("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.k.P;Rg(d);var e=[zg],f=og(c);"anonymous"===a||"firebase"===a?P(b,V("TRANSPORT_UNAVAILABLE")):(Jb.set("redirect_client_options",f.md),Sg(d,e,"/auth/"+a,f,b))};U.prototype.authWithOAuthRedirect=U.prototype.Xf;
U.prototype.Yf=function(a,b,c,d){y("Firebase.authWithOAuthToken",3,4,arguments.length);we("Firebase.authWithOAuthToken",a);A("Firebase.authWithOAuthToken",3,c,!1);xe("Firebase.authWithOAuthToken",4,d,!0);p(b)?(ve("Firebase.authWithOAuthToken",2,b),Qg(this.k.P,a+"/token",{access_token:b},d,c)):(xe("Firebase.authWithOAuthToken",2,b,!1),Qg(this.k.P,a+"/token",b,d,c))};U.prototype.authWithOAuthToken=U.prototype.Yf;
U.prototype.Uf=function(a,b){y("Firebase.authAnonymously",1,2,arguments.length);A("Firebase.authAnonymously",1,a,!1);xe("Firebase.authAnonymously",2,b,!0);Qg(this.k.P,"anonymous",{},b,a)};U.prototype.authAnonymously=U.prototype.Uf;
U.prototype.Zf=function(a,b,c){y("Firebase.authWithPassword",2,3,arguments.length);xe("Firebase.authWithPassword",1,a,!1);ye("Firebase.authWithPassword",a,"email");ye("Firebase.authWithPassword",a,"password");A("Firebase.authWithPassword",2,b,!1);xe("Firebase.authWithPassword",3,c,!0);Qg(this.k.P,"password",a,c,b)};U.prototype.authWithPassword=U.prototype.Zf;
U.prototype.oe=function(a,b){y("Firebase.createUser",2,2,arguments.length);xe("Firebase.createUser",1,a,!1);ye("Firebase.createUser",a,"email");ye("Firebase.createUser",a,"password");A("Firebase.createUser",2,b,!1);this.k.P.oe(a,b)};U.prototype.createUser=U.prototype.oe;U.prototype.Qe=function(a,b){y("Firebase.removeUser",2,2,arguments.length);xe("Firebase.removeUser",1,a,!1);ye("Firebase.removeUser",a,"email");ye("Firebase.removeUser",a,"password");A("Firebase.removeUser",2,b,!1);this.k.P.Qe(a,b)};
U.prototype.removeUser=U.prototype.Qe;U.prototype.le=function(a,b){y("Firebase.changePassword",2,2,arguments.length);xe("Firebase.changePassword",1,a,!1);ye("Firebase.changePassword",a,"email");ye("Firebase.changePassword",a,"oldPassword");ye("Firebase.changePassword",a,"newPassword");A("Firebase.changePassword",2,b,!1);this.k.P.le(a,b)};U.prototype.changePassword=U.prototype.le;
U.prototype.ke=function(a,b){y("Firebase.changeEmail",2,2,arguments.length);xe("Firebase.changeEmail",1,a,!1);ye("Firebase.changeEmail",a,"oldEmail");ye("Firebase.changeEmail",a,"newEmail");ye("Firebase.changeEmail",a,"password");A("Firebase.changeEmail",2,b,!1);this.k.P.ke(a,b)};U.prototype.changeEmail=U.prototype.ke;
U.prototype.Se=function(a,b){y("Firebase.resetPassword",2,2,arguments.length);xe("Firebase.resetPassword",1,a,!1);ye("Firebase.resetPassword",a,"email");A("Firebase.resetPassword",2,b,!1);this.k.P.Se(a,b)};U.prototype.resetPassword=U.prototype.Se;U.goOffline=function(){y("Firebase.goOffline",0,0,arguments.length);Z.rb().vb()};U.goOnline=function(){y("Firebase.goOnline",0,0,arguments.length);Z.rb().tc()};
function tc(a,b){I(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?rc=q(console.log,console):"object"===typeof console.log&&(rc=function(a){console.log(a)})),b&&Jb.set("logging_enabled",!0)):a?rc=a:(rc=null,Jb.remove("logging_enabled"))}U.enableLogging=tc;U.ServerValue={TIMESTAMP:{".sv":"timestamp"}};U.SDK_VERSION="0.0.0";U.INTERNAL=W;U.Context=Z;U.TEST_ACCESS=X;

